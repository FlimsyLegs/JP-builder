<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>Jessica&#39;s Plight</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.36.1): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url('data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=') format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0\00a0"}[data-icon-after]:after{content:"\00a0\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor:after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}@media (prefers-reduced-motion:reduce){#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay:not(.open){-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="Jessica&#39;s Plight" startnode="1" creator="Twine" creator-version="2.5.1" format="SugarCube" format-version="2.36.1" ifid="609F21FD-DD7D-4639-9691-A6B378519300" options="" tags="" zoom="0.6" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">:root {
    --jp_image_display_value: flex;
    --c_boss: #7022c8;
    --c_man: #000ed9;
    --c_amber: #248f24;
    --c_lily: #0039e6;
    --c_monica: #025d5d;
    --c_daniel: #248f24;
    --c_steve: #0039e6;
    --c_william: #025d5d;
    --c_jessica: #ee3d3d;
    --c_ui_background_color: #8B8888;
    --c_body_background_color: #F0EFEF;
    --c_title: #4fd9ff;
    --c_link: #fe4d4d;
    --c_hover: #CB0000;
    --c_passage: black;
}

.center {
  margin-left: auto;
  margin-right: auto;
  width: 65%;
  display: var(--jp_image_display_value);
}

.center-small {
  margin-left: auto;
  margin-right: auto;
  width: 40%;
  display: var(--jp_image_display_value);
}

.bold {
  font-weight: bold;
} 

.boss {
  color: var(--c_boss);
} 

.man {
  color: var(--c_man);
} 

.amber {
  color: var(--c_amber);
} 

.lily {
  color: var(--c_lily);
} 

.monica {
  color: var(--c_monica);
} 

.daniel {
  color: var(--c_daniel);
} 

.steve {
  color: var(--c_steve);
} 

.william {
  color: var(--c_william);
} 

.jessica {
  color: var(--c_jessica);
}

body {
  background-color: var(--c_body_background_color);
}

a {
	color: var(--c_link);
    font-family: Verdana;
    font-weight: bold;
}

a.visited {
	color: var(--c_link);
}

a:hover {
    color: var(--c_hover);
    text-decoration: none;
}

a.visited:hover {
	color: var(--c_hover);
    text-decoration: none;
}

.passage {
  background-color: var(--c_body_background_color);
  color: var(--c_passage);
  font-size: 120%;
  font-family: Verdana;
  line-height: 1.5;
}

#passages {
	max-width: 66em !important;
}

#menu {
  color: var(--c_title) !important;
  font-family: Verdana !important;  
}

#menu ul {
  font-size: 14px;
}

#story-title {
  color: var(--c_title);
  font-family: Verdana;
}

#ui-bar {
    background-color: var(--c_ui_background_color);
	max-width: 12em !important;
}

#ui-bar-history {
  background-color: var(--c_ui_background_color);
}

#ui-bar-body {
  background-color: var(--c_ui_background_color);
}

#ui-bar.stowed {
	left: -10em !important;
}

#story {
	margin-left: 0;
	margin-right: 0;
    margin-top: 0;
}

.chapterTitle {
  font-family: Georgia;
  margin: auto;
  text-align: center;
}

hr.clear {
  clear: both;
  border: 0;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">if (typeof JessicasPlight2 == "undefined") {
	var JessicasPlight2 = {
        toggleImages: function(visible) {
          if(visible == "true")
          {
            console.log("JP.toggleImages() called - showing images");
            document.documentElement.style.setProperty('--jp_image_display_value', 'flex');
          }
          else
          {
            console.log("JP.toggleImages() called - hiding images");
            document.documentElement.style.setProperty('--jp_image_display_value', 'none');
          }
		}
	};
	
	window.JessicasPlight2 = JessicasPlight2;
}

if (typeof AnimusNonGrata == "undefined") {
	var AnimusNonGrata = {
        toggleDayNightMode: function(day) {
          if(day == "false")
          {
            console.log("AnimusNonGrata.toggleDayNightMode() called - night mode enabled");
            
            document.documentElement.style.setProperty('--c_boss', '#99fffd');
            document.documentElement.style.setProperty('--c_man', '#a0a8ff');
         	document.documentElement.style.setProperty('--c_amber', '#248f24');
            document.documentElement.style.setProperty('--c_lily', '#80ffa2');
            document.documentElement.style.setProperty('--c_monica', '#429d9d');
            document.documentElement.style.setProperty('--c_daniel', '#248f24');
            document.documentElement.style.setProperty('--c_steve', '#6099e6');
            document.documentElement.style.setProperty('--c_william', '#ffd466');
            document.documentElement.style.setProperty('--c_jessica', '#f7a1a1');

            document.documentElement.style.setProperty('--c_ui_background_color', '#333b3b');
            document.documentElement.style.setProperty('--c_body_background_color', '#292424');
            document.documentElement.style.setProperty('--c_title', '#4fd9ff');
            document.documentElement.style.setProperty('--c_link', '#ffb3b3');
            document.documentElement.style.setProperty('--c_hover', '#ff1a1a');
            document.documentElement.style.setProperty('--c_passage', '#cfc9c9');
          }
          else
          {
            console.log("AnimusNonGrata.toggleDayNightMode() called - day mode enabled");

            document.documentElement.style.setProperty('--c_boss', '#7022c8');
            document.documentElement.style.setProperty('--c_man', '#000ed9');
         	document.documentElement.style.setProperty('--c_amber', '#248f24');
            document.documentElement.style.setProperty('--c_lily', '#0039e6');
            document.documentElement.style.setProperty('--c_monica', '#025d5d');
            document.documentElement.style.setProperty('--c_daniel', '#248f24');
            document.documentElement.style.setProperty('--c_steve', '#0039e6');
            document.documentElement.style.setProperty('--c_william', '#025d5d');
            document.documentElement.style.setProperty('--c_jessica', '#ee3d3d');
           
            
            document.documentElement.style.setProperty('--c_ui_background_color', '#8B8888');
            document.documentElement.style.setProperty('--c_body_background_color', '#EBE8E8');
            document.documentElement.style.setProperty('--c_title', '#4fd9ff');
            document.documentElement.style.setProperty('--c_link', '#fe4d4d');
            document.documentElement.style.setProperty('--c_hover', '#CB0000');
            document.documentElement.style.setProperty('--c_passage', 'black');
          }
		}
	};
	
	window.AnimusNonGrata = AnimusNonGrata;
}


</script><tw-tag name="REFUSAL_CHOICE" color="red"></tw-tag><tw-tag name="REFUSAL" color="red"></tw-tag><tw-tag name="REFUSAL_NEGATIVE" color="green"></tw-tag><tw-tag name="ENDING" color="yellow"></tw-tag><tw-tag name="ROCK" color="green"></tw-tag><tw-tag name="DOOR" color="red"></tw-tag><tw-tag name="WINDOW" color="blue"></tw-tag><tw-tag name="MUSIC_CHANGE" color="purple"></tw-tag><tw-tag name="APPROVAL_+/-" color="red"></tw-tag><tw-passagedata pid="1" name="Start" tags="MUSIC_CHANGE" position="1200,150" size="100,100">&lt;&lt;audio $music_track volume $music_volume loop play&gt;&gt;&lt;script&gt;
window.JessicasPlight2.toggleImages(&quot;true&quot;);
&lt;/script&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/cover.png&quot;&gt;
&lt;h1&gt;Jessica&#39;s Plight v3.1.3&lt;/h1&gt;
This work of fiction is an adult game, aimed for an adult audience and includes explicit text and graphics. The characters depicted in this story are fictional and have no real-world counter-parts or inspirations.

The events and scenes in this interactive novel can be disturbing for some viewers.

This game features hardcore bondage and bdsm, sexism, slavery, sexual scenes, foul language and death. This work of fiction does not reflect the personal beliefs or thoughts of the creator. The creator of this work of fiction does not condone the language, actions and situations depicted in this work of fiction. This work of fiction is meant to be purely enjoyed as fiction.

You can toggle &lt;span class=&quot;bold&quot;&gt;images on/off&lt;/span&gt; in the Config Menu on the left. (default: on)
You can toggle &lt;span class=&quot;bold&quot;&gt;night mode on/off&lt;/span&gt; in the Config Menu on the left. (default: off)
You can also adjust the difficulty of chapter 2 in the Config Menu. (default: easy)

Credits and huge thanks for the amazing music goes entirely to &lt;span class=&quot;bold&quot;&gt;Abstraction&lt;/span&gt;: http://abstractionmusic.bandcamp.com/ . Check out his music if you like what you hear!

&lt;span class=&quot;bold&quot;&gt;Before you begin: Do you hear the music?&lt;/span&gt; If not, your browser may be blocking it. Check the url-bar of your browser, there&#39;s probably a mute button to the left of the url. Click it and allow audio for the game to fix the issue.

Please confirm that you understand, want to proceed and that you&#39;re at least 18 years old.
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jp_show_images to true&gt;&gt;
&lt;&lt;set $triedLeavingBathroom to false&gt;&gt;
&lt;&lt;set $previousPassage to &quot;&quot;&gt;&gt;
&lt;&lt;set $refusals to 0&gt;&gt;
&lt;&lt;set $shavedHead to false&gt;&gt;
&lt;&lt;set $trainingIncomplete to true&gt;&gt;
&lt;&lt;set $jp_show_images to true&gt;&gt;
&lt;&lt;set $jp_enable_sidebar to false&gt;&gt;
&lt;&lt;set $explore to false&gt;&gt;
&lt;&lt;set $explore_body to false&gt;&gt;
&lt;&lt;set $listen to false&gt;&gt;
&lt;&lt;set $time to 0&gt;&gt;
&lt;&lt;set $found_rock to false&gt;&gt;
&lt;&lt;set $jp_chapter2_easy_mode to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;
[[I want to proceed and I am 18 years old or older|I want to proceed and I am 18 years old or older]]

[[I don&#39;t want to proceed / I&#39;m younger than 18 years old]]

[[View Credits]]</tw-passagedata><tw-passagedata pid="2" name="Go to the bathroom and cry" tags="" position="1400,700" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/003_BATHROOM.png&quot;&gt;
You walk to the bathroom. The office is silent, everyone has left the building hours ago to celebrate the holidays. Work will resume after the new year&#39;s, in about 10 days time. You have until then to fix the pile of work on your desk, or get fired... You open the bathroom door and lock yourself into the first empty stall.

[[Cry]] </tw-passagedata><tw-passagedata pid="3" name="Drink some water and continue working as best you can" tags="" position="1400,550" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/002_MUG.png&quot;&gt;
You&#39;re thirsty. You fill your huge &quot;Think Big&quot; coffee mug to the brim with cool tap-water, return to your desk and continue working on the pile of papers in front of you...

A few hours later you&#39;re exhausted, having accomplished almost nothing... Again you despair at your situation. You can feel tears welling up in your eyes...

[[Go to the bathroom and cry]]</tw-passagedata><tw-passagedata pid="4" name="Cry" tags="" position="1400,825" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/004_LISTEN.png&quot;&gt;
You spent almost half an hour sobbing on the toilet. Your mind is razing. You know your boss will likely fire you the first thing after new year&#39;s. You don&#39;t have any backup funds to keep your apartment for even a month if that happens. You&#39;ll be out on the streets, homeless, jobless.

You wipe the tears from your eyes and breath calmly.

The unfairness of the situation is frustrating. You don&#39;t have a boyfriend who you could live with and you definitely do not want to ask your family for help either. You&#39;re already seen as failure in your family, you definitely do not want to give more reasons for them to ridicule you.

Your hands absentmindendly reach for your purse... Ah, you must&#39;ve forgotten it at your desk. No scrolling the phone for you. You&#39;re about to stand up, when suddenly,  you hear footsteps in the hallway. The janitor? The cleaners? Someone&#39;s dragging something heavy around. The door the the bathroom opens and someone walks in dragging something heavy. The last thing you want is for someone to see that you&#39;ve cried and laugh at you... You decide to...

[[Stay quiet and wait for them to leave]]</tw-passagedata><tw-passagedata pid="5" name="Stay quiet and wait for them to leave" tags="" position="1400,950" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/005_MAN_PANTS.png&quot;&gt;
You hear heavy footsteps outside your stall. They are doing something on the other side, in your ears it sounds like maintenance work. The janitor? Your sit quietly, hoping they&#39;ll go away and leave you alone with your thoughts.

Eventually, they finish their task. They open the stall next to yours and drag something inside. It is now that you notice a hole, roughly twice as large in size as tennisball in the wall of your stall, at about your eye-height from your sitting position. The wall between the stalls is solid, like all the walls and the door as well, but they are thin: Your guess is that the walls are slightly thinner than an inch.

You can see into the stall next to you. You can see the crotch of a pair of fine suit pants - a man&#39;s pants and that&#39;s no janitor&#39;s outfit! You decide to...

[[Stay quiet as a mouse]]

[[Announce your presence by clearing your throat]]</tw-passagedata><tw-passagedata pid="6" name="Stay quiet as a mouse" tags="" position="1400,1075" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/006_LETTER.png&quot;&gt;
You do your best to stay quiet, but it&#39;s clear the man knows you&#39;re in the stall next to him. How?? He slips a paper to you underneath the stall...

[[Read it]]</tw-passagedata><tw-passagedata pid="7" name="Announce your presence by clearing your throat" tags="" position="1525,1075" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/006_LETTER.png&quot;&gt;
The man doesn&#39;t seem surprise to hear you in the stall next to his. He slips a paper to you underneath the stall...

[[Read it]]</tw-passagedata><tw-passagedata pid="8" name="Read it" tags="MUSIC_CHANGE" position="1525,1200" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/007_LETTER.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;//I know you&#39;re in there Jessica. I&#39;ve been following your situation closely here at work, and I have a proposal for you. I can help your with your workload and put a good word about you to the boss. I only ask for a small favor. Interested?//&lt;/span&gt;

Your heart is racing and your mind is a blur of thoughts. Your first reaction is to...

[[Ask him who he is]]

[[After a thoughtful silence, your shaky voice manages to ask weakly &quot;What kind of favor...&quot;]]</tw-passagedata><tw-passagedata pid="9" name="After a thoughtful silence, your shaky voice manages to ask weakly &quot;What kind of favor...&quot;" tags="" position="1400,1300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/005_MAN_PANTS.png&quot;&gt;
You ask him what kind of favor he means... The man replies:

&lt;span class=&quot;man&quot;&gt;&quot;I will help you with your work and even put in a good word for the boss. All I want in return is for you to obey all my instructions this evening. Refusal will be met with punishment. Don&#39;t worry - all harmless fun, I assure you.&quot;&lt;/span&gt;

So, the man wants to take advantage of a woman in a troubled situation to get his way. You have a feeling you know where this is going. You weigh your options. The man&#39;s deal will for sure let you keep your job and finish all the work your boss has set to you, ensuring the company doesn&#39;t sue you for costing the company a ton of money... but at what price?

[[Tentatively, you say: &quot;Deal&quot;|Before take off your shoes]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Disturbed, you say: &quot;No deal&quot; and storm out of the bathroom!|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $triedLeavingBathroom to false&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Defeated, you say: \&quot;Deal\&quot;&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Before take off your shoes&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="10" name="Refuse kissing his cock" tags="" position="2250,2750" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/013_ERECT.png&quot;&gt;
You refuse to kiss it. Giving a handjob is enough in your opinion, you won&#39;t disgrace yourself any further.

&lt;span class=&quot;man&quot;&gt;&quot;Kiss it, then take it in your mouth, slut.&quot;&lt;/span&gt; his commanding voice beckons from the other side. You&#39;re startled. Your heart skips a beat. Something about being called slut fills you with equal parts anger and arousal.&lt;&lt;if $triedLeavingBathroom is true&gt;&gt;If you want his help, you will need to comply... And it&#39;s not like you can prevent him from entering the stall if he wants to... As much as it disgusts you, a survival instinct of sorts kicks in.&lt;&lt;/if&gt;&gt; You..

[[Comply - you give his cock a kiss then take it in your mouth]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Refuse - storm out of the bathroom|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Tentatively comply - you give his cock a kiss then take it in your mouth&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Comply - you give his cock a kiss then take it in your mouth&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="11" name="Kiss his cock gingerly" tags="" position="2000,2700" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/015_KISS.png&quot;&gt;
Your cheeks are flushing. His majestic member is staring you in your face. You breathe deep breaths. You kiss the tip of his cock.

It tastes quite neutral, almost as if he&#39;s cleaned it just moments before. Cheeky bastard! He know you would agree to this! You give it another kiss and continue stroking with your right hand.

&lt;span class=&quot;man&quot;&gt;&quot;Now suck it.&quot;&lt;/span&gt; He instructs.

&lt;&lt;if $triedLeavingBathroom is true&gt;&gt; You weight your options. Having come to this point, as much as it frightens you, you really do not have much of a choice other than to comply with the man&#39;s requests. No-one is coming here for many days, and you have no means of escaping. But more importantly, you&#39;re really freightened by the thought of him entering your bathroom stall: there&#39;s no telling what he&#39;ll do to you if you outright refuse him. Thus, the only thing that you can do, is to obey the man and hope he lives up to his end of the bargain.&lt;&lt;/if&gt;&gt;

[[Comply - you give his cock a kiss then take it in your mouth]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[He&#39;s crossed a line - this you will not do. You loosen your grip on his dick and storm out of the bathroom.|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Tentatively comply - take his cock in your mouth&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Comply - you give his cock a kiss then take it in your mouth&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="12" name="Comply - you give his cock a kiss then take it in your mouth" tags="" position="1925,2850" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/016_BLOWJOB.png&quot;&gt;
You start at the sensitive underside of his cock, right under the head. You give that area some licks, then tease him with some long slow licks up and down the shaft.

You can feel his cock tensing. You put your lips around the whole head of his cock and start to gently suck him off. You fondle his balls and caress the root of his shaft in your hands.

You take it in your mouth a few times, only two inches deep. He grunts with appreciation. You then slowly lower your mouth over half of the length of his organ, getting it deep enough inside your mouth to trigger a small gag reflect. His cock throbs against the back of your throat. You can feel his heat, his lust. Before you can continue, he pulls his cock away from the hole.

&lt;span class=&quot;man&quot;&gt;&quot;Good, you really are a good slut aren&#39;t you?&quot;&lt;/span&gt; he tells you. You&#39;re still sitting on the toilet seat, having just sucked a possible co-worker&#39;s cock. You blush again but can&#39;t deny your arousal. You feel a wetness building in your panties as your body reacts to the heat of the moment.

Before you can say anything, an object slips underneath the stall to your side. You look at it shocked - a leather collar with a lock!

&lt;span class=&quot;man&quot;&gt;&quot;Put it on.&quot;&lt;/span&gt; his calm but firm voice orders you. Your hands are shaking as you...

[[Grab the collar, study its design.]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Decide to leave before things get ugly - you rush out of the bathroom|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Hesistantly grab the collar and study its design.&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Grab the collar, study its design.&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="13" name="I want to proceed and I am 18 years old or older" tags="" position="1400,150" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_daniel_advice to false&gt;&gt;
&lt;&lt;set $pre_steve_advice to false&gt;&gt;
&lt;&lt;set $pre_fjord_coffee to false&gt;&gt;
&lt;&lt;set $pre_fjord_professional to false&gt;&gt;
&lt;&lt;set $pre_remove_blouse to false&gt;&gt;
&lt;&lt;set $pre_kneel to false&gt;&gt;
&lt;&lt;set $pre_cock to false&gt;&gt;
&lt;&lt;set $pre_sex_william to false&gt;&gt;
&lt;&lt;set $ch3_kidnapped_from_ch3 to false&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/cover.png&quot;&gt;
Jessica&#39;s Plight contains 4 chapters: Prelude, Chapter 1, Chapter 2 and Chapter 3. Depending on your choices, you will skip most of Chapter 1&#39;s content and go straight to Chapter 3, locking yourself out from Chapter 2. At least two playthroughs are needed to see all content in this game.

In this story, you play as Jessica. You are a 23-years old attractive young woman, working at an entry-level job at a big company. For a while now you&#39;ve been struggling to make ends meet, between paying rents, buying expensive representative clothing for your work and paying off your student debt.

Today, a big client is in town, and it is your responsibility to land the deal...

[[Start the story]]</tw-passagedata><tw-passagedata pid="14" name="I don&#39;t want to proceed / I&#39;m younger than 18 years old" tags="" position="925,25" size="100,100">Thank you. To delete the game (if you downloaded it) simply remove the .html file and the img directory that is alongside the .html file from your computer.</tw-passagedata><tw-passagedata pid="15" name="Grab the collar, study its design." tags="" position="1875,3025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/017_COLLAR.png&quot;&gt;
Your shaking hands grab the collar. It&#39;s made of leather that will not break easily. It has a lock which doesn&#39;t require a key to lock, but does require one to open. It looks solid. You know that if you slip it on, only he can open it.

You slip the collar around your neck and hesitate. Your hands are grabbing the cool metal lock, waiting for the final click.

&lt;&lt;if $triedLeavingBathroom is true&gt;&gt;You weight your options. Having come to this point, as much as it frightens you, you really do not have much of a choice other than to comply with the man&#39;s requests. No-one is coming here for many days, and you have no means of escaping. But more importantly, you&#39;re really freightened by the thought of him entering your bathroom stall: there&#39;s no telling what he&#39;ll do to you if you outright refuse him. Thus, the only thing that you can do, is to obey the man and hope he lives up to his end of the bargain.&lt;&lt;/if&gt;&gt;

You..

[[With a soft clicking sound, you lock the collar around your neck.]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Decide you&#39;ve had enough. You take the collar off and storm out of the bathroom.|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Tentatively, with a soft clicking sound, you lock the collar around your neck.&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;With a soft clicking sound, you lock the collar around your neck.&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;
</tw-passagedata><tw-passagedata pid="16" name="With a soft clicking sound, you lock the collar around your neck." tags="" position="1775,3175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/017_COLLAR.png&quot;&gt;
The collar is now firmly locked around your neck - you won&#39;t be able to remove it even if you wanted. Something about being treated as an animal, or slave, fills you with fear, but a spark of excitement has somehow awoken deep within you.

The man hums in approval. &lt;span class=&quot;man&quot;&gt;&quot;Good girl.&quot;&lt;/span&gt; he says. You feel your cheeks are flushing red.

[[Wait for his next command|wait for next after collar lock]]</tw-passagedata><tw-passagedata pid="17" name="Take off your shoes" tags="MUSIC_CHANGE" position="1750,1375" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;Sitting in the toilet-seat, you bend over to remove your high-heels that you always wear at work. After all, got to look representable. You&#39;re wearing black stocking underneath that now touch the cool bathroom floor.

&lt;span class=&quot;jessica&quot;&gt;&quot;Done.&quot;&lt;/span&gt; you reply.
&lt;span class=&quot;man&quot;&gt;&quot;Push them over to my stall.&quot;&lt;/span&gt; he replies.

His words throw yet another curveball at you. Your breath quickens as your mind processed his request... Or rather, command. You can&#39;t help but ask &lt;span class=&quot;jessica&quot;&gt;&quot;You&#39;ll give them back, right?&quot;&lt;/span&gt;. He replies: &lt;span class=&quot;man&quot;&gt;&quot;Of course, this is all just harmless fun.&quot;&lt;/span&gt;

You think for a while. Are you willing to go down this route? Eventually, he impatiently murmurs&lt;span class=&quot;man&quot;&gt; &quot;Well...?&quot;&lt;/span&gt;

You decide to...

[[Comply - push your shoes underneath the stall to his side]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Grab your shoes and run out of the bathroom|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Tentatively comply - push your shoes underneath the stall to his side&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Comply - push your shoes underneath the stall to his side&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="18" name="Comply - push your shoes underneath the stall to his side" tags="" position="1900,1425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/020_HEELS.png&quot;&gt;
You can see a black-leather gloved hand grab your shoes as you push them to the other side and you hear him placing them in a bag. You gulp. You&#39;re beginning to feel like you&#39;re getting deep into trouble.

&lt;span class=&quot;man&quot;&gt;&quot;Your submissiveness pleases me.&quot;&lt;/span&gt; he says. Before you can answer he continues. &lt;span class=&quot;man&quot;&gt;&quot;Now take off your shirt.&quot;&lt;/span&gt;

A part of you did see this coming, but your heart still skips a beat. Is the bathroom getting warmer, or is it you? You decide to...

[[Take off your shirt]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Run out of the bathroom, abandoning your shoes|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Hesistantly comply - take off your shirt&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Take off your shirt&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="19" name="Take off your shirt" tags="" position="2050,1500" size="100,100">You unbutton your shirt, starting at the top. It&#39;s made of a fine silk-and-cotton mix, white in color. You have some trouble unbuttoning it as your hands have started to shake.

When the last button remains, you pause. Are you really going to continue down this path? You really do need the job and the money, but is it worth it?

He hears you open the last button and the soft sounds of you removing your shirt. You sit on the toilet-seat, without shoes on, shirt in hand. Out of all the days, today is the day you chose to wear your sexy sheer bra. It barely hides your hard nipples and curvy breasts...

&lt;span class=&quot;man&quot;&gt;&quot;Aren&#39;t you forgetting something?&quot;&lt;/span&gt; the man prompts.
You look at the shirt in your hand. Right...
&lt;&lt;if $triedLeavingBathroom is true&gt;&gt;You weight your options. Having come to this point, as much as it frightens you, you really do not have much of a choice other than to comply with the man&#39;s requests. No-one is coming here for many days, and you have no means of escaping. But more importantly, you&#39;re really freightened by the thought of him entering your bathroom stall: there&#39;s no telling what he&#39;ll do to you if you outright refuse him. Thus, the only thing that you can do, is to obey the man and hope he lives up to his end of the bargain.&lt;&lt;/if&gt;&gt;

[[Push your shirt underneath the stall to his side]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Enough - as quick as you can, you run out of the bathroom and slip on your shirt|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Hesistantly push your shirt underneath the stall to his side&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Push your shirt underneath the stall to his side&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="20" name="Push your shirt underneath the stall to his side" tags="" position="2175,1625" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/022_SHIRT.png&quot;&gt;
You&#39;re feeling more exposed with every peace of clothing that you hand over to the man. He slips your shirt into a bag, likely the same bag as your shoes are in.

&lt;span class=&quot;man&quot;&gt;&quot;Good, you really enjoy being submissive, don&#39;t you?&quot;&lt;/span&gt; he probes.

You stay quiet. Inside, you feel that his words ring true, but you&#39;re still convincing yourself that you&#39;re only doing this to keep your job - not because you enjoy exploring this side of yourself.

&lt;span class=&quot;man&quot;&gt;&quot;Your stockings now.&quot;&lt;/span&gt; his voice says casually. Has he done this before to some other poor girl... You can&#39;t help but think, as he seems to have a very precise plan. You let your hands slide over your smooth stockings. They aren&#39;t protecting your modesty much anyway, so what&#39;s the harm?

You...

[[Comply - remove your stockings and push them to his side]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Cut your losses and run out of the bathroom - it&#39;s just not worth it|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Tentatively comply - remove your stockings and push them to his side&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Comply - remove your stockings and push them to his side&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="21" name="Comply - remove your stockings and push them to his side" tags="" position="2250,1750" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/023_STOCKINGS.png&quot;&gt;
Your hands trace the smooth surface of the stockings, from your knees to the top under your skirt. You stand up and remove them - one leg at a time. You&#39;re getting goosebumps on your thighs and arms. The cool bathroom doesn&#39;t feel cool at all any longer - your heart is beating fast and your breath is quickening.

You sit back down on the toilet seat. Remembering what the man wants, you push your stockings to him underneath the stall.

Once again, you hear him bagging the items you passed him, further expanding on his growing collection of your clothes. You realize he has more of your clothes in his bag than you have items still on you:

He has your shoes, your stockings and your shirt. You have your panties, your sheer bra and your skirt.

A flush of heat washes over your cheeks at the realization.

&lt;span class=&quot;man&quot;&gt;&quot;Good, good. I admire your dedication. Now, your skirt.&quot;&lt;/span&gt; he commands.

You saw this coming miles away. At this point, you&#39;ve pretty much accepted it too. A small part of you screams at you for doing this...
&lt;&lt;if $triedLeavingBathroom is true&gt;&gt;You&#39;ve come this far already and as you know, there&#39;s no escaping the situation anyway. You decide that your need to see things through...&lt;&lt;/if&gt;&gt;

[[You ignore the concerned voice in your head and remove your skirt]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[You listen to the concerned voice in your head and flee the bathroom|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Tentatively comply - remove your skirt&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;You ignore the concerned voice in your head and remove your skirt&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="22" name="You ignore the concerned voice in your head and remove your skirt" tags="" position="2300,1925" size="100,100">You&#39;re getting a bit too comfortable in your opinion with his commanding tone and explicit requests. However, you ignore your concerned voice and begin stripping your skirt.

You begin by opening the clasp, then you open the zipper at the side. You grab the skirt firmly with both hands, one hand on each side of your hips, then you squirm a bit as you undress your skirt. Your thick ass and delicious thighs always make it an effort to remove or put on the tight office-skirt you&#39;ve chosen. But it&#39;s worth it - it looks really good on you and highlights your fine assets. However, now the skirt is on the floor of the bathroom and you feel properly naked. You&#39;re only wearing a sexy pair of underwear and a sheer bra.

You hesitantly push your skirt to the other side of the stall, where a leather-gloved hand grabs it and stores it securely in the bag with the rest of your belongings. A shiver goes down your spine. You sit back on the toilet seat, like the good girl you are, awaiting further instructions.

&lt;span class=&quot;man&quot;&gt;&quot;Good girl. You&#39;re enjoying yourself, aren&#39;t you?&quot;&lt;/span&gt; he teases.

In your head, you have two voices contradicting each-other: One is saying he&#39;s possibly right, the other is terrified to admit it. 

[[Wait for his next command|stroke dick scene]]</tw-passagedata><tw-passagedata pid="23" name="Refuse - tell him he&#39;s had his fun" tags="" position="1325,3150" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/025_CHAIN.png&quot;&gt;
You manage to find your courage. &lt;span class=&quot;jessica&quot;&gt;&quot;No, enough.&quot;&lt;/span&gt; you stutter. You&#39;re reward with a short moment of silence from him.

&lt;span class=&quot;man&quot;&gt;&quot;I&#39;m the one who decides what&#39;s enough.&quot;&lt;/span&gt; he replies, threateningly. &lt;span class=&quot;man&quot;&gt;&quot;Do as I say and we both get want we want.&quot;&lt;/span&gt;

You knew it would be pointless, but you had to try. You really don&#39;t have many options...

[[Submissively comply - you get on your knees on front of the hole and grab the leash]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Escape now - you&#39;re practically naked and wearing a collar, but you can&#39;t take it anymore!|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Submissively comply - you get on your knees on front of the hole and grab the leash&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Submissively comply - you get on your knees on front of the hole and grab the leash&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="24" name="Submissively comply - you get on your knees on front of the hole and grab the leash" tags="MUSIC_CHANGE" position="1475,3300" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
You accept your fate. You grab the leash in your right hand and study the locking mechanism. Similar to the collar, once you snap it in place you won&#39;t be able to open it without a key. You study the chain. It&#39;s made of metal. You have a feeling you won&#39;t be able to break the metal, even if you had a sledgehammer at your disposal...

You fumble with your left hand, finding the ring in your collar that the lock will slip around. You turn the collar on your neck so that the hole in the collar is pointed in front of you, underneath your chin, pointed against the wall in the stall. You gulp. You&#39;re really doing this aren&#39;t you?

You hesitate for a moment. You feel like you&#39;re giving away your freedom now and placing yourself entirely at the mercy of the stranger on the other side of the stall. He rattles the chain and says &lt;span class=&quot;man&quot;&gt;&quot;Go on.&quot;&lt;/span&gt; urging you on.

You close your eyes and...

[[Lock the leash on your collar]]
</tw-passagedata><tw-passagedata pid="25" name="Lock the leash on your collar" tags="" position="1525,3425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
With your eyes closed, you sigh and lock the leash to your collar. The lock is attached with a metallic click. You keep your eyes closed, kneeled before the hole in the stall, wearing nothing but your panties and a sheer bra, and a leashed collar. You feel a pull on the leash and you open your eyes. The pull forces you forward towards the hole. He&#39;s strong! You try to resist the tug, but even when pushing with your entire body against the stall wall, you cannot stop the tugging. Your neck hurts from the effort.

Your face is now firmly against the hole of the stall, your nose, mouth and chin are pushed to the other side where the man is waiting. You cannot see through the hole in this angle, he&#39;s firmly pulled you to the hole, completely exposing your mouth on his side of the hole. You start to protest, but he interrupts you and says:

&lt;span class=&quot;man&quot;&gt;&quot;Be a good slut and you will be rewarded. Struggle, and you&#39;ll be punished. Understand? Here, let me demonstrate...&quot;&lt;/span&gt; A zapping sounds from the other side. Before you have time to think, a jolt of pain surges through your body! Some sort of electric torture device makes your body twitch in agony. You let out a helpless cry.

You can feel tears welling up in your eyes. You can&#39;t believe you&#39;ve let things escalate to this point! Paradoxically, you can feel the wetness between your legs growing. You touch your hand between your thighs. Sure enough, your panties are now leaking with your horny fluids. You shake in frustration. Another pull from the leash reminds you of your predicament.

&lt;span class=&quot;man&quot;&gt;&quot;Understand?&quot;&lt;/span&gt; he repeats. You hesitate for a moment, then reply...

[[Yes, I understand.]]

[[No, fuck you, let me go!]]
</tw-passagedata><tw-passagedata pid="26" name="Yes, I understand." tags="MUSIC_CHANGE" position="1525,3600" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
You weakly manage to say it through the hole. In your ears, you sound like a desperate, horny bondage-loving sex-toy who has just given a man permission to use her body as he likes. But you know you&#39;re not... You just don&#39;t want to be hurt.

The man grunts his approval. &lt;span class=&quot;man&quot;&gt;&quot;Good.&quot;&lt;/span&gt; He harks his throat.&lt;span class=&quot;man&quot;&gt; &quot;Now, open your mouth.&quot;&lt;/span&gt; he says, clearly with something in his mouth. You hesitate. Is he going to spit in your mouth? You grimace in disgust...

[[Obey - open your mouth wide]]

[[Refuse - keep your mouth shut]]
</tw-passagedata><tw-passagedata pid="27" name="No, fuck you, let me go!" tags="REFUSAL MUSIC_CHANGE" position="1375,3500" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;He keeps the pull on your leash tight.&lt;span class=&quot;man&quot;&gt; &quot;Wrong answer...&quot;&lt;/span&gt; he threatens. An electric zap sounds from the other side. Your eyes widen.&lt;span class=&quot;jessica&quot;&gt; &quot;No wait...&quot;&lt;/span&gt; you manage, but too late.
 
The second electric shock, much stronger than the previous, sores through your body as the probe touches your exposed throat, just under your chin, above the point where the collar is attached to your neck. You scream in pain.

The bastard! Tears are freely flowing now from your cheeks. A throbbing pain remains in your body, strongest at your neck. You thrash against the pull of the leash, trying desperately to get away. To no avail, his pull is too strong. You remain stuck with your mouth, nose and chin through the hole, kneeling on the bathroom floor.

&lt;span class=&quot;man&quot;&gt;&quot;I&#39;ll zap you again if you don&#39;t stop right now.&quot;&lt;/span&gt; he almost shouts. You stop your thrashing and instead start sobbing quietly...

&lt;span class=&quot;man&quot;&gt;&quot;Good, now stop crying. I will punish you again if you continue resisting. You understand, slut?&quot;&lt;/span&gt; he says, keeping the leash pulled tight and you pinned against the wall. You try to control your traumatized body. Slowly, you stop crying and eventually manage to breathe calmly again. You accept your place...

[[Yes, I understand.]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="28" name="Obey - open your mouth wide" tags="MUSIC_CHANGE" position="1525,3775" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/030_OPEN.png&quot;&gt;
You&#39;re disgusted by the idea of him spitting in your mouth, but, you&#39;re in no position to argue with his command at this point.

You open your mouth wide and hear a spitting sounds, a warm glob lands on your tongue and the back of your throat.

&lt;span class=&quot;man&quot;&gt;&quot;Swallow.&quot;&lt;/span&gt; he orders. You&#39;re gagging at the taste of his spit. You don&#39;t want to swallow it, in fact, you want to spit it right back at his shoes. His threats up to this point make you hesitant. Obey, or be punished, his words echo in your head. You decide to...

[[Swallow the spit]]

[[Spit it out]]
</tw-passagedata><tw-passagedata pid="29" name="Refuse - keep your mouth shut" tags="REFUSAL MUSIC_CHANGE" position="1375,3700" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/029_DISGUST.png&quot;&gt;
A zapping sound and a jolt of pain coarse through your body. You scream in pain and your body shakes. &lt;span class=&quot;man&quot;&gt;&quot;I said, open your mouth&quot;.&lt;/span&gt; he says, mouth full of something...

Crying, you gather yourself. A few moments layer, you weakly accept his dominance over your fate...

[[Obey - open your mouth wide]]
&lt;&lt;silently&gt;&gt;&lt;&lt;set $refusals to $refusals + 1&gt;&gt;&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="30" name="Swallow the spit" tags="" position="1525,3975" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
You reluctantly swallow his spit, gulping at the end to make sure it stays down. You almost throw up from the effort. In your mind you have no doubt that he would make you eat your own puke if you would throw up now. Just the thought makes you dry-retch loudly. He gives you a moment to compose yourself.

&lt;span class=&quot;man&quot;&gt;&quot;See, you have a real sub-slut in you after all.&quot;&lt;/span&gt; he says. You agree with him. No self-respecting normal person would&#39;ve agreed to do what you just did. You feel a deep shame and humiliation at the thought of the things you&#39;ve done so far. But, your thoughts are interrupted by his commanding voice, saying:

&lt;span class=&quot;man&quot;&gt;&quot;Now, open your mouth and be a good slut.&quot;&lt;/span&gt;

You&#39;ve been reduced into submission by his presence, his words, his commands, your predicament. You do as you&#39;re told...

[[Open your mouth again]]
</tw-passagedata><tw-passagedata pid="31" name="Spit it out" tags="REFUSAL" position="1375,3850" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/032_BUCKET.png&quot;&gt;
You can&#39;t take it - you spit it out. You try to aim it on his legs, where you think his legs are positioned anyways, you can&#39;t see through the hole in this angle. You think you hear the spit landing in a bucket, much closer to your face than you expected. Shit, he was expecting something like this...

Two quick jolts of electric pain coarse through your body, starting at your throat. The zapping leave you stunned and speechless for what feels like an eternity. You&#39;re yanked back to consciousness by the chain leash around your neck. Groggily, your body aching badly, you stir awake.

&lt;span class=&quot;man&quot;&gt;&quot;Let&#39;s try this again.&quot;&lt;/span&gt; he says, pressing the bucket against your sore lips. You feel like there must be blood coming down your neck by now from the zaps. &lt;span class=&quot;man&quot;&gt;&quot;Drink.&quot;&lt;/span&gt; he leans the bucket forward, the spit slipping into your open weak mouth. You can&#39;t even feel it as it sloshes on your tongue towards the back of your throat. That&#39;s a lot of spit... Weakly, you comply to his wishes, having learned your lesson...

[[Swallow the spit]]
&lt;&lt;silently&gt;&gt;&lt;&lt;set $refusals to $refusals + 1&gt;&gt;&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="32" name="Open your mouth again" tags="MUSIC_CHANGE" position="1525,4100" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
&lt;&lt;if $refusals is 0&gt;&gt;You&#39;ve followed the man&#39;s orders so far without hesitation. You begin to get used to being treated like this...&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 1 and $refusals &lt;= 2&gt;&gt;You&#39;ve not always silently followed his requests, that&#39;s for sure, but you find yourself agreeing to do most of the things he suggests without complaining...&lt;&lt;else&gt;&gt;You&#39;ve not willingly obeyed him thus far - he&#39;s had to use force to break you into submission. However, fearing punishment, you obey him now...&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

You open your mouth, expecting his erect member to insert itself into your willing mouth. Instead, you&#39;re startled by his probing gloved fingers. You flinch.

&lt;span class=&quot;man&quot;&gt;&quot;Remember what I told you.&quot;&lt;/span&gt; he warns. You fight back the urge to bite his fingers. He explores your tongue with his fingers and extends your cheeks.

You feel utterly humiliated. His fingers find the back of your throat where they pause, then probe to check your gag reflex. You involuntarily gag and slightly shut your mouth.

&lt;span class=&quot;man&quot;&gt;&quot;Keep your mouth open, slut.&quot;&lt;/span&gt; he orders you. Your jaw is starting to ache from keeping your mouth open, but you comply. He removes his fingers.

&lt;span class=&quot;man&quot;&gt;&quot;Now continue sucking.&quot;&lt;/span&gt; he says. The chain around your neck loosens a bit and you can move your head a little bit, just enough to make a back-and-forwards motion. His cock enters your open mouth.

[[Suck his cock and try to make him cum as fast as possible]]

[[Suck his cock, but be passive]]</tw-passagedata><tw-passagedata pid="33" name="Suck his cock and try to make him cum as fast as possible" tags="" position="1575,4225" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
You give him the most constrained blowjob of your life, pressing your lips against his shaft and moving backwards as far as your chain allows and forward until the stall&#39;s wall stop you. You continue this for a while, doing your best to make him cum as fast as possible. He&#39;ll likely let you leave as soon as he&#39;s finished!

He&#39;s reaching a climax, you think. You double your efforts, taking his shaft as deep into your mouth as you can. His hips are moving in rhythm with your sucking, and you gag again and again as the tip of his dick slips into your throat. You&#39;re a drooling mess and your can feel that your pussy is now freely dripping horny fluids on the bathroom floor. Your panties are drenched.

[[Continue being a good slut]]</tw-passagedata><tw-passagedata pid="34" name="Suck his cock, but be passive" tags="" position="1450,4225" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
You can&#39;t really move your head as you&#39;re used to, so you let him do most of the work. You keep your mouth open and teeth out of the way as he takes advantage of you.

His hips slowly, rhythmically, sway back and forth bringing the tip of his cock in your mouth, just to the mid-point of your tongue. Drool is beginning to form in your mouth. His swaying intensifies, penetrating most of the shaft into your mouth. You instinctively try to pull away, but the chain keeps you pinned at the hole. His relentless assault continues.

Your jaw is aching a lot now and you struggle to keep your mouth open as he brings his shaft in a sudden deep plunge all the way into your throat. Your body shakes in shock, but he doesn&#39;t stop. You gag again and again as the tip of his dick slips into your throat. You&#39;re a drooling mess and your can feel that your pussy is now freely dripping horny fluids on the bathroom floor. Your panties are drenched.

[[Continue being a good slut]]</tw-passagedata><tw-passagedata pid="35" name="Continue being a good slut" tags="" position="1525,4350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
You lose track of time as you gag on his cock lodge deep in your throat. Drool is flowing down in both sides of the stall wall, you can feel it flowing down your neck on to your tits.

You sense he&#39;s about to climax. Finally! But then he suddenly pulls away. Bastard! You can hear him breathing hard on the other side, but you can barely focus as your ravaged body shakes with frustration, horniness and exhaustion. You close your aching jaw and lean back on the bathroom floor. The chain extends freely now, allowing you to get into a comfortable sitting position on the floor. You give the chain an absent tug with your right hand. It doesn&#39;t budge. He must have it locked to something on his side.

You hear him catch his breath and say: &lt;span class=&quot;man&quot;&gt;&quot;You&#39;re really beginning to learn your place, I like that. Keep up the good work and our deal will be finished in no time.&quot;&lt;/span&gt;

&lt;span class=&quot;jessica&quot;&gt;&quot;Just let me go already, you&#39;ve had your fun.&quot;&lt;/span&gt; you find yourself saying. A pang of regret follows. Please, please don&#39;t shock me again you find yourself thinking, but unable to say. You&#39;re paralyzed with fear.

The moment of silence that follows your outburst seems to last forever and your mind is spinning. You&#39;re having trouble focusing your vision and thoughts. You&#39;re startled by his firm voice saying:

&lt;span class=&quot;man&quot;&gt;&quot;As you know, I make the rules and define the limit. Not you.&quot;&lt;/span&gt; he says, then adds.&lt;span class=&quot;man&quot;&gt;&quot;From now on, when you address me, you will always call me Master. You understand?&quot;&lt;/span&gt;

You feel weak, exposed, alone, abandoned and betrayed by the universe as you shakily manage to reply...

[[I understand... Master.]]

[[Yes... I understand.]]

&lt;&lt;if $refusals &lt;= 3&gt;&gt;[[Fuck you|Fuck you soft punishment]]&lt;&lt;else&gt;&gt;[[Fuck you]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="36" name="Fuck you" tags="REFUSAL MUSIC_CHANGE" position="1300,4450" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
Your neck almost snaps as he pulls you back towards the wall of the stall and the hole in the wall that has ruined your day. He zaps you multiple times and you scream at every jolt coursing through your body. The wet drool intensifies the shocks and your throat and neck feel like they&#39;re on fire by the time he&#39;s finished with you.

Your body can&#39;t take any more... You slump against the wall and remain there, dropped like a doll with the strings cut off. You can actually see blood on the bathroom floor under you.

&lt;span class=&quot;man&quot;&gt;&quot;When will you learn that you have absolute no say in the matter, you stupid cunt?&quot;&lt;/span&gt; he barks at you. You hear the words but the meaning slips right past you. Your mind is somewhere else. You can hear him saying more words, but can&#39;t understand them.

Moments later, your mind returns to you and you once again manage to get back into a sitting position on the bathroom floor. He notices you stirring into consciousness.

&lt;span class=&quot;man&quot;&gt;&quot;I hope you now understand what is needed of you. Do you?&quot;&lt;/span&gt; his question pierces through your very being. Your sore throat barely manages to say...

[[I understand... Master.]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="37" name="Yes... I understand." tags="" position="1650,4425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;You forget something?&quot;&lt;/span&gt; he probes, the leash grows tight. You say...

[[I understand... Master.]]

[[Fuck you]]
</tw-passagedata><tw-passagedata pid="38" name="I understand... Master." tags="MUSIC_CHANGE" position="1525,4525" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/037_CUFFS.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Good. For as long as we&#39;re spending this evening together, I own you. The quicker you accept that, the better.&quot;&lt;/span&gt; he says matter-of-fact. Your heart sinks in your chest. You rest on the floor, awaiting new instructions from the man... your... Master...

You&#39;re acutely aware of your predicament, sitting here wearing nothing but your wet panties and a provocative sheer bra, wearing a collar locked around your neck. The chain leash keeps you locked to something on the man&#39;s side of the stall. You&#39;re helpless and you&#39;re starting to accept your fate, whatever it may be. Just what a stupid girl like you deserve, your inner voice tells you.

The man is rummaging after something on his side. Soon, a pair of leather cuffs connected with a study chain is slipped underneath the stall to your side.

&lt;span class=&quot;man&quot;&gt;&quot;Grab the cuffs and sit on the toilet seat. Follow my instructions exactly.&quot;&lt;/span&gt; he commands you.

You..

[[Inspect the cuffs]]

[[Grab the cuffs and sit on the toilet seat]]</tw-passagedata><tw-passagedata pid="39" name="Inspect the cuffs" tags="" position="1400,4600" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/037_CUFFS.png&quot;&gt;
You decide to inspect the cuffs first. They are made of a similar sturdy leather as the collar around your neck. They&#39;re clearly meant to go around your ankles or your wrists. The chain between them is solid metal, exactly the same type as the chain leash attached to your collar.

The locking mechanism is open and you notice that once shut, they can only be opened with a key. You can&#39;t help but wonder how many keys he must&#39;ve brought with him... You dread the thought.

[[Grab the cuffs and sit on the toilet seat]]</tw-passagedata><tw-passagedata pid="40" name="Grab the cuffs and sit on the toilet seat" tags="" position="1525,4675" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/038_CUFFS.png&quot;&gt;
You submissively grab the cuffs, careful not to lock them too early by mistake. You stand up and sit down on the closed toilet seat, bare ass feeling cool on the solid and likely very dirty seat.

&lt;span class=&quot;man&quot;&gt;&quot;Good, now, lock it first around your left ankle.&quot;&lt;/span&gt; he orders. You stare at the cuffs, then your ankle. This is not going to end well. You bend over, sitting on the toilet seat, and bring the cuff to your left ankle. You know you must do exactly as you&#39;re told...

[[Lock the cuffs on your left ankle]]

[[Pretend to lock the cuffs, but don&#39;t lock it all the way]]</tw-passagedata><tw-passagedata pid="41" name="Lock the cuffs on your left ankle" tags="" position="1650,4800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/039_CUFFS.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Good. Now, let me have a look. Push your ankle underneath the stall so I can see the lock.&quot;&lt;/span&gt; he orders. Damn him... groving suspicious is he?

[[Present your locked left ankle]]</tw-passagedata><tw-passagedata pid="42" name="Pretend to lock the cuffs, but don&#39;t lock it all the way" tags="" position="1400,4800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/039_CUFFS.png&quot;&gt;
You decide to leave the cuffs unlocked, but they appear to be locked around your ankle at first glance. You&#39;re nerviously shaking and your heart is beating faster at the subterfuge.

&lt;span class=&quot;man&quot;&gt;&quot;Let me have a look. Push your ankle underneath the stall so I can see the lock.&quot;&lt;/span&gt; Your heart skips a beat. You need to think fast...

[[Lock the cuffs on your left ankle, then present your locked left ankle|Present your locked left ankle]]

[[Present your ankle as it is]]</tw-passagedata><tw-passagedata pid="43" name="Present your ankle as it is" tags="" position="1275,4900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/039_CUFFS.png&quot;&gt;
You know it&#39;s a mistake, but you have to try... You present the left ankle with the cuffs barely on, hoping that he doesn&#39;t see that the lock hasn&#39;t been applied.

Firm, leather-gloved hands grab your ankle and inspect the lock. Your breath quickens.

&lt;span class=&quot;man&quot;&gt;&quot;Naughty girl.&quot;&lt;/span&gt; he murmurs. You panic and instinctively try to tug your leg back, but his firm grip keeps you pinned. With his other hand, he locks the cuff firmly... So much for your attempt at subterfuge...

&lt;span class=&quot;man&quot;&gt;&quot;Don&#39;t try that again, I warn you. You understand?&quot;&lt;/span&gt; he commands you.

You reply, defeated...

[[Sorry Master, it won&#39;t happen again]]</tw-passagedata><tw-passagedata pid="44" name="Present your locked left ankle" tags="" position="1525,4925" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/039_CUFFS.png&quot;&gt;
You get down from the toilet seat, then push your left ankle underneath the stall towards the man. Firm, leather-gloved hands grab your ankle and inspect the lock.

&lt;span class=&quot;man&quot;&gt;&quot;Good.&quot;&lt;/span&gt; he says and lets go of your ankle. &lt;span class=&quot;man&quot;&gt;&quot; Sit back on the toilet now and bring the chain of the cuffs between the ceramics of the toilet. You see the gap between the floor and the seat?&quot;&lt;/span&gt;

You see what he means. If you&#39;re to put the chain through that and then lock your right ankle to the cuffs, you&#39;ll effectively be tied to the toilet seat with very limited movement possible with your legs. The chain between the cuffs is barely 2 inches... You stare at your cuffed left ankle.

[[Grab the chain on the cuffs and bring them underneath the toilet, through the ceramics holding the toilet up]]</tw-passagedata><tw-passagedata pid="45" name="Grab the chain on the cuffs and bring them underneath the toilet, through the ceramics holding the toilet up" tags="" position="1525,5075" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/040_CUFFS.png&quot;&gt;
You bring the chain through the gap. The man&#39;s next order does not surprise you at all as he says: &lt;span class=&quot;man&quot;&gt;&quot;Now, lock the cuffs on your right ankle.&quot;&lt;/span&gt;

You grab the cuff and have to bend in a weird angle to make it. Your shaking right hand holds the open right-side cuff next to your last, free ankle. If you attach it and lock it, you&#39;re never getting up from this toilet seat again. Standing up with your feet locked underneath you this close to each-other, just 2 inches apart, will not allow you to stand up and maintain balance - you would fall head-first onto the bathroom floor...

Cuffs in hand, you decide that...

[[You can&#39;t do it]]

[[You&#39;re a good girl and will obey him. You lock the cuff firmly around your right ankle]]</tw-passagedata><tw-passagedata pid="46" name="Sorry Master, it won&#39;t happen again" tags="REFUSAL" position="1400,5000" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/039_CUFFS.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Good.&quot;&lt;/span&gt; he says and lets go of your ankle. &lt;span class=&quot;man&quot;&gt;&quot;Sit back on the toilet now and bring the chain of the cuffs between the ceramics of the toilet. You see the gap between the floor and the seat?&quot;&lt;/span&gt;

You see what he means. If you&#39;re to put the chain through that and then lock your right ankle to the cuffs, you&#39;ll effectively be tied to the toilet seat with very limited movement possible with your legs. The chain between the cuffs is barely 2 inches... You stare at your cuffed left ankle.

[[Grab the chain on the cuffs and bring them underneath the toilet, through the ceramics holding the toilet up]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="47" name="You can&#39;t do it" tags="" position="1100,5175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/039_CUFFS.png&quot;&gt;
You just can&#39;t do it. After all you&#39;ve already done, you feel like this is as far as you can go. You let open cuff slip from your hand and rattle down on the bathroom floor. You start crying.

&lt;span class=&quot;man&quot;&gt;&quot;You&#39;re doing so well, little angel. Pick up the cuff, and lock it around your ankle like the good little girl you are.&quot;&lt;/span&gt; the man&#39;s manipulating voice says from the other side.

You sit on the toilet seat for a moment, trying to get the tears in control. You spend a while just staring at the stall door. Even if it would open, your leash is keeping your firmly tied to this stall, on your... Master&#39;s... side... There&#39;s no escaping, not anymore. How stupid it was of you to agree to take things this far...

&lt;span class=&quot;man&quot;&gt;&quot;I have all the time in the world. No-one&#39;s coming for you for a few days, you know that. Everyone&#39;s off celebrating the holidays.&quot;&lt;/span&gt; he has a point, you admit. You&#39;re stuck here and can do nothing about it.

Defeat and broken, you decide that...

[[You&#39;re a good girl and will obey him. You lock the cuff firmly around your right ankle]]

[[Enough is enough. You whisper: &quot;No, enough, please...&quot; You slump down on the bathroom floor and curl up...|Try to sleep and hope he goes away 2]]
&lt;&lt;set $triedLeavingBathroom to true&gt;&gt;</tw-passagedata><tw-passagedata pid="48" name="Reach for the ring-gag" tags="" position="1525,5450" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/043_GAG.png&quot;&gt;
The ring-gag is cool to your touch. The leather strap that will go around your head is of a slightly finer leather than your ankle-cuffs. The steel ring feels solid. Again, a locking mechanism is attached to the device. If you slip this on, you won&#39;t be able to remove it yourself.

You...

[[...have accepted your fate as a sex-slave and put on the ring-gag]]

[[...try to negotiate with the man]]</tw-passagedata><tw-passagedata pid="49" name="...have accepted your fate as a sex-slave and put on the ring-gag" tags="MUSIC_CHANGE" position="1550,6025" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/043_GAG.png&quot;&gt;
You feel your way around the ring-gag, positioning it in your mouth and removing it again. Your mouth is hurting. You bite down on the metal ring, exposing your mouth to the world with no way to shut it.

[[Wrap the leather around your head]]</tw-passagedata><tw-passagedata pid="50" name="...try to negotiate with the man" tags="" position="1375,5475" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/043_GAG.png&quot;&gt;
You try to reason with him. Surely this ring-gag is unnecessary?

&lt;span class=&quot;jessica&quot;&gt;&quot;Master?&quot;&lt;/span&gt; you ask after a moment.
&lt;span class=&quot;man&quot;&gt;&quot;Hm? You have a problem understanding me?&quot;&lt;/span&gt; he replies, clearly hearing from your voice that you have not put on the gag yet.
&lt;span class=&quot;jessica&quot;&gt;&quot;No, I understand... Master... But, isn&#39;t this gag unnecessary? I will obey all your commands, please, just don&#39;t make me put on the gag.&quot;&lt;/span&gt; you plead to him, hoping he&#39;ll grant you this one wish.
&lt;span class=&quot;man&quot;&gt;&quot;No, slave, you do everything I say when I say it. Is that clear? Put the gag on.&quot;&lt;/span&gt; he replies coolly. There&#39;s a threat in that tone and you know what will happen if you refuse...

You need time to think...

[[Obey him - put on the ring-gag|...have accepted your fate as a sex-slave and put on the ring-gag]]

[[Refuse to put the gag on]]</tw-passagedata><tw-passagedata pid="51" name="Refuse to put the gag on" tags="REFUSAL MUSIC_CHANGE" position="1350,5600" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/043_GAG.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I... will not.&quot;&lt;/span&gt; you say, defiant. The man sighs loudly and with a low tone says &lt;span class=&quot;man&quot;&gt;&quot;You realize you can&#39;t possibly stop me from doing anything I want with you anymore? One last chance, I warn you. Put the ring-gag on, and remember who you&#39;re talking to.&quot;&lt;/span&gt;

A sinister silence follows his words. You realize you&#39;ve stepped over a line, the man can truly do anything to do at this point...

[[Obey him reluctantly - put on the ring-gag|...have accepted your fate as a sex-slave and put on the ring-gag]]

[[Scream &quot;Enough, bastard!&quot;]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="52" name="Scream &quot;Enough, bastard!&quot;" tags="REFUSAL" position="1300,5725" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/044_FALL.png&quot;&gt;
Before the final words leave your lips, you&#39;re janked from the toilet seat by a strong pull on the chain leash locked around the collar on your neck. You fall to the bathroom floor awkwardly, your knees slamming on the hard tiles with a painful smack. Your arms try to cushion the fall, but you&#39;re not falling straight - you&#39;re falling slightly sideways, pinned as you are by the leash around your neck. Your head hits the wall of the stall and you yelp in pain. You manage to stutter...

[[Please, I&#39;m sorry Master, I&#39;m sorry I will put the gag on!]]

[[... nothing, the pain overwhelms you]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="53" name="Please, I&#39;m sorry Master, I&#39;m sorry I will put the gag on!" tags="" position="1425,5850" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/044_FALL.png&quot;&gt;
The pull stops. You are on all four on the bathroom floor, ankles tied to the toilet seat. You catch your breath and hope he doesn&#39;t punish you further.

&lt;span class=&quot;man&quot;&gt;&quot;I&#39;ll not show mercy again. Are we clear on that?&quot;&lt;/span&gt; he says, his voice more furious than you&#39;ve heard it thus far.

&lt;span class=&quot;jessica&quot;&gt;&quot;I... yes, it&#39;s clear Master... Thank you...&quot;&lt;/span&gt; you manage to stutter.

You slowly return to a sitting position on the toilet seat, which is incredibly difficult with your ankles tied together below the toilet. Eventually, you manage to do it.

You lean over and grab the fallen ring-gag off the floor. Defeated, you...

[[Obey him - put on the ring-gag|...have accepted your fate as a sex-slave and put on the ring-gag]]</tw-passagedata><tw-passagedata pid="54" name="... nothing, the pain overwhelms you" tags="" position="1200,5850" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/045_TONGUE.png&quot;&gt;
You&#39;re stunned by the pain, but the man doesn&#39;t stop there. The leash is pinning you towards the hole of the wall again and you cannot move an inch. The chain around your ankle is tugging you backwards and you have to support your weight with your hands on the floor for balance. Your body trembles in fear of what he&#39;ll do to you.

A moment goes by and you hear him doing something. You manage a weak &lt;span class=&quot;jessica&quot;&gt;&quot;Please, I&#39;m sorry...&quot;&lt;/span&gt; but it&#39;s too late, he&#39;s made up his mind. He ignores your remorseful begging.

He forces open your mouth with his gloved fingers, your clenched teeth don&#39;t even slow him down. Something metallic grabs your tongue, painfully, and tug it out of your mouth. &lt;span class=&quot;jessica&quot;&gt;&quot;Plllseesses, ooooo!&quot;&lt;/span&gt; you cry in despair. An intense pain overwhelms your senses as your tongue is pierced through-and-through somewhere around the tip. You feel a metallic taste in your mouth. You scream and cry, thrashing against your bondage. The pain is worse than you&#39;ve ever felt in your life.

&lt;span class=&quot;man&quot;&gt;&quot;I warned you. Don&#39;t cross me.&quot;&lt;/span&gt; he threatens again. Right about now the ring-gag starts to sounds like the better approach after all...

A surprisingly small amount of blood flows from your mouth. You were expecting rivers of it, judging by the pain, but you don&#39;t feel your mouth filling with blood. Maybe he didn&#39;t pierce it all the way through? It sure felt like he did... You realize that he could&#39;ve cut off your entire tongue, and there&#39;s nothing you could&#39;ve done about it. Realization sinks in. You&#39;re not getting out of here in one piece without following all of his orders, precisely.

The pull on the leash loosens and you slump to the bathroom floor. Eventually, you manage to sit back on the toilet seat, ring-gag in hand. The man says: &lt;span class=&quot;man&quot;&gt;&quot;Let&#39;s try this again. Gag. Mouth. Now.&quot;&lt;/span&gt;

[[Obey him - put on the ring-gag|...have accepted your fate as a sex-slave and put on the ring-gag]]</tw-passagedata><tw-passagedata pid="55" name="Wrap the leather around your head" tags="" position="1550,6150" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/047_GAG.png&quot;&gt;
With the gag in place, you reach with both hands behind your head, fumbling with the leather straps. You connect them, drawing the gag tight around your head. The ring is firm in your mouth. You settle at an appropriate tightness of the leather straps. Next, you grab the lock that will secure the leather straps, making the ring-gag impossible to remove without a key.

[[Lock the ring-gag]]</tw-passagedata><tw-passagedata pid="56" name="Lock the ring-gag" tags="" position="1550,6275" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/047_GAG.png&quot;&gt;
You let the lock slip shut with a click. You breathe heavily through your mouth. Drool is beginning to form in your mouth and you have to lean back to stop it from flowing everything. You swallow your drool for a while with your head tilted back. With your hands you explore around your mouth, tracing the outlines of the metallic ring pinning your mouth open. You&#39;re properly tied up now, aren&#39;t you?

&lt;span class=&quot;man&quot;&gt;&quot;Let me see the lock.&quot;&lt;/span&gt; the man orders.

[[Lean forward, showing the lock to him through the hole in stall wall]]</tw-passagedata><tw-passagedata pid="57" name="Remove your bra and push it to him underneath the stall wall" tags="" position="1550,6525" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/048_BRA.png&quot;&gt;
Your free breasts bounce as your remove your bra, your hard nipples finally free from their cage. You&#39;re feeling exposed in a good way now, you know your assets and your tits are one of them. You must be looking extremely hot right now, you realize, gagged and tied as your are, breasts perking freely.

&lt;span class=&quot;man&quot;&gt;&quot;Good girl. Next, something equally easy.&quot;&lt;/span&gt; he says and slips another object to you.

A pair of scissors! Is he giving the means to finally escape your bondage? You rush to grab the scissors. He notices your quick action. He says:

&lt;span class=&quot;man&quot;&gt;&quot;Those are for your panties - nothing else. Cut them off, then slide your panties and the scissors to me.&quot;&lt;/span&gt;

You inspect the scissors with shaking hands. They appear to be low-quality and the blade is very dull. You doubt it will be able to cut the tough leather on the cuffs around your ankles, nor the leather collar. You decide to...

[[Try to cut yourself loose anyway, ignoring the man&#39;s command]]

[[Submissively take the scissors to your panties and cut them off]]</tw-passagedata><tw-passagedata pid="58" name="Try to cut yourself loose anyway, ignoring the man&#39;s command" tags="REFUSAL" position="1400,6575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/048_BRA.png&quot;&gt;
You ignore him and as silently and stealthily as you can take the scissors to the leather around your right ankle-cuff. The first problem you notice immediately: The blade is so thick that is doesn&#39;t even fit between your ankle and the leather. The second problem is that, no matter what angle you try, or which combination of cutting and sawing you try, there isn&#39;t even a mark in the leather. Even if this approach would theoretically work, it would likely take you hours. Oh well... You had to try...

&lt;span class=&quot;man&quot;&gt;&quot;You thought I wouldn&#39;t notice?&quot;&lt;/span&gt; the man remarks. Your heart skips a beat. Damn, caught in the act. &lt;span class=&quot;man&quot;&gt;&quot;Just do as you&#39;re told.&quot;&lt;/span&gt; Defeated, you...

[[Reluctantly take the scissors to your panties and cut them off|Submissively take the scissors to your panties and cut them off]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="59" name="Submissively take the scissors to your panties and cut them off" tags="" position="1550,6650" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/049_PANTIES.png&quot;&gt;
Armed with a pair of dull scissors, you begin to cut into the fabric of your panties, starting with the part that wraps around your right upper thigh. You realize you&#39;re about to become completely naked if you proceed, but you have no choice but to obey at this point.

The process is slow - even for the purpose of cutting weak fabric, the scissors are absolutely terrible! Eventually you manage to cut through. You move on to the left side. With a technique worked out, it&#39;s faster to cut the left side. The fabric parts with a ripping sound.

You sit on the toilet seat, once again reflecting on your decision to let things go this far, your ruined pussy-drenched panties between your legs. You pull them off. A trail of wetness is left on the toilet seat. Your body clearly knows what it wants, even if you mind doesn&#39;t. There&#39;s no point disobeying him now. You know the scissors are worthless to you, having witnessed first-hand how absolutely terrible they are. You...

[[Push the scissors and your ruined panties to your Master]]</tw-passagedata><tw-passagedata pid="60" name="Push the scissors and your ruined panties to your Master" tags="" position="1550,6775" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/050_NAKED.png&quot;&gt;
You push the items to his side and they disappear from your sight. A sense of complete vulnerability washes over you then. If you thought you were exposed before, then now you truly are, as not an inch of clothing remains on your body. The realization makes you instinctively cover your bare breasts with your right arm and your naked honeypot with your left hand. Your heart is fluttering in your chest.

&lt;span class=&quot;man&quot;&gt;&quot;As I said, I knew you had this side in your all along. All women do.&quot;&lt;/span&gt; the man remarks. You can&#39;t argue with that anymore - why else would you find yourself in this situation?

[[Await further instructions]]</tw-passagedata><tw-passagedata pid="61" name="You&#39;re a good girl and will obey him. You lock the cuff firmly around your right ankle" tags="" position="1525,5200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/041_CUFFS.png&quot;&gt;
&lt;&lt;if $refusals is 0&gt;&gt;You&#39;ve followed the man&#39;s orders so far without hesitation. You begin to get used to being treated like this...&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 1 and $refusals &lt;= 3&gt;&gt;You&#39;ve not always silently followed his requests, that&#39;s for sure, but you find yourself agreeing to do most of the things he suggests without complaining...&lt;&lt;else&gt;&gt;You&#39;ve not willingly obeyed him thus far - he&#39;s had to use force to break you into submission. However, fearing punishment, you obey him now...&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

You shiver as you obey the man. It&#39;s getting easier now, you can feel it. You&#39;ve overcome a mental hurdle, the last resistance is wearing away. A part of you - no small part at all - wants what is coming to you and is freely giving itself up as a willing slave. The tiny part of your self that has been warning you so far is quiet,  shocked into a broken and defeated silence.

You place the cuff around your right ankle and lock it firmly. You test your new bondage limits. When sitting butt firmly on the toilet seat, you can lift your cuffed feet a few inches straight up, accomplishing nothing. From the seated position, you can also bring your feet to either side, but only a tiny distance, again accomplishing nothing. You try to stand up. As expected, you must do so on tip-toes and only manage to lift yourself a few inches before you realize that going any further will topple you straight down on the bathroom floor. You sit back down on the toilet seat: Your heartbeat is deafeningly loud in your ears and a tingling sensation is beginning to spread in your entire body. Your fingers find your panties and you slink a finger to your wet clitoris. You rub it a little bit, exploring the sensation.

The man calls from the other side of the wall. &lt;span class=&quot;man&quot;&gt;&quot;Hold still, let me inspect that.&quot;&lt;/span&gt; He peaks at the lock studying it from the hole. You can see he&#39;s wearing a mask. Of course he is, you think to yourself. His trained eye finds the lock and confirms it is solidly shut. You realize that you will not be able to escape anymore, the slim chance you&#39;ve had thus far has disappeared. You accept your fate.

[[Wait for your his next command]]</tw-passagedata><tw-passagedata pid="62" name="Wait for your his next command" tags="" position="1525,5325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/042_GAG.png&quot;&gt;
You don&#39;t have to wait long, the man knows exactly what he wants you to do next.

Another object is pushed to your side. A ring-gag! He can&#39;t be serious, hasn&#39;t your poor mouth suffered enough? &lt;span class=&quot;man&quot;&gt;&quot;Put it on.&quot;&lt;/span&gt; he orders. Apparently not...

[[Reach for the ring-gag]]</tw-passagedata><tw-passagedata pid="63" name="Lean forward, showing the lock to him through the hole in stall wall" tags="" position="1550,6400" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/047_GAG.png&quot;&gt;
Satisfied with your display, he says &lt;span class=&quot;man&quot;&gt;&quot;Good. Finally behaving like the proper slave you are. You were made for obeying men, did you know that? It&#39;s in your DNA.&quot;&lt;/span&gt;

You doubt that what he&#39;s saying is true, and you say as much through your gag. &lt;span class=&quot;jessica&quot;&gt;&quot;I dat tink dats truu...&#39;aster...&quot;&lt;/span&gt; he laughs at your effort. Drool drips from your open mouth onto your lap. He replies: &lt;span class=&quot;man&quot;&gt;&quot;Believe what you want, I know that you feel the truth of it deep inside.&quot;&lt;/span&gt;

You&#39;ve been feeling that part many times today, but have tried to ignore it. A part of you thinks he might be right, certainly your body is betraying your excitement.

&lt;span class=&quot;man&quot;&gt;&quot;Something easy next.&quot;&lt;/span&gt; he says. &lt;span class=&quot;man&quot;&gt;&quot;Remove your bra.&quot;&lt;/span&gt;

You were expecting more bondage devices, but the request doesn&#39;t come as a surprise. You see no reason not to comply at this point, after all, he thoroughly owns you at this point...

[[Remove your bra and push it to him underneath the stall wall]]
</tw-passagedata><tw-passagedata pid="64" name="Await further instructions" tags="" position="1550,6900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/050_NAKED.png&quot;&gt;
You decide to wait for further instructions from the man. In your head, a voice corrects you... from your Master, that is.

The next item that the man gives you is not familiar to you at first. It&#39;s a roughly rectangular, plastic looking item.

&lt;span class=&quot;man&quot;&gt;&quot;Attach it firmly on the toilet seat and sit on it.&quot;&lt;/span&gt; the man orders. You&#39;re beginning to get an idea what this item is. You...

[[Take the item and study it further]]</tw-passagedata><tw-passagedata pid="65" name="Take the item and study it further" tags="" position="1550,7025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/051_VIB.png&quot;&gt;
You grab the item and look at the soft plastic device, which is about 8 inches long, 4 inches wide and 2 inches high. It has some bumps on the upper side, and a flat surface on the other side. You notice that it has some soft of suction mechanism on that side, surely to attach it firmly to any other flat surface.

The bumps on the upper side become clear to you. As you&#39;d guessed, it&#39;s a vibrator. Its design is clearly meant to be used hands-free, and the bumps and perfectly design to hug your most sensitive areas if you sit on this thing.

You hold it in your trembling hands. You...

[[Try to stand up just enough to place it firmly on the toilet seat under you]]</tw-passagedata><tw-passagedata pid="66" name="Try to stand up just enough to place it firmly on the toilet seat under you" tags="" position="1550,7150" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/052_VIB.png&quot;&gt;
It&#39;s not easy with your ankles cuffed under the toilet seat, but you manage to lift yourself up with your left hand and balance on your toes long enough to slip the device under you. The suction mechanism holds firmly on the hard toilet seat cover. You lean on both your left and right hands now, hovering in the air with the vibrator just under you, mere inches away. You won&#39;t be able to hold yourself up on your arms forever, might as well...

[[... sit down on the vibrator]]</tw-passagedata><tw-passagedata pid="67" name="... sit down on the vibrator" tags="MUSIC_CHANGE" position="1550,7275" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/052_VIB.png&quot;&gt;
With a sigh you accept the inevitable and sit down on the vibrator, freeing your weight from your hands and arms. The soft plastic device feels cool at first, and you fidget around a bit, trying to find a comfortable position on it. Your wet pussy lubricates the vibrator and you can feel the sleek surface kissing the tip of your asshole behind and embracing your pussy on the front. The vibrator is quickly warming as your body heats it up.

&lt;span class=&quot;man&quot;&gt;&quot;Ready?&quot;&lt;/span&gt; the man asks. Ready for what...? Oh! The vibrator starts a gentle buzzing. You steady yourself with your hands, unnecessarily of course, it&#39;s not vibrating hard enough to throw you off the toilet. But the sensation almost does. Your attention-seeking lady-parts are overjoyed by the gentle stimulation and you find that even the tip of your asshole is enjoying the light buzzing. You groan, conflicted. You don&#39;t want to enjoy it, but, you do.

The buzzing stops way too soon. &lt;span class=&quot;man&quot;&gt;&quot;Seems to work as intended.&quot;&lt;/span&gt; the man says. Your cheeks feel like they&#39;re burning and you must be getting a healthy red tone on them. You slowly relax your body and remove the tenseness from your arms.

&lt;span class=&quot;man&quot;&gt;&quot;Did you enjoy it?&quot;&lt;/span&gt; he prompts. Through your ring gag, you weakly stutter...

[[Yehh... &#39;hank you... &#39;aster. |Yes... Thank you... Master.]]

[[No, &#39;aster. I &#39;id nod.]]</tw-passagedata><tw-passagedata pid="68" name="Yes... Thank you... Master." tags="" position="1550,7400" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/054_STRAPS.png&quot;&gt;
You stutter your reply through your ring-gag. You can&#39;t deny it - you had no idea a vibrator could send such sensations through your body. You answer honestly and truthfully to the man holding you hostage that you enjoy the vibrator... You&#39;re glad no-one can see you in the predicament you find yourself in, it would be social suicide if others knew what you were saying and doing in here!

Clearly satisfied with your answer, the man once again rummages around in his never-ending bag of items.

A bundle of leather straps is pushed to your side. You try to make sense of the pile.

&lt;span class=&quot;man&quot;&gt;&quot;Put it on and lock it around your waist and thighs.&quot;&lt;/span&gt; the man orders. You...

[[Reach out, grab the leather-pile and study the design]]</tw-passagedata><tw-passagedata pid="69" name="No, &#39;aster. I &#39;id nod." tags="" position="1400,7325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/052_VIB.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Hm, must&#39;ve been too gentle.&quot;&lt;/span&gt; he replies and the vibrator starts again, this time with a considerably more intense buzzing. Your underside is feeling sensations you didn&#39;t know were possible and your whole body shakes as you slump down on the vibrator, grinding your pussy on it as if your life depended on it. Your wetness has covered the whole vibrator and is now also lubricating the back half that stimulates your anus. You haven&#39;t felt this good in a long time.

Your Master stops the vibrator. &lt;span class=&quot;man&quot;&gt;&quot;Better?&quot;&lt;/span&gt; he prompts. This time you cannot lie. Through your ring-gag you manage to stutter...

[[Yehh! I... &#39;hank you, &#39;aster. |Yes... Thank you... Master.]]</tw-passagedata><tw-passagedata pid="70" name="Reach out, grab the leather-pile and study the design" tags="" position="1550,7525" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/054_STRAPS.png&quot;&gt;
You realize it&#39;s some sort of harness for your lower body. There are two straps for your thighs, which you can fasten and then lock... Once again in a manner that requires a key. The straps that go around your thighs are not attached directly to one-another. Instead, they are attached to a metallic ring that you realize must go on either sides of your hips.
The rings are attached to a larger leather strap, which will go around your waist, it too lockable in a manner that only a key can open.

The item on its own does not restrict you in... Any way, you realize, as you&#39;re done with your analysis. Your only concern is that the rings on either side will hurt your waist and hips if you put it too tightly on.

[[Put the first leather strap on your left thigh]]</tw-passagedata><tw-passagedata pid="71" name="Put the first leather strap on your left thigh" tags="" position="1550,7650" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/054_STRAPS.png&quot;&gt;
You can see the man studying you through the hole in the stall wall the entire time. Your ring-gag is drooling all over your breasts and you try to hide them as best as you can while you mess around with the straps.

You wiggle about on the toilet-seat, lifting yourself awkwardly up to be able to wrap your upper left thigh with the leather strap. The ring it is attached to is on your left hip and you realize you need to adjust the leather strap even higher up on your left thigh, for otherwise the waist-strap won&#39;t be able to reach all the way around your waist. You adjust the positioning of the strap. It is now roughly two inches from your hip on the outer side and an inch from your vagina on the inner side.

[[Put the second leather strap on your right thigh]]</tw-passagedata><tw-passagedata pid="72" name="Put the second leather strap on your right thigh" tags="" position="1550,7775" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/057_REFLECT.png&quot;&gt;
Now that you know what to do, you do the same on the other side. It&#39;s slightly harder to pull off as the strap on your left thigh limits the angles you can take the right strap, but you manage to wrap it around your right thigh.

[[Put the third leather strap around your waist]]</tw-passagedata><tw-passagedata pid="73" name="Put the third leather strap around your waist" tags="" position="1550,7900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/057_REFLECT.png&quot;&gt;
With the legs done, your attention shifts to the longer leather strap that will wrap your waist. It goes through both of the rings of the thigh-straps and neatly ties it all together. You adjust the tightness of the waist-strap, then do some final adjustments on your thigh-straps. Satisfied, you...

[[Trigger the locking mechanism of the straps]]</tw-passagedata><tw-passagedata pid="74" name="Trigger the locking mechanism of the straps" tags="" position="1550,8025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/057_REFLECT.png&quot;&gt;
One by one, you trigger the locks, ensuring you won&#39;t be able to remove the straps or loosen them anymore. You begin with the left thigh strap and it shuts with a satisfying click. Next, you do the same for the right side. Two down, one to go. Your hands grab the lock of the waist-strap and without hesitation, you lock it.

&lt;span class=&quot;man&quot;&gt;&quot;Good.&quot;&lt;/span&gt; the man says. You&#39;re pleased with yourself for having so easily figured out how to attach the straps to your body.

A length of chain is pushed to your side underneath the stall. It has two locks, one on each side.

&lt;span class=&quot;man&quot;&gt;&quot;Follow my next instructions very carefully.&quot;&lt;/span&gt; he says. You intend to do just that, there&#39;s no point arguing with the man... Your master... at this point. You...

[[Grab the chain and await instructions]]</tw-passagedata><tw-passagedata pid="75" name="Grab the chain and await instructions" tags="" position="1550,8150" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/057_REFLECT.png&quot;&gt;
You reach out and grab the chain. It&#39;s about the length of a typical belt, it would fit easily around your waist with spare length.

&lt;span class=&quot;man&quot;&gt;&quot;First, attach one end of the chain on the bottom side of the ring in the waist-harness.&quot;&lt;/span&gt; the man instructs. You glance at the ring on your hip. The angle is making your gagged mouth drool over your belly and you quickly adjust your head&#39;s position to try to keep as much drool in your mouth as possible.

You...

[[Attach the chain to the ring on your left side]]

[[Hesitate and reflect on the bindings already attached to you]]</tw-passagedata><tw-passagedata pid="76" name="Attach the chain to the ring on your left side" tags="" position="1550,8325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/058_ANKLE.png&quot;&gt;
You&#39;re comfortable following your masters orders now, there&#39;s no denying it. You know that there&#39;s no escaping, so you might as well see things through. You reflect on the deal - you will be able to keep your job after all, and the man has promised to help with the never-ending pile of work on your desk, a task you know you simply do not have the time nor, unfortunately, talent to complete. You think your boss might have purposefully given you an almost impossible task, for someone with as little experience as you have. But, that&#39;s all about to be solved if you just see this deal through.

Holding the chain in your left hand, you lean over to your left side and angle the ring on your left hip enough to make room for the chain&#39;s lock. You attach the chain to the ring, your fingers thoughtfully brushing over the locking mechanism.

[[Lock the chain to the ring]]</tw-passagedata><tw-passagedata pid="77" name="Hesitate and reflect on the bindings already attached to you" tags="" position="1400,8225" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/057_REFLECT.png&quot;&gt;
Once more you find yourself hesitating. The more you tie yourself up, the more vulnerable you become. Is this truly the path you want to continue on? You can sense your every move is being judged by the man whom you must call Master, who already has tied you up in an almost completely helpess state. You go through your predicament in detail...

You&#39;re sitting on the toilet-seat cover, completely naked. Around your neck is a locked collar that is attached to a leash, which goes through the wall of the bathroom stall you&#39;re sitting in. The man, your... master, as he wants you to call him, has attached the other end of the leash to something on the other side that you cannot budge.
Your ankles are cuffed together under the toilet-seat in a manner that make you barely able to stand up on your toes a little bit, before you threaten to topple over and fall head-first on the bathroom floor.
Your mouth is drooling and kept open by an uncomfortable ring-gag, locked around your head by a leather strap.
On the toilet-seat is a vibrator, firmly attached with suction to the cover. You are presently sitting on it as any other option would be uncomfortable. The device is currently not buzzing. Its made of soft plastic and hugs your private parts firmly.
You&#39;re also wearing some sort of locked leather straps around both of your thighs, attached to a third leather straps around your waist by two rings - one on both side of your hips.

The man wants you to now attach the newly given chain to the ring on your left hip and lock it there. Finished with your analysis, you submissively...

[[Attach the chain to the ring on your left side]]</tw-passagedata><tw-passagedata pid="78" name="Lock the chain to the ring" tags="" position="1550,8450" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/058_ANKLE.png&quot;&gt;
Having attached the chain, you lock it in place with a click. You&#39;re starting to recognize the lock and can&#39;t help but wonder if all the locks are the same and the man on the other side actually just needs one key to open them all. That would be convenient... You also can&#39;t help wonder how god damn prepared the man is for exactly this situation. How long has he planned it, and was he specifically preparing this for you? The thought frightens you. Your possible very own stalker has put you in a helpless position with no escaping anymore. There really is nothing left to do for you than continue obeying him and hoping he keeps his word...

&lt;span class=&quot;man&quot;&gt;&quot;Good, now take the chain and put it under the toilet seat - same place as where your ankle chain is - and loop it once around your ankle chain, then bring it back up through the other side to your right hip and attach the chain there.&quot;&lt;/span&gt; the man orders.

You understand the rammifications of the order. Doing this will accomplish two things. Firstly, it will bind your ankles to the same chain, thus it will lift your feet that are barely resting on the bathroom floor as it is, up in the air, making you even less mobile. Secondly, it will pin you down against the toilet seat cover and the vibrator firmly, and you won&#39;t be able to lift yourself up from the seat anymore - just how much you won&#39;t be able to lift yourself depends on the length of the chain. There&#39;s only one way to find out...

[[Put the chain under the toilet seat on your left side, then loop it once around your ankle-chain]]</tw-passagedata><tw-passagedata pid="79" name="Put the chain under the toilet seat on your left side, then loop it once around your ankle-chain" tags="" position="1550,8575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/059_ANKLE.png&quot;&gt;
You do as the man instructs, taking the chain under the toilet seat on your left side. You then wrap it around your ankle chain. Doing this requires some creative leaning and acrobatics of you, sitting as you are on the toilet seat itself, but you manage to do it.

You bring the chain all the way under the toilet to the right side. The length of the chain has come to its end. With your feet on the ground, and the chain you&#39;re holding in your hand now looped around your ankle-chain, you cannot reach the ring on your right hip. You tug on the chain in your hand and simultaneously lift your feet off the ground, bending them backwards under you. You&#39;re in a weird hovering kneeling position now, with your feet floating in the air and yourself sitting on the toilet seat cover, legs spread to either side of the cover as the cuffs around your ankles forces your feet together.

The length of the chain is now barely enough to reach the hip-ring on your right side and you must pull the chain quite tight to reach it. As you expected, doing this has accomplished two things: Your feet are no longer able to touch the ground and you&#39;re thoroughly pinned against the toilet seat cover.

You attach the chain to the ring. Testing your new restrictions, you try to lift yourself from the toilet seat cover with the help of your arms. You can&#39;t move upwards at all - the chain is so tightly pinning you to the toilet-seat cover. The vibrator is pushed hard against your exposed and wet pussy and asshole.

[[Trigger the lock on the chain attached to your right hip]]</tw-passagedata><tw-passagedata pid="80" name="Trigger the lock on the chain attached to your right hip" tags="" position="1550,8700" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/059_ANKLE.png&quot;&gt;
The position is not comfortable, but neither is it uncomfortable. You think you&#39;ll be able to sit pinned like this for an hour or so and sincerely hope this bondage session will be over by then. Your hands find the lock of the chain that is attached to your right hip and you secure it - there&#39;s no escape now, your body is trapped on the toilet-seat cover, unable to move even a fraction of an inch. Well, that is not true you realize, you could slump forward if you wanted, as there&#39;s nothing pinning you to the back of the toilet seat right now...

[[Test how far you can move forward, bound as you are]]

[[Wait for further instructions from your Master]]</tw-passagedata><tw-passagedata pid="81" name="Test how far you can move forward, bound as you are" tags="" position="1375,8775" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/059_ANKLE.png&quot;&gt;
You decide to test the limits of that direction and shuffle carefully forward, your arms doing all the work. Your stop immediately. You realize that firstly, even if you move forward now, you&#39;ll just put yourself in a very uncomfortable position. Secondly, you won&#39;t be able to move more than a few inches forward anyway, as there is now two chains under the toilet seat restricting your movement in any forward or upward direction. There&#39;s no point in changing positions from your currently semi-comfortable position, to a completely uncomfortable one.

[[Wait for further instructions from your Master]]</tw-passagedata><tw-passagedata pid="82" name="Wait for further instructions from your Master" tags="MUSIC_CHANGE" position="1550,8875" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/060_FOOTSTEPS.png&quot;&gt;
You realize that the movement forward will just put you in a much more uncomfortable position and you won&#39;t be able to escape the toilet-seat anyway, the two chains combined are seeing to that. So, even though you have some degree of freedom forward, there&#39;s no point moving in that direction.

You can hear the man rummaging around in his bag again, no doubt for the next item, when suddenly you hear a new sound. You strain your ears to hear better. The faintest footsteps can be heard from the corridor outside the bathroom, just how far away you can&#39;t make out, but the click-clack of hard shoes on a hard floor is undeniable.

Your hearts starts pounding in your chest and your mind is frantically trying to decide what to do with the information. The man has stopped his rummaging.

&lt;span class=&quot;man&quot;&gt;&quot;Stay quiet now, don&#39;t make a scene.&quot;&lt;/span&gt; he hisses. Your throat is suddenly dry and you&#39;re fighting the ring-gag lodged in your mouth. You need to decide fast, this might be your only opportunity...

[[Scream for help!]]

[[Remain silent]]</tw-passagedata><tw-passagedata pid="83" name="Scream for help!" tags="" position="1725,8875" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/061_BOSS.png&quot;&gt;
You&#39;ve had enough! You don&#39;t care about your work, nor the humiliation that will follow from yet another stranger seeing you like this. You scream as loudly as your gag allows you for help, time and time again. The man in the stall next to you bursts out of his stall and with frantic footsteps leaves the bathroom. You hear a commotion outside. You hear voices and an argument. You continue screaming while your lungs burn, desperate to escape your bondage.

You hear two sets of footsteps approaching the bathroom, the door swings open with a bang. You hear voices, relieved you recognize one of them - it&#39;s your boss!

&lt;span class=&quot;boss&quot;&gt;&quot;... were unable to break her, then? That&#39;s disappointing. I expected more from you.&quot;&lt;/span&gt; you hear your boss say as the two pairs of footsteps stop just outside your stall. What... did you hear right? That can&#39;t be! Your heart freezes and dread fills your body as you hear the familiar voice of the man who&#39;s been torturing you reply: &lt;span class=&quot;man&quot;&gt;&quot;I thought I had her broken there for a minute, but she heard footsteps and decided to attempt escaping.&quot;&lt;/span&gt;

You can&#39;t believe what you&#39;re hearing, are the two men collaborating!? Did you boss trick you into a desperate situation with too much work, to push you towards... Whatever the other man was doing? You&#39;re angry, confused and truly terrified now. This was all planned!

&lt;span class=&quot;boss&quot;&gt;&quot;Well, nothing to it than bag her and move her then.&quot;&lt;/span&gt; you hear your boss say, then adds: &lt;span class=&quot;boss&quot;&gt;&quot;And next time, do your job better.&quot;&lt;/span&gt; The door to your stall opens, and the man stands in the doorway, holding a cloth in his hand.

&lt;span class=&quot;jessica&quot;&gt;&quot;oo, stog, let &#39;e go!&quot;&lt;/span&gt; you cry through the ring-gag and start thrashing your body. The man calmly walks up to you and his strong hands push the cloth to your face.

[[Struggle against the cloth]]
&lt;&lt;set $triedLeavingBathroom to true&gt;&gt;</tw-passagedata><tw-passagedata pid="84" name="Remain silent" tags="" position="1550,9000" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/059_ANKLE.png&quot;&gt;
You decide to remain silent, not exactly knowing why. Perhaps you&#39;re afraid to know what the man will do to you if you scream. Perhaps you&#39;re afraid the people now in the office won&#39;t hear you anyway. Perhaps you&#39;re afraid what the man will do to the people if they decide to enter the bathroom. Or perhaps you&#39;re starting to like being tied up and treated like property...

Regardless of your inner reasoning, you decide to obey the man and remain silent. Eventually, the footsteps grow silent. You can hear the man exiting the bathroom. You remain alone, naked and bound, in the bathroom stall, awaiting his return. Eventually, what feels like an eternity later, you hear footsteps again and someone opens the bathroom door and enters. Is it the man, or is it someone else?

&lt;span class=&quot;man&quot;&gt;&quot;They&#39;re gone.&quot;&lt;/span&gt; the familiar voice of the man announces. Your heart skips a beat. You&#39;re right back to the same situation. A part of you wonders why you didn&#39;t scream for help while you had the chance.

&lt;span class=&quot;man&quot;&gt;&quot;You really are a good little slut, you know that?&quot;&lt;/span&gt; he chuckles at your obedience. You are, aren&#39;t you? Why else would you have stayed quiet... The man enters the stall next to yours and once again starts rummaging in his bag of items. You don&#39;t have to wait long before a new item is slipped to you underneath the stall wall.

It&#39;s yet another chain, quite similar in design as the previous one.

&lt;span class=&quot;man&quot;&gt;&quot;This one&#39;s easy. Attach it to the same rings as previously, and put the chain around the back of the toilet.&quot;&lt;/span&gt; the man orders. Submissively, you...

[[Grab the chain]]</tw-passagedata><tw-passagedata pid="85" name="Grab the chain" tags="MUSIC_CHANGE" position="1550,9125" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/059_ANKLE.png&quot;&gt;
You lean over and grab the chain. Luckily, the man is placing things right next to the toilet seat so your limited reach is enough: You can still reach the floor with your hands to pick up items.

You study the chain more closely. It is, in fact, exactly the same as the previous one.

[[Attach the chain to the ring on your left hip]]</tw-passagedata><tw-passagedata pid="86" name="Attach the chain to the ring on your left hip" tags="" position="1550,9250" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/062_HIP.png&quot;&gt;
You know what to do. You attach the chain to the ring on your left hip.

[[Bring the chain around the back of the toilet]]</tw-passagedata><tw-passagedata pid="87" name="Bring the chain around the back of the toilet" tags="" position="1550,9375" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/062_HIP.png&quot;&gt;
Without seeing what you do, you pass the chain from your left hand to your right, behind your back and ensure the chain goes between the wall and the back of the toilet. Having done that, you hold it in your right hand.

[[Attach the chain to the ring on your right hip]]</tw-passagedata><tw-passagedata pid="88" name="Attach the chain to the ring on your right hip" tags="" position="1550,9500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/063_HIP.png&quot;&gt;
You pull the chain tight and attach it to the ring. You feel yourself being restricted even more in your movement. You can no longer do the small, but admittedly pointless, forward movement that you previously could. The chains are now completely pinning you to the toilet seat cover in your sitting position, and you cannot move in any direction.

[[Trigger the locks of the chain, locking it to both rings on your hips]]

[[Reflect on your current bondage predicament]]</tw-passagedata><tw-passagedata pid="89" name="Trigger the locks of the chain, locking it to both rings on your hips" tags="" position="1550,9650" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/063_HIP.png&quot;&gt;
You snap the locks shut, starting with the left hip-ring and quickly followed by the right hip-ring. You&#39;re now thoroughly pinned to the toilet seat and won&#39;t be able to budge an inch without your Master unlocking your binds.

For now, you&#39;re willing to see things through, there&#39;s no doubt about it.

&lt;span class=&quot;man&quot;&gt;&quot;Good, very good.&quot;&lt;/span&gt; the man comments from the other side the stall. Yes, very good indeed, you know you are very good at following instructions.

The metallic clinking of yet another item being passed to you underneath the stall demands your attention. You glance down. Two identical items. They appear to be some sort of plastic clamps, with a very short and delicate chain attached.

&lt;span class=&quot;man&quot;&gt;&quot;These go on your nipples.&quot;&lt;/span&gt; the man says. You realize what they are: nipple-clamps! You&#39;ve never worn any sort of clamps on your nipples and you can&#39;t help but wonder how much it&#39;ll hurt...

[[Grab the nipple-clamps]]</tw-passagedata><tw-passagedata pid="90" name="Reflect on your current bondage predicament" tags="" position="1400,9575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/063_HIP.png&quot;&gt;
Before locking the chain, you reflect on your current situation...

You&#39;re sitting on the toilet-seat cover, completely naked. Around your neck is a locked collar that is attached to a leash, which goes through the wall of the bathroom stall you&#39;re sitting in. The man, your... master, as he wants you to call him, has attached the other end of the leash to something on the other side that you cannot budge.
Your mouth is drooling and kept open by an uncomfortable ring-gag, locked around your head by a leather strap.
On the toilet-seat is a vibrator, firmly attached with suction to the cover. You are presently sitting on it as any other option would be uncomfortable. The device is currently not buzzing. Its made of soft plastic and hugs your private parts firmly.
You&#39;re also wearing some sort of locked leather straps around both of your thighs, attached to a third leather straps around your waist by two rings - one on both side of your hips.
Your ankles are cuffed together under the toilet-seat and lift into the air by another chain, making it impossible for you to stand up.
The chain that is forcing your ankles into the air is also attached to the rings on either side of your hips. This also ensures you cannot move an inch upward, as you&#39;re pinned to the toilet seat cover.
The newest addition, a chain around the back of the toilet, has pinned your lower body firmly to the back of the toilet-seat. The combination of chains attaching you to the toilet is preventing you from standing up or moving in any direction.

[[Trigger the locks of the chain that pins you to the back of the toilet, locking them firmly to the rings on your hips|Trigger the locks of the chain, locking it to both rings on your hips]]</tw-passagedata><tw-passagedata pid="91" name="Grab the nipple-clamps" tags="" position="1550,9775" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/064_CLAMPS.png&quot;&gt;
You reach out and grab the nipple-clamps. You study them. The clamps aren&#39;t too tight you feel as you open and close one of the clamps repeatedly. You place one of them on your finger. Sure enough, you feel the pressure, but on your finger it&#39;s not bad at all. You free your finger and place one of the clamps on your lap and bring the other one with shaking hands to your left nipple. Your nipples are standing hard and erect as if they has been waiting for this moment the entire evening.

[[Put one of the nipple-clamps on your left nipple]]</tw-passagedata><tw-passagedata pid="92" name="Put one of the nipple-clamps on your left nipple" tags="" position="1550,9900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/065_CLAMPS.png&quot;&gt;
You test the clamp, not letting it immediately put all its force on your nipple. Slowly, you ease the tension, letting more of the clamp&#39;s force put pressure on your nipple. The touch is felt in your entire breast, spreading steadily from your nipple to the surrounding area. You gasp. The pressure isn&#39;t unmanageable, but it is definitely a bit uncomfortable. You remove the clamp for a little while, freeing your nipple. The man taps on the stall wall, reminding you of your task.

Reluctantly, you put the clamp back on. The chain attached to the clamp is not attached to anything else. The cool metal is resting on the lower-side of your curvy breast, hanging freely in the air.

&lt;span class=&quot;man&quot;&gt;&quot;Very good, now the next.&quot;&lt;/span&gt; the man instructs. You grab the remaining nipple-clamp resting in your lap move it towards the your nipple.

[[Put the second nipple-clamp on your right nipple]]</tw-passagedata><tw-passagedata pid="93" name="Put the second nipple-clamp on your right nipple" tags="" position="1550,10025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/066_CLAMPS.png&quot;&gt;
Your right nipple is just as hard as the left and the clamp is just as uncomfortable. You place the second clamp on your right nipple. A heat is now radiating in both of your breasts, intensily at the area around your nipples and almost painfully so on your nipples. Your flinch at the sensation. The chain on the second clamp is also not attached to anything else, it too resting on the lower-half of your curved breast before reaching the edge and hanging freely in the air.

You cover your nipples with your arms in shame. Your ring-gag continues to force drool from your mouth and some of it has spilled on your breasts as you put on the clamps. You swallow the remaining drool that has gathered in your mouth.

&lt;span class=&quot;man&quot;&gt;&quot;Good, now attach the chains of the nipple-clamps to your collar.&quot;&lt;/span&gt; the man orders. You&#39;re startled. How, where, what? The chains are too short! Realization hits you... Oh... This will force the clamps to lift your breasts, by your nipples, ever so slightly into the air, creating a constant tug on your nipples. Damn it! The man senses your hesitation.

&lt;span class=&quot;man&quot;&gt;&quot;There are two small holes on either side of your collar that you can attach the chains to.&quot;&lt;/span&gt; he instructs. Your hands go to your neck and trace the collar&#39;s leather. Sure enough, on both sides of the collar, there are holes. You hadn&#39;t noticed them earlier. You inspect the chains of the nipple-clamps. There&#39;s no locks here this time - the first item that won&#39;t require a key to open. That&#39;s something. The chains instead have a regular clasp that you can put through the holes.

[[You tug on the left clamp&#39;s chain, reaching for the hole on the left side of your collar]]</tw-passagedata><tw-passagedata pid="94" name="Attach the left nipple-clamp&#39;s chain to the hole on the left-side of your collar" tags="MUSIC_CHANGE" position="1550,10775" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/073_CLAMPS.png&quot;&gt;
&lt;&lt;if $refusals is 0&gt;&gt;You&#39;ve followed the man&#39;s orders so far without hesitation. You begin to get used to being treated like this...&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 1 and $refusals &lt;= 4&gt;&gt;You&#39;ve not always silently followed his requests, that&#39;s for sure, but you find yourself agreeing to do most of the things he suggests without complaining...&lt;&lt;else&gt;&gt;You&#39;ve not willingly obey him thus far - he&#39;s had to use force to break you into submission. However, fearing punishment, you obey him now...&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

You once again find yourself obey the man, despite the painful tug on your breast and nipple. You attach the left nipple-clamp&#39;s chain to the hole on the left side of your collar.

As you do so, your left breast is now constantly being pulled slightly into the air. You can lower it slightly by pushing your neck and head forward as much as you can, but even then, the painful tugging doesn&#39;t stop.

Eventually you realize that your nipple is growing used to the constant pressure and pain, if only ever so slightly. As long as you don&#39;t move too much...

&lt;span class=&quot;man&quot;&gt;&quot;Good. Now don&#39;t get any ideas about removing that without me explicitly telling you to - got it?&quot;&lt;/span&gt; the man says. You stutter through your gag as well as you can: &lt;span class=&quot;jessica&quot;&gt;&quot;ot it, &#39;aster.&quot;&lt;/span&gt;

&lt;&lt;if $refusals &lt;= 3&gt;&gt;For the most part, you have submissively obeyed your Master without complaining. You&#39;re beginning to wonder if you, and other women, aren&#39;t submissive sluts in their core after all...&lt;&lt;else&gt;&gt;The bastard has been using force more than once to get his way, and it has been working for him. You find yourself fearing his punishment and eventually obeying him anyway, just like now...&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;man&quot;&gt;&quot;Now, the right nipple-clamp.&quot;&lt;/span&gt; he says. You know what to do...

[[Attach the right nipple-clamp&#39;s chain to the hole on the right side of your collar]]</tw-passagedata><tw-passagedata pid="95" name="You tug on the left clamp&#39;s chain, reaching for the hole on the left side of your collar" tags="" position="1550,10150" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/066_CLAMPS.png&quot;&gt;
You follow the man&#39;s instructions. Immediately as you lift the chain towards your neck you feel the pull of the clamp on your nipple. The painful sensation that you had started to get used to intensifies as the clamp pulls on your nipple and lifts your left breast with it. You gasp in pain. This is beginning to hurt for real. You...

[[Attach the left nipple-clamp&#39;s chain to the hole on the left-side of your collar]]

[[Refuse - the pain is too much, you simply won&#39;t do it]]</tw-passagedata><tw-passagedata pid="96" name="Refuse - the pain is too much, you simply won&#39;t do it" tags="REFUSAL MUSIC_CHANGE" position="1425,10200" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/066_CLAMPS.png&quot;&gt;
This is getting too painful for you, your nipples are sore and the extra pull that the chains force on your breasts, when attached to the collar, is too much. You let the chain fall down, hanging in the air over your breast.

The man slams a hand in the stall wall and you jump, startled. Your bondage is preventing you from moving an inch, of course. You&#39;ve clearly angered the man. Remembering the situation you find yourself in, you decide to...

[[Remember your place and obey the man - Attach the left nipple-clamp&#39;s chain to the hole on the left-side of your collar|Attach the left nipple-clamp&#39;s chain to the hole on the left-side of your collar]]

[[Do nothing]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="97" name="Do nothing" tags="REFUSAL" position="1300,10250" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/068_PULL.png&quot;&gt;
You choose to do nothing. Your ring-gag is once again drooling and you swallow urgently. The air is electric.

&lt;span class=&quot;man&quot;&gt;&quot;I warn you, the pain is nothing compared to what I&#39;ll do to you if you don&#39;t obey, slave.&quot;&lt;/span&gt; the man says and you feel the leash on your collar once again growing tight as it begins to pull you forward. This time, your body is pinned to the toilet seat, so the pulling only manages to draw your upper body towards the hole. You grab the leash with your hands and try to pull back, but the man is too strong. His pull is choking you now and the chains binding you to the toilet are painfully cutting into your flesh.

&lt;span class=&quot;man&quot;&gt;&quot;Last warning.&quot;&lt;/span&gt; the man threatens. You...

[[Beg for mercy and promise to do as he says]]

&lt;&lt;if $refusals &lt;= 4&gt;&gt;[[Refuse to give in|Refuse to give in soft punishment]]&lt;&lt;else&gt;&gt;[[Refuse to give in]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="98" name="Beg for mercy and promise to do as he says" tags="" position="1275,10475" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/068_PULL.png&quot;&gt;
You realize it&#39;s pointless to refuse. You&#39;re having trouble breathing as the pull chokes your throat. With panic in your heart and ring-gag in your mouth, you manage to incoherently stutter:

&lt;span class=&quot;jessica&quot;&gt;&quot;Sorry, &#39;aster, liis... liis! Sorry... I.. ill.. oo it...&quot;&lt;/span&gt;

You&#39;re a blabbering mess. The pull on your throat stops, slowly, and you gasp for air. You lean back on the toilet seat again, the chains no longer clawing into your flesh. He&#39;s won this time, you are not going to cross him on this one. Defeated, you...

[[Obey the man - Attach the left nipple-clamp&#39;s chain to the hole on the left-side of your collar|Attach the left nipple-clamp&#39;s chain to the hole on the left-side of your collar]]</tw-passagedata><tw-passagedata pid="99" name="Refuse to give in" tags="" position="1150,10325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/068_PULL.png&quot;&gt;
You fight against the leash, but you&#39;re having trouble breathing as the collar chokes you. The pull causes the chains that hold you to the toilet seat to dig deep into your skin. You pull on the leash with your free arms and push against the stall wall for leverage, but it doesn&#39;t help. You can&#39;t breath. Tears are building on your eyes and you try to gasp for air. You can feel your face growing red and it feels as if your eyes are about to pop out of your skull.

Your arms are growing weak and you begin to realize that you just might die if the man doesn&#39;t stop choking you. Your vision begins to darken...

[[Beg for mercy|Beg for mercy and promise to do as he says]]

&lt;&lt;if $refusals &gt; 4&gt;&gt;[[Struggle silently]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="100" name="Choose the warm light" tags="ENDING MUSIC_CHANGE" position="700,10450" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;bad_ending&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/070_LIGHT.png&quot;&gt;
You turn towards the welcoming light. It&#39;s an easy choice. You fly towards the light and the closer you get, the warmer you become as you escape the radiating cold of the darkness behind you.

The light surrounds you as you slink into the world beyond, free from your mortal body. Eternity hugs you with a warm embrace.


The end.

Ending #2 - Death. You manage to escape your captor by leaving your earthly body behind... This was probably an accident, surely the man didn&#39;t mean to choke you to death...?

You can restart the game from the configuration menu.</tw-passagedata><tw-passagedata pid="101" name="Choose the cold darkness" tags="" position="975,10525" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/071_DARK.png&quot;&gt;
You can&#39;t shake off the feeling that the seductive warm light is not a good choice, even though it is seductively welcoming you to its embrace. You turn towards the cold darkness and walk towards the gaping maw of the storm, frost building on your skin.

You reach the exit and plummet into a dark pit, you fall screaming and freezing in complete blackness. You can see a frozen lake approaching from below, its surface sealed shut by ice. You prepare for impact as you body hits the ice and breaks through into the cold water. You scream.

[[...|awake from dream]]</tw-passagedata><tw-passagedata pid="102" name="Struggle silently" tags="REFUSAL" position="1000,10375" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/068_PULL.png&quot;&gt;
You choose to stay quiet and struggle, but your body is growing weak. Still the man continues choking you and you feel your mind clouding. Your hands fall weakly to the bathroom floor. The world darkens.

[[...|enter dream]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="103" name="awake from dream" tags="" position="1100,10575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/068_PULL.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;AAAAAAAAAAAAAAAAAAAAAAAAA!&quot;&lt;/span&gt;

You awake cold and wet, screaming at the tops of your lungs. You try to move but your body is pinned... You glance down. Your legs and lower body are tied to a toilet seat with chains. You try to shut your mouth, but something prevents you... Your arms, not tied, reach for your hand. There&#39;s metal ring in your mouth...

All of a sudden it all comes back: The bathroom, the man, the bondage... The last thing that you recall is the man choking you...

The stall door is open and you see the masked man fully for the first time. You find it hard to concentrate on any details other than he&#39;s masked and wearing gloves, and an expensive suit. He throws a towel at you. You see it coming but your arms do not react in time to catch it. The towel falls on your lap.

&lt;span class=&quot;man&quot;&gt;&quot;I&#39;m not joking - stop fighting and start obeying the orders given you. Now dry yourself up.&quot;&lt;/span&gt; the man says and shuts the bathroom door. You hear him lock the door to your bathroom stall from the other side, not that it matters - you&#39;re already tied to the toilet seat and escaping is impossible.

You grab the towel and notice that you are, in fact, soaking wet, as if you&#39;d just showered. You&#39;re also freezing. Your throat is also hurting immensly. You put the clues together: the man must&#39;ve choken you until you lost conciousness, then thrown ice cold water on you to wake you up. Your head is spinning from the realization... The man almost killed you for refusing again...

You begin to dry yourself with the towel and use it to build friction on your skin to warm yourself. Minutes to by and you&#39;re left with your thoughts and the towel to warm and dry yourself thoroughly.

Eventually you&#39;re no longer shivering from cold, your breathing has calmed and you are as dry as you can get.

&lt;span class=&quot;man&quot;&gt;&quot;The towel, hand it over.&quot;&lt;/span&gt; the man orders.

[[Pass him the towel under the stall]]</tw-passagedata><tw-passagedata pid="104" name="enter dream" tags="MUSIC_CHANGE" position="850,10450" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/069_TUNNEL.png&quot;&gt;
A blissful darkness surrounds you. Was it all a dream? Is this a dream? Where are you?

You&#39;re flying through a dark void, free from your bound body. Eternity stretches to all directions.

The void around you forms a tunnel. First in front of you, then around you. You&#39;re now inside the tunnel. A train track runs through it. You see two ways you can fly, forwards, or backwards, both directions are pitch black.

A light appears in the way forward. The light is warm, inviting. It feels, familiar, welcoming.

A cold wind blows from behind you. You glance back at the way back. The tunnel is freezing from the storm that blows through that way. You&#39;re chilled to your bones by the coldness. You sense pain coming from the black void in the way back. You realize that you can&#39;t stay here in the tunnel, and must choose a way to go. In the dream, somehow, you know that the darkness will bring you back to your body and the light will take you to the next world...

[[Choose the warm light]]

[[Choose the cold darkness]]</tw-passagedata><tw-passagedata pid="105" name="Pass him the towel under the stall" tags="" position="1225,10625" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/066_CLAMPS.png&quot;&gt;
You see how dangerous he has become and choose to follow his orders immediately. You push the towel to his side.

&lt;span class=&quot;man&quot;&gt;&quot;Good. Now, let&#39;s continue where we were: Attach the nipple-clamp chains to your collar.&quot;&lt;/span&gt; the man orders.

You know better than to refuse, so you...

[[Attach the left nipple-clamp&#39;s chain to the hole on the left-side of your collar]]</tw-passagedata><tw-passagedata pid="106" name="Decide you&#39;ve had enough. Storm out of the bathroom." tags="REFUSAL" position="1325,2175" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/008_HANDS.png&quot;&gt;
There&#39;s no way you&#39;re doing that! Your mind is thinking of just one thing - escaping the situation! You burst against the stall door and push it open... But it&#39;s stuck. He&#39;s somehow locked it from the other side! You frantically mess with the lock and push your weight against the door. It won&#39;t budge. There is no room to escape from the top, and the space between the stall and the floor of the bathroom is way too small to fit you... You&#39;re panicking. You&#39;re furious with yourself for forgetting your purse, and in it your phone, on your desk... You could&#39;ve called for help now...

&lt;span class=&quot;man&quot;&gt;&quot;I did not ask, actually.&quot;&lt;/span&gt; he says sharply. You barely hear him as you frantically try to open the stall door.

&lt;span class=&quot;man&quot;&gt;&quot;See this as hitting two birds with one stone - you get to keep your job and you get to experience something that you deep down desire.&quot;&lt;/span&gt; he continues.

You stop fidgeting on the stall door. There&#39;s no way you&#39;ll open it. You slump down back on the toilet-seat, frustrated.

&lt;span class=&quot;man&quot;&gt;&quot;No-one&#39;s coming for a many days, you know that. All I ask is a small favor from you and I&#39;ll give a big favor to you.&quot;&lt;/span&gt; he insistently continues. &lt;span class=&quot;man&quot;&gt;&quot;I&#39;ll fix all your piled up work before new year and give the boss a good word about you.&quot;&lt;/span&gt;

He really is insistent. You&#39;re furious and freightened. Minutes go by as you silently ponder your predicament. You could just try to sleep and hope he gets bored and leaves, but the office will be empty for many days due to the holidays. No-one is likely to help you from this situation... In fact, the man already has you trapped here and if he chooses to storm into the stall, there&#39;s nothing you can do to stop him. It might be best to just comply to his request and thus even get to sleep in your own warm bed later tonight.

More minutes go by. Finally you decide to...
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $triedLeavingBathroom to true&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;/silently&gt;&gt;
[[Ignore the man and curl up on the bathroom floor and wait for him to leave|alternative chapter 1 path]]

&lt;&lt;link $jessicaOptionReply $jessicaOptionLink&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="107" name="Ask him who he is" tags="" position="1225,1200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/007_LETTER.png&quot;&gt;
Your first reaction is to ask him: &lt;span class=&quot;jessica&quot;&gt;&quot;Who are you?&quot;&lt;/span&gt;

The man replies: &lt;span class=&quot;man&quot;&gt;&quot;I work at this company, we have the same boss, but we haven&#39;t officially met. Let&#39;s keep the rest as a mystery, shall we?&quot;&lt;/span&gt;

You&#39;re unsatisfied with the answer and realize that for all you know, he could be lying too. You&#39;re not going to get more information from him for sure. Eventually, you...

[[Ask: &quot;What kind of favor?&quot;|After a thoughtful silence, your shaky voice manages to ask weakly &quot;What kind of favor...&quot;]]</tw-passagedata><tw-passagedata pid="108" name="Refuse to give in soft punishment" tags="" position="1425,10425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/068_PULL.png&quot;&gt;
You fight against the leash, but you&#39;re having trouble breathing as the collar chokes you. The pull causes the chains that hold you to the toilet seat to dig deep into your skin. You pull on the leash with your free arms and push against the stall wall for leverage, but it doesn&#39;t help. You can&#39;t breath. Tears are building on your eyes and you try to gasp for air. You can feel your face growing red and it feels as if your eyes are about to pop out of your skull.

Your arms are growing weak and you begin to realize that you just might die if the man doesn&#39;t stop choking you. Your vision begins to darken...

[[Beg for mercy|Beg for mercy and promise to do as he says]]</tw-passagedata><tw-passagedata pid="109" name="Fuck you soft punishment" tags="REFUSAL MUSIC_CHANGE" position="1300,4300" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/027_KNEEL.png&quot;&gt;
Your neck almost snaps as he pulls you back towards the wall of the stall and the hole in the wall that has ruined your day. He zaps with a very painful jolt and you scream as it courses through your body. The wet drool intensifies the shocks and your throat and neck feel like they&#39;re on fire by the time he&#39;s finished with you.

&lt;span class=&quot;man&quot;&gt;&quot;When will you learn that you have absolute no say in the matter, slut?&quot;&lt;/span&gt; he barks at you. You hear the words but the meaning slips right past you. Your mind is foggy from the zapping.

A short while later, you awake from your shocked state. He notices you stirring into consciousness.

&lt;span class=&quot;man&quot;&gt;&quot;I hope you now understand what is needed of you. Do you?&quot;&lt;/span&gt; his question pierces through your very being. Your sore throat barely manages to say...
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
[[I understand... Master.]]</tw-passagedata><tw-passagedata pid="110" name="Attach the right nipple-clamp&#39;s chain to the hole on the right side of your collar" tags="" position="1550,10950" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/074_CLAMPS.png&quot;&gt;
You obey the man and attach the right nipple-clamp&#39;s chain to the hole on the right side of your collar.

Both of your breasts are now suspended in the air, being painfully pulled by clamps attached to the collar around your neck. You feel humiliated sitting here, bound to the toilet, breasts perking up like priced possessions. Simultaneously another feeling is growing stronger in you, one that is beginning to enjoy the perverted acts that the man is forcing you do to. You shudder at the thought.

The man praises your obedience by saying:&lt;span class=&quot;man&quot;&gt; &quot;Well done, and without hesitation too. Just what a good slut should do.&quot;&lt;/span&gt;

You let him have this moment and silently hope that your torment will soon be at an end. Just as you think the thought, you hear him once again search for something in that bags of his. After a short while, a new item is pushed to your stall. You glance down.

[[Reflect on your current bondage predicament|reflection after both clamps attached to collar]]

[[Study the latest object]]</tw-passagedata><tw-passagedata pid="111" name="reflection after both clamps attached to collar" tags="" position="1375,11050" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/074_CLAMPS.png&quot;&gt;
You look at your body and count all the ways the man has trapped it already...

You&#39;re sitting on the toilet-seat cover, completely naked. Around your neck is a locked collar that is attached to a leash, which goes through the wall of the bathroom stall you&#39;re sitting in. The man, your... master, as he wants you to call him, has attached the other end of the leash to something on the other side that you cannot budge.
Your mouth is drooling and kept open by an uncomfortable ring-gag, locked around your head by a leather strap.
On the toilet-seat is a vibrator, firmly attached with suction to the cover. You are presently sitting on it as any other option would be uncomfortable. The device is currently not buzzing. Its made of soft plastic and hugs your private parts firmly.
You&#39;re also wearing some sort of locked leather straps around both of your thighs, attached to a third leather straps around your waist by two rings - one on both side of your hips.
Your ankles are cuffed together under the toilet-seat and lift into the air by another chain, making it impossible for you to stand up.
The chain that is forcing your ankles into the air is also attached to the rings on either side of your hips. This also ensures you cannot move an inch upward, as you&#39;re pinned to the toilet seat cover.
A chain around the back of the toilet, has pinned your lower body firmly to the back of the toilet-seat. The combination of chains attaching you to the toilet is preventing you from standing up or moving in any direction.
You are wearing nipple-clamps on both of your nipples. A chain is attached to each of the clamps, and the chains are attached to your collar: The left nipple-clamp&#39;s chain to a hole on the left side of your collar, and the right one on the right side. The chains are so short that your breasts are suspended in the air, a constant painful pull is felt in your breasts as a result.

The man has just pushed another item to you...

[[Study the latest object]]</tw-passagedata><tw-passagedata pid="112" name="Study the latest object" tags="" position="1550,11150" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/075_CUFFS.png&quot;&gt;
You study the object. On closer inspection, you notice it is two round objects, made from leather. You realize they look exactly like hand-cuffs, but they are not attached by a chain to each-other. Well actually... They are hand-cuffs...

&lt;span class=&quot;man&quot;&gt;&quot;Attach them to your wrists, just above the hand.&quot;&lt;/span&gt; the man instructs, which doesn&#39;t come as a surprise. You grab the items. They have an attachable lock, just like your ankle-cuffs, so if you attach them, you won&#39;t be able to escape. You...

&lt;&lt;if $refusals &lt;= 3&gt;&gt;[[Submissively put the wrist-cuffs on|Put the wrist-cuffs on both arms, just above the wrists, but do not lock them yet]]&lt;&lt;else&gt;&gt;[[Reluctantly put the wrist-cuffs on|Put the wrist-cuffs on both arms, just above the wrists, but do not lock them yet]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="113" name="Put the wrist-cuffs on both arms, just above the wrists, but do not lock them yet" tags="" position="1550,11275" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/076_CUFFS.png&quot;&gt;
You put the hand-cuffs on your wrists, again starting with the left side. The leather cuff fits snuggly on your arm, just above your hand. Next, you do the same for the right arm. You&#39;re beginning to feel that the end of your freedom is near and soon you won&#39;t be able to do anything at all...

&lt;&lt;if $refusals &lt;= 3&gt;&gt;You have followed your master&#39;s instructions almost to the letter thus far and you will not stop doing it now.&lt;&lt;else&gt;&gt;You fear the punishment the man will inflict on you if you refuse his orders. Your body is still aching from the previous punishments. You decide that you won&#39;t disobey his orders anymore.&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;man&quot;&gt;&quot;Remember to lock them.&quot;&lt;/span&gt; the man instructs. You can still remove the cuffs if you so choose, but you choose not to do it. Instead, you...

[[Lock the hand-cuffs]]</tw-passagedata><tw-passagedata pid="114" name="Lock the hand-cuffs" tags="" position="1550,11400" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/076_CUFFS.png&quot;&gt;
The lock on the left wrist-cuff clicks shut firmly and you give it a few test pulls. Sure enough, the thing won&#39;t budge. The cuff is also made from just the same leather as most of the other bondage items you&#39;re wearing, thus making a brute-force escape equally impossible. You will not be able to remove the left wrist-cuff anymore.

You move on to the right wrist-cuff and lock that also. You have, of course, not lost any movement yet, since the cuffs aren&#39;t attached to each-other or anything else. However, the sensation of wearing something on your hands that will likely soon remove your last traces of freedom fills you with &lt;&lt;if $refusals &lt;= 2&gt;&gt;excitement.&lt;&lt;else&gt;&gt;dread.&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;man&quot;&gt;&quot;Just like I&#39;ve taught you. You&#39;re beginning to impress me, slut.&quot;&lt;/span&gt; the man says from the other stall. You have indeed been trained, one way or another, to follow his commands. And indeed, you have done everything he&#39;s asked...

Yet another chain is pushed underneath the stall wall to your side. The man instructs you how to use it: &lt;span class=&quot;man&quot;&gt;&quot;Attach this to the hole at the back of your collar and remember to lock it.&quot;&lt;/span&gt;

You had not studied the collar enough to know that it has yet another hole in it. Your hands instinctively go to the back of your neck, where, sure enough, there&#39;s a hole for yet another chain, exactly like the one that the man&#39;s leash is currently attached to. You...

[[Grab the chain and attach it to the hole in the back of your collar, then lock it firmly in place]]</tw-passagedata><tw-passagedata pid="115" name="Grab the chain and attach it to the hole in the back of your collar, then lock it firmly in place" tags="" position="1550,11525" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/077_CHAIN.png&quot;&gt;
You do as the man instructs, wanting to obey and not be punished in equal measures. The task is harder to pull off than you thought, because you cannot see what you are doing. Your hands fiddle about behind your neck and eventually, you manage to slip one end of the chain into the hole. You then spend a while messing with the the locking mechanism, trying to secure it. The man chuckles at your attempts and your cheeks glow red with embarassment. Finally, the lock&#39;s clicking sound assures you that you&#39;ve succeeded. You try to remove the chain and confirm that you cannot open it yourself anymore.

For now, the chain has done nothing to stop you from moving. It&#39;s merely touching your back, hanging from the back of your neck. The chain is quite short, reaching only to just under your shoulder-blades.

&lt;span class=&quot;man&quot;&gt;&quot;Now comes the tricky part.&quot;&lt;/span&gt; the man then says. &lt;span class=&quot;man&quot;&gt;&quot;First, put your hands behind your back, low, then attach your wrist-cuffs to each-other. Use this lock to do so.&quot;&lt;/span&gt; As he says it, he slips you another lock to use. You study the wrist-cuffs, there&#39;s plenty of holes to choose from.

[[Grab the lock and put your hands behind your back, low, near your ass cheeks]]</tw-passagedata><tw-passagedata pid="116" name="Grab the lock and put your hands behind your back, low, near your ass cheeks" tags="" position="1550,11650" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/077_CHAIN.png&quot;&gt;
You do as the man says, you grab the lock and put your hands behind your back, resting on the cover of the toilet seat.

&lt;span class=&quot;man&quot;&gt;&quot;Now, lock them together.&quot;&lt;/span&gt; the man says.

[[Reflect on your current bondage predicament|reflection before locking cuffs behind your back]]

[[Lock your wrist-cuffs together|Lock your writst-cuffs together]]</tw-passagedata><tw-passagedata pid="117" name="reflection before locking cuffs behind your back" tags="" position="1400,11725" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/074_CLAMPS.png&quot;&gt;
You look at your body and count all the ways the man has trapped it already...

You&#39;re sitting on the toilet-seat cover, completely naked. Around your neck is a locked collar that is attached to a leash, which goes through the wall of the bathroom stall you&#39;re sitting in. The man, your... master, as he wants you to call him, has attached the other end of the leash to something on the other side that you cannot budge.
Your mouth is drooling and kept open by an uncomfortable ring-gag, locked around your head by a leather strap.
On the toilet-seat is a vibrator, firmly attached with suction to the cover. You are presently sitting on it as any other option would be uncomfortable. The device is currently not buzzing. Its made of soft plastic and hugs your private parts firmly.
You&#39;re also wearing some sort of locked leather straps around both of your thighs, attached to a third leather straps around your waist by two rings - one on both side of your hips.
Your ankles are cuffed together under the toilet-seat and lift into the air by another chain, making it impossible for you to stand up.
The chain that is forcing your ankles into the air is also attached to the rings on either side of your hips. This also ensures you cannot move an inch upward, as you&#39;re pinned to the toilet seat cover.
A chain around the back of the toilet, has pinned your lower body firmly to the back of the toilet-seat. The combination of chains attaching you to the toilet is preventing you from standing up or moving in any direction.
You are wearing nipple-clamps on both of your nipples. A chain is attached to each of the clamps, and the chains are attached to your collar: The left nipple-clamp&#39;s chain to a hole on the left side of your collar, and the right one on the right side. The chains are so short that your breasts are suspended in the air, a constant painful pull is felt in your breasts as a result.
Your collar has a chain attached to it also at the back-side, but the chain is short, reaching only about to the end of your shoulder-blades on your back. It&#39;s not attached to anything else... Yet.
Your wrists are both wearing wrist-cuffs, which are locked, and you cannot open them without a key. The cuffs are not attached to each-other, not anything else.

The man has, however, given you a lock which you&#39;re supposed to use to lock the wrist-cuffs together behind your back.

[[Lock your wrist-cuffs together|Lock your writst-cuffs together]]</tw-passagedata><tw-passagedata pid="118" name="Lock your writst-cuffs together" tags="" position="1550,11800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/079_BOUND.png&quot;&gt;
You&#39;re about to do it, you realize. Your mind has already decided it, even though your body hasn&#39;t acted on it. You are about to remove the final movement freedom you have, your hands, and tie them behind your back. It suddenly becomes very hot in the bathroom as you come to terms with what you&#39;re about to do. If the man is right, all women have this side to them, after all...

Your shaking hands somehow manage the task: You find an empty hole in the left wrist-cuff, put the lock through it, then find a hole in the right cuff and put the lock through that as well. You&#39;re doing all of this without seeing anything, as the cuffs are behind your back. You lock the cuffs together with a familiar clicking sound.

Your hands are now helplessly tied together behind your back and you have no way of removing the cuffs or escaping the bondage without the man&#39;s help. You&#39;re now unable to even attempt to defend yourself, should the man choose to take advantage of you.

&lt;span class=&quot;man&quot;&gt;&quot;That&#39;s perfect. Now, attach your wrist cuffs to the chain that hangs from the back of your collar.&quot;&lt;/span&gt; the man orders.

You&#39;re already struggling to move your arms as it is, now the man wants you to attach them to the chain as well? You test the position: it will force your elbows out to either side as you must reach up with your hands to reach the chain that ends just under your shoulder-blades. You hesistate. This is it, right? The final step... After this you won&#39;t be able to tie yourself up more... You&#39;ve come this far and decide to see things through. Closing your eyes, you feel about the chain, finding the lock. You raise your hands behind your back to the chain...

[[Attach and lock the chain on your wrist-cuffs]]</tw-passagedata><tw-passagedata pid="119" name="Struggle against the cloth" tags="MUSIC_CHANGE" position="3475,3025" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/010_STRUGGLE.png&quot;&gt;
He&#39;s much stronger than you and your thrashing is futile. He brings the cloth to your face. You try to claw at him and hold your breath. He ignores your attempts easily. You can feel a burning sensation where the cloth touches your mouth, nose and lips and your eyes are beginning to tear up from the vapor.

&lt;span class=&quot;man&quot;&gt;&quot;Nothing personal.&quot;&lt;/span&gt; he says and keeps pressing the cloth against your face.&lt;span class=&quot;man&quot;&gt; &quot;Just business.&quot;&lt;/span&gt;

You can feel your lungs burning for air as he continues to grab you. You can&#39;t escape, you must have air! Your lungs involuntarily attempt to take in a deep breath. You pass out...

[[...|start chapter 2]]</tw-passagedata><tw-passagedata pid="120" name="start chapter 2" tags="MUSIC_CHANGE" position="3700,2975" size="200,200">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;span class=&quot;chapterTitle&quot;&gt;&lt;h1&gt;Chapter 3 - Kidnapped and drugged&lt;/h1&gt;&lt;/span&gt;You don&#39;t know how much time has passed, but you awaken in complete darkness. Your body is aching. Where are you? You&#39;re certainly not in the bathroom anymore... Your first thought is that you&#39;ve been kidnapped! Panic fills you... Why did this happen to you... If this is a nightmare, please, you want to awaken. If this is reality, please let it be a cruel joke...

&lt;&lt;if $ch3_kidnapped_from_ch3 is true&gt;&gt;Never in a million years did you expect something like this. Did the men from your office come for you? Kidnapped you because you refused to follow the contract?&lt;&lt;/if&gt;&gt;&lt;&lt;if $shavedHead is false&gt;&gt;You slowly become aware of a terrifying realization. There&#39;s a breeze blowing on the top of your head, and you&#39;ve never felt such direct cold there... You try to angle yourself in all possible ways to confirm your greatest fear... The fucking bastard! He must have shave off all your hair! Your beautiful hair! Despair sets in and you cry for what seems like an eternity... &lt;&lt;/if&gt;&gt;

You slowly calm yourself... Assessing your situation and escaping is now the priority. But that&#39;s when you feel it. Something strange within you. A sort of warm, fuzzy feeling that makes it hard to concentrate. It takes you a moment to identify what&#39;s happening, but you come up with no other explanation. They must have drugged you with something! Something that makes you head spin. Something that makes you relax and drowsy, even as you try to focus and stay sharp. Something that makes your mind wander to inappropriate places, inappropriate actions done by inappropriate people to you. Their hands on your body, pulling your hair, removing your clothes, shoving their cocks inside you wet...

Whoa! Fuck... You&#39;ve got to stay focus, Jessica... Whatever they did is making you horny and distracted, but you have to fight this. Snapping out of it, you decide to...

[[Listen]]

[[Explore]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $explore to false&gt;&gt;
&lt;&lt;set $explore_body to false&gt;&gt;
&lt;&lt;set $listen to false&gt;&gt;
&lt;&lt;set $time to 0&gt;&gt;
&lt;&lt;set $found_rock to false&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="121" name="Attach and lock the chain on your wrist-cuffs" tags="" position="1550,11925" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/079_BOUND.png&quot;&gt;
You bring the locking mechanism of the chain to your wrist-cuffs and shut it with a click. You test your new bindings. Indeed, you cannot move your hands more than an inch to either side or even backwards, and your elbows are pointing to both sides of your body in this awkward position. You&#39;ve completely surrendered your body to the man now. Surely you&#39;ve completed your end of the deal now?

[[Reflect on your bondage predicament|reflection after complete bondage]]

[[&quot;are ee done? I did as you said.&quot; you manage through your ring-gag]]</tw-passagedata><tw-passagedata pid="122" name="reflection after complete bondage" tags="" position="1400,12025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/079_BOUND.png&quot;&gt;
You look at your body and count all the ways the man has trapped it already...

You&#39;re sitting on the toilet-seat cover, completely naked. Around your neck is a locked collar that is attached to a leash, which goes through the wall of the bathroom stall you&#39;re sitting in. The man, your... master, as he wants you to call him, has attached the other end of the leash to something on the other side that you cannot budge.
Your mouth is drooling and kept open by an uncomfortable ring-gag, locked around your head by a leather strap.
On the toilet-seat is a vibrator, firmly attached with suction to the cover. You are presently sitting on it as any other option would be uncomfortable. The device is currently not buzzing. Its made of soft plastic and hugs your private parts firmly.
You&#39;re also wearing some sort of locked leather straps around both of your thighs, attached to a third leather straps around your waist by two rings - one on both side of your hips.
Your ankles are cuffed together under the toilet-seat and lift into the air by another chain, making it impossible for you to stand up.
The chain that is forcing your ankles into the air is also attached to the rings on either side of your hips. This also ensures you cannot move an inch upward, as you&#39;re pinned to the toilet seat cover.
A chain around the back of the toilet, has pinned your lower body firmly to the back of the toilet-seat. The combination of chains attaching you to the toilet is preventing you from standing up or moving in any direction.
You are wearing nipple-clamps on both of your nipples. A chain is attached to each of the clamps, and the chains are attached to your collar: The left nipple-clamp&#39;s chain to a hole on the left side of your collar, and the right one on the right side. The chains are so short that your breasts are suspended in the air, a constant painful pull is felt in your breasts as a result.
Your wrists are both wearing wrist-cuffs, which are locked, and you cannot open them without a key. The cuffs are attached to each-other, keeping your hands closely together behind your back.
Your collar has a chain attached to it also at the back-side, but the chain is short, reaching only about to the end of your shoulder-blades on your back. Your wrist-cuffs are attached to the chain, pinning your arms behind your back, which pushes your elbows to either side of your body in an awkward position.

You&#39;ve done everything the man has said, and cannot do any more with your hands tied behind your back...

[[&quot;are ee done? I did as you said.&quot; you manage through your ring-gag]]</tw-passagedata><tw-passagedata pid="123" name="&quot;are ee done? I did as you said.&quot; you manage through your ring-gag" tags="MUSIC_CHANGE" position="1550,12125" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/080_BOUND.png&quot;&gt;
You manage to ask him if you&#39;re done now, as you&#39;ve done as he said. Your ring-gag is drooling once again on your lap and you quickly adjust your position to keep the drool in your mouth.

&lt;span class=&quot;man&quot;&gt;&quot;Almost. You&#39;ve been a very good slut, I knew you had it in you.&quot;&lt;/span&gt; the man replies and you hear him exiting his stall. Your heart skips a beat. You hear a lock opening on the other side of your stall door. Your pulse increases. You&#39;re acutely aware of the fact that you&#39;re completely tied up here, with an exposed mouth, with a stranger about to...

He opens the door. He&#39;s wearing a fine office suit, a mask that hides his face, and leather gloves. All details you&#39;ve already glimpsed. He&#39;s wearing a control of some sort in his left hand, surely that controls the vibrator you&#39;re sitting on? He enters the bathroom stall with you.

&lt;span class=&quot;man&quot;&gt;&quot;Now, you show what a good slave you are on my cock. Worship it and let it fill you. Do this, and I activate the vibrator. Ready?&quot;&lt;/span&gt; You&#39;re not surprised, but you&#39;re a bit disappointed. Can&#39;t the man just let you go already?

[[You nod]]

[[You shake your head|shave head warning]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $headShaveWarningsGiven to 0&gt;&gt;
&lt;&lt;set $shavedHead to false&gt;&gt;
&lt;&lt;set $previousPassage to &quot;worship his cock&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="124" name="You nod" tags="MUSIC_CHANGE" position="1550,12350" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;You realize that you&#39;d better start complying with his requests, or the punishments will grow worse and worse, not stopping at shaving your hair... After a moment you compose yourself.&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt; You really don&#39;t have a choice but to obey him anyway and you agree to worship his cock, which you realize will be difficult with the ring-gag. You&#39;re not used to sucking dicks with a metal ring keeping your mouth open. The man pulls down his pants just enough for his half-erect dick to pop into your view. It&#39;s been a while since you sucked it last time, but even then you&#39;re wondering why it isn&#39;t completely erect. Surely he&#39;s enjoying this and should be aroused, why else would he do it?

&lt;&lt;if $shavedHead is false&gt;&gt;The vibrator activates at a low setting. The buzzing stimulates your pussy and asshole again and you find yourself enjoying the sensation. Stimulated and willing, you begin sucking his cock...&lt;&lt;else&gt;&gt;The vibrator remains shut off. The man will not put it on now that you disobeyed him... Defeated and broken, you begin sucking his cock...&lt;&lt;/if&gt;&gt;

The man is standing just far enough from you that you need to lean forward to reach his cock. The chains keep you pinned to the toilet seat, cutting into your skin as your tongue touches the tip of his member. You begin licking it in an attempt to get it erect. Your plan is to, once you manage that, you won&#39;t have to lean as much forward to suck it. The tip tastes salty and you bob his dick in small motions up and down with your tongue. It immediately responds to your stimulus and soon he&#39;s rock hard again. The metal ring makes it awkward to put it in your mouth, but you manage to do it. You begin a forward-backwards motion, taking his member into your mouth as you try your best to pleasure it with your tongue. &lt;&lt;if $shavedHead is false&gt;&gt;The vibrator is stimulating your exposed pussy-lips and the tight hugging and buzzing on your clitoris is making you horny. You double your efforts on his cock...&lt;&lt;/if&gt;&gt;

You take him deeper into your mouth, gagging each time his dick enters your throat. You choke as he suddenly grabs your head from behind and pushes the full length of his manhood into your throat. You can do nothing to stop him, gagged and bound as you are. You&#39;re having trouble breathing as he keeps his cock lodged in your throat, second after second. &lt;span class=&quot;man&quot;&gt;&quot;Hold.&quot;&lt;/span&gt; he orders, his grip not released on your head. You stop struggling, remembering your place. You really need to breath soon... &lt;span class=&quot;man&quot;&gt;&quot;Hold.&quot;&lt;/span&gt; he orders again as he notices your fidgeting. Your body is shaking from the effort. You can&#39;t hold any longer, you need to...

The man releases the hold on your head and you pull back to catch your breath. &lt;span class=&quot;man&quot;&gt;&quot;Continue.&quot;&lt;/span&gt; the man commands.

[[Continue sucking him]]</tw-passagedata><tw-passagedata pid="125" name="shave head scene" tags="REFUSAL MUSIC_CHANGE" position="900,12575" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/082_SHAVE.png&quot;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $shavedHead to true&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;/silently&gt;&gt;You refuse the man&#39;s order. He looks at you and shakes his head. &lt;span class=&quot;man&quot;&gt;&quot;Such a shame, your hair is really beautiful.&quot;&lt;/span&gt; he walks out of your stall. A panic is growing in your chest. He&#39;s not serious, is he!? Shortly there after, he brings an electric hair clipper with him. He&#39;s not bluffing!

&lt;span class=&quot;jessica&quot;&gt;&quot;&#39;ait, sorry!&quot;&lt;/span&gt; you stutter through your gag. Is the man insane?? He can&#39;t cut off your hair, that&#39;s unacceptable!

&lt;span class=&quot;man&quot;&gt;&quot;Too late.&quot;&lt;/span&gt; the man growls and grabs your hair with a strong hand. &lt;span class=&quot;jessica&quot;&gt;&quot;Noooo! I&#39;ll &#39;ucking kill you!&quot;&lt;/span&gt; you scream and struggle against him, but your bondage is severely limiting your movement and you cannot do anything to stop him. You cry and scream and shake your head as the man brings the hair clipper buzzing to your head. Your long hair starts to fall all around you and panic has set in your heart. WHY? THE FUCKING BASTARD! You thrash against him, but he continues shaving your head, unaffected by your cries.

The whole thing is over before you realize. Your hair is spread all around you on the floor, your beautiful long hair... You cry uncontrollably, unable to come to terms with what just happened.

The man walks away from you and returns with a bag. He starts cleaning the bathroom floor, picking up your hair and placing it all in the bag. You barely notice his movement, you&#39;re someplace else in your mind, trying to understand what just happened.

Eventually, the man finishes the task and you can no longer see any traces of your hair around you or on your naked body. Your head is suddenly very cold you realize, as the familiar hair that&#39;s kept you warm all the years of your life has suddenly disappeared.

The man leaves the stall and lets you mourn your hair alone. A few minutes must&#39;ve gone by and your body slowly stops shaking from the shock and you try to calm your breath... Eventually you manage, but you&#39;re furious. The fucking bastard... If you get the chance, you will strangle him. Plotting your revenge fills you with hatred for the man. He returns to your stall.

&lt;span class=&quot;man&quot;&gt;&quot;I warned you. You really need to learn your place. Now do as I order or I&#39;ll do something much worse than shave your head.&quot;&lt;/span&gt; he threatens.

&lt;&lt;if $previousPassage is &quot;worship his cock&quot;&gt;&gt;[[Defeated, you nod your head, secretly plotting your revenge|You nod]]&lt;&lt;else&gt;&gt;&lt;&lt;if $previousPassage is &quot;let him fuck you&quot;&gt;&gt;[[Defeated, you lean forward and put your head against the bathroom floor, lifting your ass in the air|Obey - lean forward and put your head against the bathroom floor, lifting your ass in the air]]&lt;&lt;else&gt;&gt;[[Defeated, you thank him for flogging you and beg him to do it again|Thank him and beg for more flogging]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="126" name="Continue sucking him" tags="" position="1550,12500" size="100,100">&lt;&lt;if $shavedHead is false&gt;&gt;The vibrator is making you truly horny, you can&#39;t stop yourself. You immediately take him into your mouth and throat again.&lt;&lt;else&gt;&gt;You don&#39;t want to disobey the man again, so you reluctantly take his cock into your mouth again.&lt;&lt;/if&gt;&gt;

He&#39;s growing hungry for your throat, you feel it. He&#39;s no longer able to control himself as he thrusts himself forward together with your back-and-forth movement. Your eyes are watering as he time after time goes directly for your throat. You&#39;re loudly gagging every time he does it. You&#39;re drooling uncontrollably from the effort and your ring-gag prevents you from closing your mouth. Your forward leaning position is making the spit and drool fall straight onto your lap.

You&#39;re hanging in there as the man now takes full control of the face-fuck. You&#39;re no longer doing any work, and just as well, you&#39;re exhausted. Your nipples are hurting from the rocking motion forced on your body as his member repeatedly slams into you. &lt;&lt;if $shavedHead is false&gt;&gt;The vibrator keeps buzzing under you and you feel you really need to be fucked soon...&lt;&lt;/if&gt;&gt;

He suddenly stops his thrusting. &lt;span class=&quot;man&quot;&gt;&quot;Ah, that&#39;s better. Continue like this, slut, and you have a bright future ahead of you.&quot;&lt;/span&gt; the man comments as he pulls his cock out of your mouth. Did he cum? No, he did not, you realize. And what does he mean by that? Before you can process it, the man brings a towel and starts drying you from your drool that has pooled all over your chin, neck, belly and lap. How considerate...

&lt;span class=&quot;man&quot;&gt;&quot;Time to give you something now, don&#39;t you think?&quot;&lt;/span&gt; the man says and walks behind the toilet seat you&#39;re sitting on. Your hear some locks opening with a familiar clicking sound. Your feet are once again able to touch the ground, put they remain tightly locked together. This means that the waist-chain pinning you down towards the toilet seat has been opened. He pulls you up to an awkward standing position by your collar. You&#39;re choking and gasping for air as he does so. You put weight on your toes, which reduces some of the pressure on your throat. You also notice that the chain that has been keeping you pinned to the back of the toilet has been removed, so you can once again fall face-first forward if you&#39;re not careful. The only thing currently preventing you from falling is the man&#39;s firm hold on your collar.

The man moves directly behind you: you can feel his member, slimy and wet from your spit, brush against your thigh. He lifts you up in an awkward half-standing half-leaning-forward position, he&#39;s holding one hand on the leather harness around your waist, at your back, and the lift from that alone is keeping you on your toes. He&#39;s extremely strong! The other hand has moved to grab the chain that&#39;s attached to the back of your collar: the fact that you&#39;ve lost your balance and must lean forward causes it to constantly pull the collar back and choke you. You can barely breath. You feel his searching motion with his crotch, trying to find your exposed vagina...

&lt;&lt;if $shavedHead is false&gt;&gt;[[You really need to be fucked now, you&#39;re so horny! Guide him with your hip to find your pussy|let him fuck you]]&lt;&lt;else&gt;&gt;[[There&#39;s nothing you can do but wait for him to insert his member inside of you|let him fuck you]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="127" name="let him fuck you" tags="MUSIC_CHANGE" position="1550,12650" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/084_SHAVED_FUCK.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/084_HAIRED_FUCK.png&quot;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $shavedHead is false&gt;&gt;You are so horny, you can&#39;t help yourself - you eagerly guide him to find your hole, as well as you can given your bondage. His slimy cock finds your waiting pussy that opens up around his member with a warm and wet embrace.&lt;&lt;else&gt;&gt;It doesn&#39;t take long for him to find your exposed hole. With a painful thrust, he inserts his slimy cock into you. You gasp in pain as the full length of his member penetrates your not-quite-ready pussy.&lt;&lt;/if&gt;&gt;

You&#39;re gasping for air the entire time by his choking hold of your collar. His hold around you is firm and you&#39;re practically lifted into the air by him, except your toes touching the ground, giving you some balance. There&#39;s nothing you can do as he starts pounding into you, lifting you against him again and again.

&lt;&lt;if $shavedHead is false&gt;&gt;You&#39;re finally getting the relief your body has been craving. You find yourself softly whispering &lt;span class=&quot;jessica&quot;&gt;&quot;Yes... yes!&quot;&lt;/span&gt; as he pounds you from behind. You can&#39;t believe you are enjoying being used by the man in this way, but you are. You hope he doesn&#39;t stop too soon...&lt;&lt;else&gt;&gt;You&#39;re being raped by the man and there&#39;s nothing you can do to stop him. Your body is assaulted again and again as the man uses you like the helpless sex-toy you&#39;ve become. You feel ashamed and humiliated. Eventually, a part inside of you awakes to his dominating fucking and a new sensation replaces the pain you feel. You can&#39;t believe that your pussy is beginning to enjoy being used by the man this way, even though your mind doesn&#39;t approve...&lt;&lt;/if&gt;&gt;

The pounding stops, just as your body was beginning to scream in pleasure. He pulls out of you and you find yourself frustrated and flustered at the same time.&lt;span class=&quot;man&quot;&gt; &quot;Down on your knees.&quot;&lt;/span&gt; he orders and, still holding you, pushes you forward, away from the toilet seat and onto your knees in front of the toilet. You somehow manage to get on your knees, despite your feet being ankle-cuffed together underneath the toilet seat. He lets go of the hold on your waist and collar. You can sense him fiddling about the locks again behind you. You hear a lock opening and he moves your feet away from the toilet seat. You then hear another lock closing. You realize that you&#39;re no longer tied to the toilet seat, but your ankles are still locked together. You hear the man removing the vibrator from the toilet seat cover and see him pushing it away. Clearly that&#39;s not needed anymore... &lt;span class=&quot;man&quot;&gt;&quot;Head down to the floor, ass up in the air.&quot;&lt;/span&gt; he commands. Your body is still shaking from the fucking...

[[Obey - lean forward and put your head against the bathroom floor, lifting your ass in the air]]

&lt;&lt;if $shavedHead is false&gt;&gt;[[Refuse - he&#39;s had his fun, time that he let you go!|shave head warning]]&lt;&lt;else&gt;&gt;[[Refuse - he&#39;s had his fun, time that he let you go!|head in toilet]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $previousPassage to &quot;let him fuck you&quot;&gt;&gt;
&lt;&lt;set $headInToilet to false&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="128" name="Obey - lean forward and put your head against the bathroom floor, lifting your ass in the air" tags="MUSIC_CHANGE" position="1550,12975" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/086_FACE_DOWN_SHAVED.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/086_FACE_DOWN_HAIRED.png&quot;&gt;&lt;&lt;/if&gt;&gt;
You do as the man commands and lean forward until your face touches the bathroom floor. To get a somewhat comfortable position, you angle your head against the floor, your cheek and leather-strap of your ring-gag touching the bathroom floor.&lt;&lt;if $shavedHead is true&gt;&gt; The floor is cold against your shaved head.&lt;&lt;/if&gt;&gt; You lift your ass up into the air, spreading your knees slightly to either side for better balance.

&lt;span class=&quot;man&quot;&gt;&quot;Good, now stay in that position.&quot;&lt;/span&gt; he says and leaves your bathroom stall. You do as he says, rump in the air and face to the floor. The position is very humiliating. He returns soon after and you try to glance at what he&#39;s carrying, but the angle is preventing you from getting a good look. He lowers himself next to you and softly moves a gloved hand over your naked ass. You flinch at his touch. The man says:

&lt;span class=&quot;man&quot;&gt;&quot;I will now flogg you and just like all good sluts you will thank me each time and ask me to do it again. Understand?&quot;&lt;/span&gt;

You&#39;ve never been flogged before.&lt;&lt;if $refusals &lt;= 1&gt;&gt; But, the thought is exciting.&lt;&lt;/if&gt;&gt; You find yourself preparing your ass for impact, because truly, there&#39;s nothing you can do than endure the man&#39;s games until he lets you go...

[[&quot;Yes, &#39;aster&quot;]]</tw-passagedata><tw-passagedata pid="129" name="head in toilet" tags="REFUSAL MUSIC_CHANGE" position="975,12950" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/085_HEAD_TOILET.png&quot;&gt;
&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/085_HAIRED_HEAD_TOILET.png&quot;&gt;&lt;&lt;/if&gt;&gt;
Once again, you find yourself refusing the man - you know better, but you still do it. You flinch and yelp as the man lifts you into the air by your collar and waist-strap, like a bag. You try to kick and struggle, but the man easily lifts you up and turns you around to face the toilet. Holding one hand firmly around your collar, he lifts up the toilet seat cover and pushes your face into the toilet bowl. You scream in frustration, his hand is holding you deep inside the toilet and your struggles are pointless - he&#39;s too strong.

&lt;span class=&quot;jessica&quot;&gt;&quot;&#39;ait!&quot;&lt;/span&gt; you scream, but it&#39;s too late. With his free hand, he flushes the toilet. Cold, filthy water rushes to your head from all sides, you scream in shock! The toilet water is going everywhere, in your ears, your nose and your exposed mouth - you&#39;re practically drinking the toilet water and can do nothing to shut your mouth with the ring-gag firmly in place. The water disappears and you find yourself spitting and coughing, trying to catch your breath. You almost puke. You are pulling away from the toilet bowl as hard so your body allows, but you&#39;re not moving an inch, the man is preventing you. You can&#39;t believe that he would... The loud noise of the toilet being flushed and water rushing in from all sides interrupts your thoughts. The bastard! Your mouth, nose and ears are once again filled with dirty toilet water. You can&#39;t control yourself, the smell and taste of the disgusting water is too much. You retch the contents of your stomach into the toilet, heaving multiple times with a shaking body. Your body continues heaving long after the contents of your stomach have emptied. You&#39;re feeling very weak...

Mercifully, the man pulls your head away from the toilet, shuts the cover and flushes down your puke. You&#39;re shivering and weak as the man lifts you up into the air and turns you around again, facing away from the toilet seat. He leaves you on the bathroom floor where you lie down, completely exhausted. He returns with a bucket of water, which he promptly throws in your face. The shock awakes you from your dreamy state and you stir to awareness, spitting once again. This water was at least clean... He hold up a bottle with water to your mouth and spills the content into your mouth, you spit it out. He repeats the process a few times.

&lt;span class=&quot;man&quot;&gt;&quot;See what happens when you resist? Just accept your fate and it&#39;ll all be easy.&quot;&lt;/span&gt; the man lectures you. &lt;span class=&quot;man&quot;&gt;&quot;Now, do as I ordered.&quot;&lt;/span&gt; Defeated and broken, you...

&lt;&lt;if $previousPassage is &quot;let him fuck you&quot;&gt;&gt;[[Obey - lean forward and put your head against the bathroom floor, lifting your ass in the air]]&lt;&lt;else&gt;&gt;[[Defeated, you thank him for flogging you and beg him to do it again|Thank him and beg for more flogging]]&lt;&lt;/if&gt;&gt;

&lt;&lt;silently&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;set $headInToilet to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="130" name="shave head warning" tags="REFUSAL MUSIC_CHANGE" position="1250,12275" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/080_BOUND.png&quot;&gt;
&lt;&lt;if $headShaveWarningsGiven &lt;= 1&gt;&gt;The man grabs your pony tail and janks your head back, you yelp in pain.&lt;span class=&quot;man&quot;&gt; &quot;I swear, I will shave your hair if you don&#39;t do as I say. I&#39;m not joking.&quot;&lt;/span&gt;

You stare into the eyes behind the mask. Surely he&#39;s bluffing. He wouldn&#39;t actually shave your hair, would he? Shaking, you say...&lt;&lt;else&gt;&gt;The man takes a choking hold of your throat.&lt;span class=&quot;man&quot;&gt; &quot;I will not say it again, obey or say good-bye to your hair.&quot;&lt;/span&gt;

You stare into the eyes behind the mask. You&#39;re starting to believe the man... There&#39;s a malice in his eyes that you haven&#39;t seen before.&lt;&lt;/if&gt;&gt;

[[&quot;No, enuff, let ee go!&quot;|shave head scene]]

&lt;&lt;if $previousPassage is &quot;worship his cock&quot;&gt;&gt;[[You nod and say &quot;Ok, &#39;aster&quot;|You nod]]&lt;&lt;else&gt;&gt;[[Obey - lean forward and put your head against the bathroom floor, lifting your ass in the air|Obey - lean forward and put your head against the bathroom floor, lifting your ass in the air]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;set $headShaveWarningsGiven to $headShaveWarningsGiven + 1&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="131" name="&quot;Yes, &#39;aster&quot;" tags="" position="1550,13100" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/087_SPANK.png&quot;&gt;
Mentally, you go through your current bondage predicament... You&#39;re on your knees on the cold bathroom floor. Your head is against the floor, with your head tilted to the side so that your cheek and the leather of your ring-gag is touching the floor. Your hands are tied behind your back and attached to a chain, which in turn is attached to the collar around your neck: You cannot move your arms more than an inch in any direction. In your mouth is a ring-gag that keeps your mouth open and drooling.

The sound is deafening. You&#39;re not prepared for the pain. You shout in agony as the man hits you hard square on your ass with something large, hitting both your asscheeks as the same time. You would&#39;ve fallen on the bathroom floor, from your kneeling position to a prone position, had it not been for the man holding you up by your waist-strap. You squirm at the lingering pain in your buttcheeks. It feels they like they on fire.

The man waits for some reason. Oh, right... The man expects you to not only thank him, but beg for more! Your ass is sore as it is... Seconds go by, and you feel that the man is growing impatient with you. You decide to...

[[Do nothing|do nothing after first flogging]]

[[Thank him and beg for more flogging]]
&lt;&lt;silently&gt;
&lt;&lt;set $previousPassage to &quot;flogged first time&quot;&gt;&gt;
&lt;&lt;set $electricShockForFloggRefusal to false&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="132" name="do nothing after first flogging" tags="REFUSAL MUSIC_CHANGE" position="1225,13275" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/088_ASS.png&quot;&gt;
You decide to do nothing. There&#39;s no way you&#39;re doing to thank him for hurting your ass, nor beg him to do it again! The man is clearly disappointed in you.&lt;span class=&quot;man&quot;&gt; &quot;You know what to say, and what will happen if you don&#39;t.&quot;&lt;/span&gt; the man reminds you. You do know, but the flogging is already as bad as any punishment... Surely? Your heart turns to ice. What can he do that he hasn&#39;t already done?

[[Obey him - thank him and ask for more|Thank him and beg for more flogging]]

&lt;&lt;if $shavedHead is true&gt;&gt;&lt;&lt;if $headInToilet is true&gt;&gt;[[Shake your head and refuse to say it|electric shock for refusing flogging]]&lt;&lt;else&gt;&gt;[[Shake your head and refuse to say it|head in toilet]]&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;[[Shake your head and refuse to say it|shave head scene]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="133" name="electric shock for refusing flogging" tags="REFUSAL MUSIC_CHANGE" position="1100,13425" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;&lt;if $headInToilet is true&gt;&gt;The man has already shaved all the hair from your head, and dunked your head in the filthy toilet bowl. You feel there isn&#39;t much more he can do that tops that anymore and you refuse to give him the satisfaction of making you beg to be flogged.&lt;&lt;else&gt;&gt;The man has already shaved all the hair from your head. You feel there isn&#39;t much more he can do that tops that anymore and you refuse to give him the satisfaction of making you beg to be flogged.&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $headInToilet is true&gt;&gt;The man has already dunked your head in the filthy toilet bowl. You feel there isn&#39;t much more he can do that tops that anymore and you refuse to give him the satisfaction of making you beg to be flogged.&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

He sighs.&lt;span class=&quot;man&quot;&gt; &quot;Suit yourself.&quot;&lt;/span&gt; A zapping sound reminds you that he has the electric shocker. You&#39;d forgotten about that... The flogging actually did hurt less than the shock from the el... A jolt course through your body. &lt;span class=&quot;jessica&quot;&gt;&quot;Gaaaah!&quot;&lt;/span&gt; you stutter through your ring-gag, eyes wide. The man is no longer holding you up and you slump to the bathroom floor, falling over to one side. Your shoulder and hip hit the floor uncontrollably with a painful thud. The man doesn&#39;t stop. You see him approach and he extends his arm again, another jolt of pain makes you scream in pain. He does this again and again, regardless how much you scream and beg him to stop. You try to crawl out of the bathroom stall but the chain around your neck is still pinning you to something on the other side of the stall. You slump defeated to a corner in the stall, wiggling like a worm on the floor. You remain there, in an attempt to shelter yourself from the man. Of course, you aren&#39;t truly safe, he&#39;s literally right there next to you... You sob and cry with a hiccup suddenly as your body tries to remember to breathe.

&lt;span class=&quot;man&quot;&gt;&quot;I&#39;m beginning to grow impatient with you.&quot;&lt;/span&gt; the man threatens.&lt;span class=&quot;man&quot;&gt; &quot;Do as you&#39;re told, slut, that&#39;s the only thing women like you are good for.&quot;&lt;/span&gt; he grabs you. &lt;span class=&quot;man&quot;&gt;&quot;Back on your knees, face down, or I&#39;ll shock you again.&quot;&lt;/span&gt; You shake in the corner of the stall, trying to calm your breathing, but your body is in a shocked state. Your heartbeat is faster than you&#39;ve ever felt it, as if your heart is trying to grow wings and escape your body. Eventually, you manage to calm yourself enough to crawl back to the middle of the bathroom stall, where you promptly resume your kneeling position, with your face down against the cold floor and ass up in the air, completely exposed.

&lt;span class=&quot;man&quot;&gt;&quot;And?&quot;&lt;/span&gt; the man prompts. You gulp, defeated and broken, you...

&lt;&lt;if $previousPassage is &quot;flogged first time&quot;&gt;&gt;[[Thank him and beg for more flogging]]&lt;&lt;else&gt;&gt;&lt;&lt;if $previousPassage is &quot;flogged second time&quot;&gt;&gt;[[Thank him and beg for more flogging|thank him second time]]&lt;&lt;else&gt;&gt;[[Thank him and beg for more flogging|thank him third time]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;set $electricShockForFloggRefusal to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="134" name="Thank him and beg for more flogging" tags="MUSIC_CHANGE" position="1550,13500" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/087_SPANK.png&quot;&gt;
You finally say the words he wants you to say:&lt;span class=&quot;jessica&quot;&gt; &quot;Thank you &#39;aster, &#39;lease &#39;logg ee &#39;ore.&quot;&lt;/span&gt; you manage through your ring-gag.&lt;span class=&quot;man&quot;&gt; &quot;You are most welcome, submissive slave. I will give you what you want as a reward.&quot;&lt;/span&gt; he says, then the smack on your ass threatens to topple you. Your ass has never been treated like this before, nor hurt as much as it does now. Ashamed, you realize that your ass must be bright red... Or even bleeding, that&#39;s how much the flogging hurts.

&lt;span class=&quot;man&quot;&gt;&quot;Something to say?&quot;&lt;/span&gt; the man asks and interrupts your thoughts. Your body is not ready for another round, but the man is holding you firmly by your waist strap: there&#39;s no escaping him or this situation. Finally, you...

&lt;&lt;if $electricShockForFloggRefusal is false&gt;&gt;[[Refuse to say it again|electric shock for refusing flogging]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $electricShockForFloggRefusal is true&gt;&gt;[[Defeated and broken, thank him and ask for more|thank him second time]]&lt;&lt;else&gt;&gt;[[Through the pain, thank him and ask for more|thank him second time]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $previousPassage to &quot;flogged second time&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="135" name="thank him second time" tags="MUSIC_CHANGE" position="1550,13650" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/087_SPANK.png&quot;&gt;
You manage to say it again, even though the pain is beginning to overwhelm you.&lt;span class=&quot;jessica&quot;&gt; &quot;Thank you... &#39;aster... &#39;lease &#39;logg ee...&quot;&lt;/span&gt; your stutter through your gag. As soon as the words leave your mouth, you feel the skin of your ass breaking as the man hits you on your bare butt-cheeks. You scream in pain and struggle against the hold of the man, but he&#39;s too strong. You remain there, face to the bathroom floor, ass in the air, just waiting for another swing... &lt;span class=&quot;jessica&quot;&gt;&quot;Aaah.... liis...&quot;&lt;/span&gt; you beg.

&lt;span class=&quot;man&quot;&gt;&quot;You know what to say.&quot;&lt;/span&gt; the man says and interrupts your begging.

&lt;&lt;if $electricShockForFloggRefusal is false&gt;&gt;[[Refuse to say it again|electric shock for refusing flogging]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $electricShockForFloggRefusal is true&gt;&gt;[[Defeated and broken, you somehow manage to thank him and ask for more|thank him third time]]&lt;&lt;else&gt;&gt;[[Through the pain you somehow manage to thank him and ask for more|thank him third time]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $previousPassage to &quot;flogged third time&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="136" name="thank him third time" tags="MUSIC_CHANGE" position="1550,13800" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/089_BUTT_PLUG.png&quot;&gt;
Your body can&#39;t take any more: You feel like your ass is not going to be sitting on any surface for at least a week as it is already. Yet somehow, knowing you must obey the man, you manage to thank him a third time. It&#39;s hard to concentrate on the words when you&#39;re in such pain. &lt;span class=&quot;jessica&quot;&gt;&quot;Thank you...&quot;&lt;/span&gt; you begin and pause, breathing through the pain.&lt;span class=&quot;jessica&quot;&gt; &quot;&#39;aster...&quot;&lt;/span&gt; you stutter, ring-gag leaking fluids all over the floor. Your head is resting in a pool of your own drool as you finally manage to whisper: &lt;span class=&quot;jessica&quot;&gt;&quot;&#39;lease...&quot;&lt;/span&gt; you slurp for air.&lt;span class=&quot;jessica&quot;&gt; &quot;&#39;logg...&quot;&lt;/span&gt; you pause. &lt;span class=&quot;jessica&quot;&gt;&quot;ee...&quot;&lt;/span&gt;

As soon as you say it, you tense your ass for impact and flinch. The man deftly takes advantage of your exposed ass, but not in the way you thought. You feel a slippery rubber-object slip into your open asshole with a wet slurping sound. You gasp in shock and start protesting. &lt;span class=&quot;man&quot;&gt;&quot;Remember your place, slave, your body is mine.&quot;&lt;/span&gt; the man warns you.

You stop protesting. So far the object isn&#39;t causing any physical pain, it was more shocking that he did it. You feel humiliated and used by the man, but you decide to suffer in silence.

&lt;span class=&quot;man&quot;&gt;&quot;This will feel a bit strange, try to relax.&quot;&lt;/span&gt; the man warns. You brace for what&#39;s to come. You hear the soft rush of air somewhere behind you, but at first you don&#39;t feel a thing. Then, you feel a strange sensation inside of your butthole. A pressure is building there. It&#39;s uncomfortable, but manageable. The hissing sound pauses and the pressure steadies at a point that almost hurts.

&lt;span class=&quot;man&quot;&gt;&quot;Does that hurt?&quot;&lt;/span&gt; the man asks. You&#39;re surprised he suddenly cares what you feel. You answer through your ring-gag:

[[&quot;Yes, it hurts, &#39;aster&quot;|Yes, it hurts]]

[[&quot;No, it does not, &#39;aster&quot;|No, it does not hurt]]</tw-passagedata><tw-passagedata pid="137" name="Yes, it hurts" tags="" position="1350,13900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/089_BUTT_PLUG.png&quot;&gt;
&quot;Hmm, disappointing&quot; the man says. You feel the pressure easing away with a hiss of air. &lt;span class=&quot;man&quot;&gt;&quot;Let&#39;s repeat.&quot;&lt;/span&gt; he once again inflates the device. The pressure starts to build once more in your anus as the air fills the plug inside your butt. It&#39;s pressing against your inner organs in an uncomfortable way. However, this second time it&#39;s not so bad as the first. Clearly, your ass is getting used to this.

&lt;span class=&quot;man&quot;&gt;&quot;And now?&quot;&lt;/span&gt; the man queries.

[[(lie) &quot;It hurts, &#39;aster&quot;]]

[[(truth) &quot;It does not hurt, &#39;aster&quot;|No, it does not hurt]]</tw-passagedata><tw-passagedata pid="138" name="No, it does not hurt" tags="" position="1550,14025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/090_BUTT_PLUG.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Good, now relax.&quot;&lt;/span&gt; he says. To your dismay, he inflates the buttplug more and the hissing sound of the air, in your ears, is loud and forebodes the fracture of your asshole. You&#39;re once again reminded of your predicament: Here&#39;s a man who has literally full control of your body, doing things to you that you don&#39;t want to, but you cannot protest or he&#39;ll punish you...

&lt;span class=&quot;man&quot;&gt;&quot;Does this hurt?&quot;&lt;/span&gt; the man asks.

[[&quot;A little &#39;bit, &#39;aster&quot; you manage to say through your ring-gag|(lie) &quot;It hurts, &#39;aster&quot;]]

[[&quot;No, &#39;aster&quot; you say through your ring-gag]]</tw-passagedata><tw-passagedata pid="139" name="(lie) &quot;It hurts, &#39;aster&quot;" tags="REFUSAL" position="1375,14200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/089_BUTT_PLUG.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Hm. Most disappointing. It seems your ass is not as trained as I&#39;d hoped.&quot;&lt;/span&gt; the man says and starts deflating the device with a hiss of air. In your mind, you&#39;re trying to figure out what he means... Trained for what? Trained by what, other men fucking you in the ass? Is he joking?

[[Wait for him to remove the plug]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="140" name="&quot;No, &#39;aster&quot; you say through your ring-gag" tags="" position="1650,14200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/091_BUTT_PLUG.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Very good.&quot;&lt;/span&gt; the man says. The pressure is now painful. The plug is inflating your asshole to sizes it has never been, filling your insides and pushing outwards. You endure the pain, but your body is shaking. The man can see your reaction. &lt;span class=&quot;man&quot;&gt;&quot;You have a very well trained ass, you know that? One of the best. I&#39;ll remove the plug now.&quot;&lt;/span&gt; the man comments. He starts deflating the device with a hiss of air. In your mind, you&#39;re trying to figure out what he means... Trained for what? Trained by what, other men fucking you in the ass? Is he joking?

[[Wait for him to remove the plug]]</tw-passagedata><tw-passagedata pid="141" name="Wait for him to remove the plug" tags="" position="1550,14375" size="100,100">&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/092_SHAVED_KNEEL_TOILET.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/092_HAIRED_KNEEL_TOILET.png&quot;&gt;&lt;&lt;/if&gt;&gt;
Eventually, the thing is empty and he pulls it out of your ass with a wet sloshing sound. Again, you can&#39;t help but feel humiliated by the fact that the man just casually violated your asshole this way, as if it was nothing extraordinary for him at all. He must really be a pervert of the highest degree...

He stands up and leaves the stall for a moment, taking with him some of the things he&#39;s been using. You remain in your face-down, ass-up pose, face against the bathroom floor, waiting for the man to return and finally be done with you... Just let it end soon, please, you find yourself thinking.

The man returns to your stall, walks up to you and picks you up by your collar and waist-strap &lt;span class=&quot;jessica&quot;&gt;&quot;Hey!&quot;&lt;/span&gt; you call out in panic. He lifts you up, then turns you against the toilet seat. He places you down on your knees in front of it, lifts up the toilet seat cover. &lt;&lt;if $headInToilet is true&gt;&gt;Not again!&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;man&quot;&gt;&quot;Put your head in the bowl. I will only flush the toilet if you misbehave.&quot;&lt;/span&gt; the man orders. You realize that if he wants your head in there, there&#39;s literally nothing you can do to stop it, and, if you don&#39;t do it, he&#39;ll just do it anyway and also flush the toilet. &lt;&lt;if $headInToilet is true&gt;&gt;You still remember the last time and your stomach is turning at the familiar smell.&lt;&lt;/if&gt;&gt;

[[Obey him - lean forward and put your head in the toilet bowl]]</tw-passagedata><tw-passagedata pid="142" name="Obey him - lean forward and put your head in the toilet bowl" tags="" position="1550,14500" size="100,100">&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/085_HEAD_TOILET.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/085_HAIRED_HEAD_TOILET.png&quot;&gt;&lt;&lt;/if&gt;&gt;
There&#39;s really no point refusing him. You reflect on your current bondage that prevents you from refusing the man: You are on your knees on the bathroom floor, hands tied behind your back and attached to a chain in your collar. Your ankles are tied together too. You&#39;re wearing a ring-gag. You&#39;re also still attached by the leash on your collar to something on the other side of this stall, the side where the man initial stood...

You lean forward, your breasts hanging awkwardly on just outside of the toilet bowl while your neck rests on the edge. You can smell the toilet and it&#39;s churning your stomach. You resist the urge to throw up&lt;&lt;if $headInToilet is true&gt;&gt; again&lt;&lt;/if&gt;&gt; and put your head in the bowl.

&lt;span class=&quot;man&quot;&gt;&quot;Good, very good. Now, I will fuck your ass and you will not remove your head from the bowl, understand?&quot;&lt;/span&gt; he announces. Damn the man... You remember his warning, if you refuse now he will flush the toilet. Your ass is still throbbing in pain from the inflation he inflicted on it just moments ago. You...

[[Say: &quot;I understand, &#39;aster&quot;]]

[[Say: &quot;No!&quot; and pull away from the bowl|Try to resist]]</tw-passagedata><tw-passagedata pid="143" name="Say: &quot;I understand, &#39;aster&quot;" tags="MUSIC_CHANGE" position="1550,14700" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;You submissively agree to let the man destroy your ass. He walks up behind you, lifts you to a better position (for him, not for you) then without warning his slimy cock, still drenched in your pussy-juices and spit, rams into your gaping asshole. The penetration is wider and deeper than you thought and you gasp in shock. The inflatable plug is as nothing compared to the tearing his member is causing inside you.

You cry and hit your head to the back of the toilet bowl repeatedly as the man slams into you time after time. Your breasts are bouncing back-and-forth, slamming into cold ceramic on the outside of the toilet. The nipple-clamps are beginning to hurt quite badly from the rocking motion. The man continues, and you feel something tearing and pain overwhelms you. Your asshole was not ready for this. You scream in pain, but the man ignores you. You try to pull away, but a strong hand forces your head into the toilet bowl again while the other keeps your body pinned and ass exposed for his cock. You cry and find yourself trying to think of something else, anything, to distract you from the humiliation and pain. Why did you ever agree to get things this far? Well, you know why... But you can&#39;t believe you find yourself in this situation.

Warm, wet fluid bursts into your asshole, you feel it clearly as the man cums inside your butthole.&lt;span class=&quot;man&quot;&gt; &quot;Aah..&quot;&lt;/span&gt; the man proclaims, satisfied. He thrusts into you a few more times for good measure, then pulls out his cock with a wet snapping sound. Your asshole lets out a loud fart as he does so and you feel his cum shooting out of your ass and dripping on your legs, kneeling as you are on the bathroom floor. You&#39;re ashamed, humiliated and completely broken inside. Your asshole has never hurt this much in your life and you&#39;re absolutely certain that something is broken there, that&#39;s how much it hurts...

The man walks away, leaving you in your stall. You pull out of the toilet bowl and slump down on the bathroom floor, lying sideways, catching your breath and trying to calm your violated body. You hear the man washing himself in the sink just outside. You remain sullied and dirty on the floor...

[[Wait for the man to return]]</tw-passagedata><tw-passagedata pid="144" name="Try to resist" tags="REFUSAL MUSIC_CHANGE" position="1375,14575" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/085_HEAD_TOILET.png&quot;&gt;
&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/085_HAIRED_HEAD_TOILET.png&quot;&gt;&lt;&lt;/if&gt;&gt;
Once again, you find yourself refusing the man - you know better, but you still do it. You try to pull away from the bowl, but a strong hand firmly grabs your neck and pushes you deeper inside the bowl. &lt;span class=&quot;jessica&quot;&gt;&quot;&#39;ait!&quot;&lt;/span&gt; you scream, but it&#39;s too late. With his free hand, he flushes the toilet. Cold, filthy water rushes to your head from all sides, you scream in shock! The toilet water is going everywhere, in your ears, your nose and your exposed mouth - you&#39;re practically drinking the toilet water and can do nothing to shut your mouth with the ring-gag firmly in place. The water disappears and you find yourself spitting and coughing, trying to catch your breath. You almost puke. You are pulling away from the toilet bowl as hard so your body allows, but you&#39;re not moving an inch, the man is preventing you. You can&#39;t believe that he would... The loud noise of the toilet being flushed and water rushing in from all sides interrupts your thoughts. The bastard! Your mouth, nose and ears are once again filled with dirty toilet water. You cough and spit, barely preventing yourself from throwing up.

&lt;span class=&quot;man&quot;&gt;&quot;See what happens when you resist? Just accept your fate and it&#39;ll all be easy.&quot;&lt;/span&gt; the man lectures you. &lt;span class=&quot;man&quot;&gt;&quot;Now, don&#39;t struggle.&quot;&lt;/span&gt; Defeated and broken, you...

[[Let the man fuck your ass|Say: &quot;I understand, &#39;aster&quot;]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;set $headInToilet to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="145" name="Wait for the man to return" tags="" position="1550,14825" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/095_CALL.png&quot;&gt;
You wait. The man has finished washing himself up and now returns with a bucket of water and a towel. &lt;span class=&quot;man&quot;&gt;&quot;A fine piece of ass indeed.&quot;&lt;/span&gt; he muses to himself, then begins to clean your slimy ass and legs. You do not resists. What&#39;s the point?

He cleans up the bathroom floor as well, then leaves the stall once more. You can hear him doing something, then you hear him calling someone. Panic fills your heart. What is he planning now?

&lt;span class=&quot;man&quot;&gt;&quot;Sir, it&#39;s me.&quot;&lt;/span&gt; the man says on the phone and pauses. &lt;span class=&quot;man&quot;&gt;&quot;Yes, you could say that.&quot;&lt;/span&gt; he replies, then pauses again. &lt;span class=&quot;man&quot;&gt;&quot;Very good Sir, we&#39;ll be ready.&quot;&lt;/span&gt; he shuts the call. Who was he talking to? Ready in what way, and for what, and who is we? Is he talking about you? You&#39;re beginning to be really frightened now. What about the deal, the man is supposed to let you go now! You struggle to get back into a sitting position in the stall as the man returns.

&lt;span class=&quot;man&quot;&gt;&quot;One final thing remains and our deal is completed.&quot;&lt;/span&gt; he announces, putting his phone back in his pocket.&lt;span class=&quot;man&quot;&gt; &quot;Are you ready?&quot;&lt;/span&gt; You analyze his words. He hasn&#39;t exactly been forthcoming with information about the deal or when it ends before. However, you feel that there isn&#39;t possible anything left that the man can do to you that he hasn&#39;t done already, so it&#39;s very likely this is indeed the final step. Trembling, you...

[[Tell him to fuck off already and let you go - your deal is done]]

[[Accept to do one final task to complete the deal]]
&lt;&lt;set $burnMarked to false&gt;&gt;</tw-passagedata><tw-passagedata pid="146" name="Tell him to fuck off already and let you go - your deal is done" tags="REFUSAL MUSIC_CHANGE" position="1350,14925" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/096_MAN.png&quot;&gt;
You&#39;re furious. The man has used your body in more ways than you would ever have agreed on if you&#39;d known the details of his deal. You manage through your ring-gag &lt;span class=&quot;jessica&quot;&gt;&quot;&#39;uck you, &#39;ucking asshole. I did your deal, now let &#39;e go!&quot;&lt;/span&gt; your mouth is leaking drool awkwardly on your breasts as you say it and you throw back your head in an attempt to swallow it.

The man shakes his head. &lt;span class=&quot;man&quot;&gt;&quot;Disappointing, but you&#39;re in no position to say no. I&#39;ll give you one last warning: Finish this final task and our deal is done, or you will do so anyway but crying, understand?&quot;&lt;/span&gt; his threatening words and your predicament remind you of just how much trouble you are in. You...

[[Nod and say &quot;Ok, &#39;aster&quot;|Accept to do one final task to complete the deal]]

&lt;&lt;if $shavedHead is false&gt;&gt;[[Shake your head and say &quot;No, enough.&quot;|shave head after ass fuck]]&lt;&lt;else&gt;&gt;[[Shake your head and say &quot;No, enough.&quot;|refuse after ass fuck]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="147" name="Accept to do one final task to complete the deal" tags="MUSIC_CHANGE" position="1550,15175" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/096_MAN.png&quot;&gt;
You nod as say &lt;span class=&quot;jessica&quot;&gt;&quot;Ok, &#39;aster...&quot;&lt;/span&gt; You&#39;re so close to the end now, might as well do as he says...

&lt;span class=&quot;man&quot;&gt;&quot;Good. Get on your knees in the middle of the stall, right here.&quot;&lt;/span&gt; he points in front of the toilet seat. You awkwardly manage to crawl to that place, hands tied behind your back and ankles cuffed together.

The man stands in front of you now, glancing down on your kneeling, naked and bound body. &lt;span class=&quot;man&quot;&gt;&quot;Good. I will remove your ring-gag if you promise to do exactly as you&#39;re told. Be the good slut you know you are, alright?&quot;&lt;/span&gt;

[[Shake your head|refuse and keep ring-gag on]]

[[Nod]]</tw-passagedata><tw-passagedata pid="148" name="shave head after ass fuck" tags="REFUSAL" position="1275,15175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/082_SHAVE.png&quot;&gt;
You refuse the man. He looks at you and shakes his head. &lt;span class=&quot;man&quot;&gt;&quot;Such a shame, your hair is really beautiful.&quot;&lt;/span&gt; he walks out of your stall. A panic is growing in your chest. He&#39;s not serious, is he!? Shortly there after, he brings an electric hair clipper with him. He&#39;s not bluffing!

&lt;span class=&quot;jessica&quot;&gt;&quot;&#39;ait, sorry!&quot;&lt;/span&gt; you stutter through your gag. Is the man insane?? He can&#39;t cut off your hair, that&#39;s unacceptable!

&lt;span class=&quot;man&quot;&gt;&quot;Too late.&quot;&lt;/span&gt; the man growls and grabs your hair with a strong hand. &lt;span class=&quot;jessica&quot;&gt;&quot;Noooo! I&#39;ll &#39;ucking kill you!&quot;&lt;/span&gt; you scream and struggle against him, but your bondage is severely limiting your movement and you cannot do anything to stop him. You cry and scream and shake your head as the man brings the hair clipper buzzing to your head. Your long hair starts to fall all around you and panic has set in your heart. WHY? THE FUCKING BASTARD! You thrash against him, but he continues shaving your head, unaffected by your cries.

The whole thing is over before you realize. Your hair is spread all around you on the floor, your beautiful long hair... You cry uncontrollably, unable to come to terms with what just happened.

The man walks away from you and returns with a bag. He starts cleaning the bathroom floor, picking up your hair and placing it all in the bag. You barely notice his movement, you&#39;re someplace else in your mind, trying to understand what just happened.

Eventually, the man finishes the task and you can no longer see any traces of your hair around you or on your naked body. Your head is suddenly very cold you realize, as the familiar hair that&#39;s kept you warm all the years of your life has suddenly disappeared.

The man leaves the stall and lets you mourn your hair alone. A few minutes must&#39;ve gone by and your body slowly stops shaking from the shock and you try to calm your breath... Eventually you manage, but you&#39;re furious. The fucking bastard...

&lt;span class=&quot;man&quot;&gt;&quot;I warned you. You really need to learn your place. Now be a good slut in this final task and our deal is done.&quot;&lt;/span&gt; the man says. The punishments are likely going to continue if you continue to refuse. &lt;span class=&quot;man&quot;&gt;&quot;I will remove your ring-gag if you promise to do exactly as you&#39;re told. Be the good slut you know you are, alright?&quot;&lt;/span&gt; You...

[[Furious, you shake your head|refuse and keep ring-gag on]]

[[Defeated and broken, you nod|Nod]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $shavedHead to true&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="149" name="refuse after ass fuck" tags="REFUSAL" position="1100,15100" size="100,100">{&lt;img class=&quot;center&quot; src=&quot;img/097_BURN.png&quot;&gt;
The man has already shave your head, and for that you cannot forgive him. Whatever he throws at you next cannot compare that that. He shrugs, unconcerned by your disobedience. &lt;span class=&quot;man&quot;&gt;&quot;Have it your way.&quot;&lt;/span&gt; he says and leaves you in the bathroom stall. You hear the scraping of metal and the man plugging something into an electric socket outside your stall. Then, you hear a loud whoosing sound, kind of like a blowtorch? No, it&#39;s definitely a blowtorch... You freeze in panic. What the fresh hell is he planning now? He&#39;s warming something for quite some time and you squirm in agony at the thought of what he could be doing...

He returns and you hear a hissing sound of something hot in his hands. From your position on the bathroom floor, you can see he has a red-hot iron with letters in his hand. You stare at it with panic.&lt;span class=&quot;jessica&quot;&gt; &quot;&#39;oo, &#39;liis! Sorry, &#39;aster!&quot;&lt;/span&gt; you mumber incoherently through your ring-gag and flinch away. Drool is flying everywhere as you squirm and try to get away from the man. &lt;span class=&quot;man&quot;&gt;&quot;You had your chance, slut.&quot;&lt;/span&gt; he says and grab you. Your scream.

He lifts you to the toilet bowl, once again keeping your head pushed inside. You&#39;re kneeling on the floor, your breasts brushing against the cold ceramic on the outside of the toilet. The man pushes your throat painfully against the edge of the toilet bowl, your head inside the bowl. &lt;span class=&quot;jessica&quot;&gt;&quot;&#39;liiss...&quot;&lt;/span&gt; you cry in panic as you try to breathe and pull away. He ignores your begging. The hot iron is pushed to the back of your head and you scream like you&#39;ve never screamed before. Even with no air left in your lungs you continue screaming and thrashing against the torture. But it&#39;s futile. The man is quickly done and takes away the hot iron from your skin. The bathroom smells of burnt flesh. You black out.

[[...|blacked out after hot iron]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;set $burnMarked to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="150" name="Nod" tags="MUSIC_CHANGE" position="1550,15575" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/098_BOSS_SHAVED_NO_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/098_BOSS_HAIRED_NO_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;
The man unlocks the ring-gag&#39;s leather strap and slowly, he takes a hold of the metal ring in your mouth and starts to loosen your jaw and angles the ring in a way that lets him remove it. Even with the gag removed, you find it hard to close your mouth: your jaw is refusing to shut. You slowly try to work your jaw and eventually you manage to close and open your mouth again. You do this many times, smacking your lips and moving your jaw and mouth in all possible ways. Slowly, the painfully aching jaw is working somewhat normally again. You&#39;re grateful to be rid of the ring-gag.

&lt;span class=&quot;man&quot;&gt;&quot;Remember to behave yourself.&quot;&lt;/span&gt; the man warns. You nod. &lt;span class=&quot;man&quot;&gt;&quot;Now we wait.&quot;&lt;/span&gt; the man announces. You sit impatiently and anxiously on the bathroom floor in a kneeling position, hands still tied behind your back, your ankles cuffed together. You&#39;re still wearing nipple-clamps and the collar and your steady breathing in and out is making you aware of them as they pull your nipples and make your breasts bounce. You lose track of time, a few silent minutes go by at least, you think.

Eventually, you hear footsteps in the corridor. Your heart starts to race. Is this someone who can finally end this torment, or is it the person the man just called? Fearful of disappointing the man now, you stay silently kneeling on the floor.

&lt;span class=&quot;boss&quot;&gt;&quot;Is she ready?&quot;&lt;/span&gt; a familiar voice enters the bathroom. You cannot see who it is, but you recognize his voice. It can&#39;t be... 
&lt;span class=&quot;man&quot;&gt;&quot;As ready as she&#39;ll get, Sir.&quot;&lt;/span&gt; the man who&#39;s been tormenting you replies. Dread fills you as panic enters your heart... What is...?

&lt;span class=&quot;boss&quot;&gt;&quot;Good, we&#39;ll see.&quot;&lt;/span&gt; the familiar voice replies... There&#39;s no denying it. It is definitely the voice of... Your boss becomes visible as he walks into your stall. You&#39;re once again reminded of your binds, sitting here kneeling, naked and bound in front of your boss. With wide eyes you see him examine you as one does a car. &lt;&lt;if $shavedHead is true&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;I see you had to shave her head, that rebellious?&quot;&lt;/span&gt; you boss remarks and strokes your hairless scalp. You flinch at his touch. &lt;span class=&quot;man&quot;&gt;&quot;Yes, had to learn her place, Sir.&quot;&lt;/span&gt; the man replies from a few steps away. Your boss simply answers, unconcerned: &lt;span class=&quot;boss&quot;&gt;&quot;I see.&quot;&lt;/span&gt;&lt;&lt;if $burnMarked is true&gt;&gt; He pushes your head slightly forward, peering at the back of your head as if he knows you&#39;ve been burn-marked! &lt;span class=&quot;boss&quot;&gt;&quot;Also had to tag her as part of the punishment, too? You&#39;re beginning to be sloppy.&quot;&lt;/span&gt; he remarks, unfazed at your burnt head. Your shaking now: what sort of twisted bullshit is this?&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

Your boss now looks you directly in the eyes and grabs your jaw with his hand. &lt;span class=&quot;boss&quot;&gt;&quot;You know what to do.&quot;&lt;/span&gt; he says, then to your alarm, he pulls down his pants a notch and takes out his unerect cock. &lt;span class=&quot;boss&quot;&gt;&quot;Begin.&quot;&lt;/span&gt; he orders.

You&#39;re paralyzed. This can&#39;t be happening... Please, if this is a nightmare just wake up already! You close your eyes, take a deep breath then open them again. Your boss is still unmistakably standing before you, his penis hanging unexited out of his pants. He&#39;s looking you dead in the eye, not a hint of a smile on his lips. You can&#39;t believe it... Is your boss truly expecting you to suck him, right here right now? The other man... You begin to realize that he&#39;s been testing you, or, preparing you... Training was the word they used. And now you know for what. The final task, but if your boss is involved... You realize what it means... A shiver runs down your spine as you realize just how much trouble you&#39;re in.

&lt;span class=&quot;boss&quot;&gt;&quot;Well?&quot;&lt;/span&gt; you boss interrupts your thoughts. Right, his... He isn&#39;t even hard. You gulp, uncertain what to do. Finally, you decide to...

&lt;&lt;if $refusals &lt;= 4&gt;&gt;[[Suck his cock, like the submissive slut you are]]&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 5 and $refusals &lt;= 14&gt;&gt;[[Suck his cock]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;if $refusals &gt;= 5&gt;&gt;[[Refuse to suck his cock]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $ringGagOn to false&gt;&gt;</tw-passagedata><tw-passagedata pid="151" name="Suck his cock, like the submissive slut you are" tags="REFUSAL_NEGATIVE" position="1200,15825" size="100,100">You accept your place as a slut who only serves to please her masters. You lean forward&lt;&lt;if $ringGagOn is true&gt;&gt; , with the ring-gag still in your mouth,&lt;&lt;/if&gt;&gt; and start arousing his cock with your tongue. It is wider than the other man&#39;s and you can feel it stirring awake at your touch. You can feel it growing for every lick.&lt;&lt;if $ringGagOn is false&gt;&gt; You gently kiss it and start moving your lips across the tip.&lt;&lt;/if&gt;&gt;

Soon, his penis is as large as it can get. Wider indeed than the other man&#39;s, and maybe just a tiny bit longer? You begin taking your boss&#39;s cock into your mouth, eagerly sucking at his manhood.&lt;&lt;if $ringGagOn is true&gt;&gt; With the ring-gag on, you can do little to pleasure him other than playing with your tongue and taking the tip to where your throat starts.&lt;&lt;/if&gt;&gt; He&#39;s starting to enjoy it, you feel and double your efforts. You&#39;re producing enough drool now to lubricate the process to a sloppy and loud mess. You let your head bob up and down on his shaft, choking on his cock, eager to show your worth. You&#39;ll surely get to keep your job, even if it will entail a certain private side-business with your boss every now and then.

He grabs the back of your head and starts deep-throating you.&lt;&lt;if $ringGagOn is true&gt;&gt; With the gag on, you can do nothing to prevent it.&lt;&lt;else&gt;&gt; You let him take advantage of your throat.&lt;&lt;/if&gt;&gt; You choke and cough as he face-fucks you, then, without announcing it, you feel his cock has started to cum in your mouth!

[[Let him cum in your throat and swallow the load]]

[[Let him cum in your mouth, then spit it on the floor]]

[[Pull out, refuse to let him cum in your mouth]]
&lt;&lt;set $refusals to $refusals - 2&gt;&gt;</tw-passagedata><tw-passagedata pid="152" name="Suck his cock" tags="REFUSAL_NEGATIVE" position="1325,15825" size="100,100">You really have no choice, the men have you bound and trapped here and there&#39;s no way out of the situation. Besides, this is the final task... Then hopefully your boss will let you keep your job and the other man will help you finish the tasks...

You lean forward&lt;&lt;if $ringGagOn is true&gt;&gt; , with the ring-gag still in your mouth,&lt;&lt;/if&gt;&gt; and start arousing his cock with your tongue. It is wider than the other man&#39;s and you can feel it stirring awake at your touch. You can feel it growing for every lick.&lt;&lt;if $ringGagOn is false&gt;&gt; You gently kiss it and start moving your lips across the tip.&lt;&lt;/if&gt;&gt;

Soon, his penis is as large as it can get. Wider indeed than the other man&#39;s, and maybe just a tiny bit longer? You begin taking your boss&#39;s cock into your mouth, sucking at his manhood.&lt;&lt;if $ringGagOn is true&gt;&gt; With the ring-gag on, you can do little to pleasure him other than playing with your tongue and taking the tip to where your throat starts.&lt;&lt;/if&gt;&gt; He&#39;s starting to enjoy it, you feel and double your efforts. You&#39;re producing enough drool now to lubricate the process to a sloppy and loud mess. You let your head bob up and down on his shaft, choking on his cock, trying to show your worth. You just might get to keep your job if you can just finish this one final task...

He grabs the back of your head and starts deep-throating you.&lt;&lt;if $ringGagOn is true&gt;&gt; With the gag on, you can do nothing to prevent it.&lt;&lt;else&gt;&gt; You start to pull away, but remember what&#39;s at stake. You reluctantly let him take advantage of your throat.&lt;&lt;/if&gt;&gt; You choke and cough as he face-fucks you, then, without announcing it, you feel his cock has started to cum in your mouth!

[[Let him cum in your throat and swallow the load]]

[[Let him cum in your mouth, then spit it on the floor]]

[[Pull out, refuse to let him cum in your mouth]]
&lt;&lt;set $refusals to $refusals - 2&gt;&gt;</tw-passagedata><tw-passagedata pid="153" name="Refuse to suck his cock" tags="REFUSAL" position="1450,15825" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/100_BOSS.png&quot;&gt;
You refuse to do it. &lt;span class=&quot;jessica&quot;&gt;&quot;No way!&quot;&lt;/span&gt; you proclaim&lt;&lt;if $ringGagOn is true&gt;&gt;, through your ring-gag,&lt;&lt;/if&gt;&gt; and shake your head, pulling away from your boss.

&lt;span class=&quot;boss&quot;&gt;&quot;Not ready after all.&quot;&lt;/span&gt; your boss announces to the other man. &lt;span class=&quot;boss&quot;&gt;&quot;I&#39;m highly disappointed in you.&quot;&lt;/span&gt; he tells the man, who looks away with his head down.. &lt;span class=&quot;boss&quot;&gt;&quot;And you.&quot;&lt;/span&gt; he says, looking you straight in the eyes. You shiver at the look he gives you...

[[Wait and hope that the men release you...|Await your fate]]
&lt;&lt;set $refusals to $refusals + 3&gt;&gt;</tw-passagedata><tw-passagedata pid="154" name="blacked out after hot iron" tags="" position="1100,15300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/096_MAN.png&quot;&gt;
You don&#39;t know how much time has passed, but you wake up weak with an massive headache. You&#39;re still in the bathroom stall, now lying down on the floor. You&#39;re still bound, with a ring-gag in your mouth, hands tied behind your back, attached to the chain on your neck. Your ankles are still cuffed together.

You peer around the room weakly. You notice the man is sitting casually on the toilet seat cover, waiting for you wake up. Noticing your movement, he stands up and kicks you in the stomach. The air goes out of your lungs and you let out a cry or pain and shock. Your body trembles violently as you fail to control the panic that has set into your muscles.

&lt;span class=&quot;man&quot;&gt;&quot;You still don&#39;t get it, do you? Your opinion is of no value, whatsoever. You do as you&#39;re told, when you&#39;re told. You&#39;re nothing, worthless.&quot;&lt;/span&gt; the man says to you, matter-of-fact like he&#39;s talking about something that is undeniably true. You&#39;re beginning to finally realize the truth of it...

&lt;span class=&quot;man&quot;&gt;&quot;There remains just one final task for you now, and you&#39;d better be at your best behaviour then, understand? No more talking back and refusing to obey orders.&quot;&lt;/span&gt; You hear him and understand perfectly. &lt;span class=&quot;man&quot;&gt;&quot;I will remove your ring-gag if you promise to do exactly as you&#39;re told. Be the good slut you know you are, alright?&quot;&lt;/span&gt; he continues. You...

[[Shake your head|refuse and keep ring-gag on]]

[[You nod|Nod]]</tw-passagedata><tw-passagedata pid="155" name="refuse and keep ring-gag on" tags="REFUSAL MUSIC_CHANGE" position="1100,15575" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/098_BOSS_SHAVED_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/098_BOSS_HAIRED_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;
The man is clearly disappointed in you. &lt;span class=&quot;man&quot;&gt;&quot;Fine, keep it on. Now, remember to behave yourself.&quot;&lt;/span&gt; the man warns.. &lt;span class=&quot;man&quot;&gt;&quot;Now we wait.&quot;&lt;/span&gt; the man announces. You sit impatiently and anxiously on the bathroom floor in a kneeling position, hands still tied behind your back, your ankles cuffed together. You&#39;re still wearing nipple-clamps and the collar and your steady breathing in and out is making you aware of them as they pull your nipples and make your breasts bounce. You lose track of time, a few silent minutes go by at least, you think.

Eventually, you hear footsteps in the corridor. Your heart starts to race. Is this someone who can finally end this torment, or is it the person the man just called? Fearful of disappointing the man now, you stay silently kneeling on the floor.

&lt;span class=&quot;boss&quot;&gt;&quot;Is she ready?&quot;&lt;/span&gt; a familiar voice enters the bathroom. You cannot see who it is, but you recognize his voice. It can&#39;t be... 
&lt;span class=&quot;man&quot;&gt;&quot;Sort of, as ready as she&#39;ll get.. Sir.&quot;&lt;/span&gt; the man who&#39;s been tormenting you replies nervously. Dread fills you as panic enters your heart... What is...?

&lt;span class=&quot;boss&quot;&gt;&quot;Hmm, we&#39;ll see.&quot;&lt;/span&gt; the familiar voice replies... There&#39;s no denying it. It is definitely the voice of... Your boss becomes visible as he walks into your stall. You&#39;re once again reminded of your binds, sitting here kneeling, naked and bound in front of your boss, with a ring-gag exposing your mouth to him. With wide eyes you see him examine you as one does a car.

&lt;span class=&quot;boss&quot;&gt;&quot;Still wearing the gag? That&#39;s hardly convincing.&quot;&lt;/span&gt; you boss remarks. The man behind him is clearly nervous. &lt;span class=&quot;man&quot;&gt;&quot;Afraid so, Sir...&quot;&lt;/span&gt; Your boss appears to be extremely displeased. &lt;&lt;if $shavedHead is true&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;I also see you had to shave her head, that rebellious?&quot;&lt;/span&gt; you boss remarks and strokes your hairless scalp. You flinch at his touch.&lt;span class=&quot;man&quot;&gt; &quot;Yes, had to learn her place, Sir.&quot;&lt;/span&gt; the man replies from a few steps away. Your boss simply answers, unconcerned: &lt;span class=&quot;boss&quot;&gt;&quot;I see.&quot;&lt;/span&gt;&lt;&lt;if $burnMarked is true&gt;&gt; He pushes your head slightly forward, peering at the back of your head as if he knows you&#39;ve been burn-marked! &lt;span class=&quot;boss&quot;&gt;&quot;Also had to tag her as part of the punishment, too? You&#39;re beginning to be very sloppy.&quot;&lt;/span&gt; he remarks, unfazed at your burnt head. Your shaking now: what sort of twisted bullshit is this?&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

Your boss now looks you directly in the eyes and grabs your jaw with his hand. &lt;span class=&quot;boss&quot;&gt;&quot;You know what to do.&quot;&lt;/span&gt; he says, then to your alarm, he pulls down his pants a notch and takes out his unerect cock. &lt;span class=&quot;boss&quot;&gt;&quot;Begin.&quot;&lt;/span&gt; he orders.

You&#39;re paralyzed. This can&#39;t be happening... Please, if this is a nightmare just wake up already! You close your eyes, take a deep breath then open them again. Your boss is still unmistakably standing before you, his penis hanging unexited and unerect out of his pants. He&#39;s looking you dead in the eye, not a hint of a smile on his lips. You can&#39;t believe it... Is your boss truly expecting you to suck him, right here right now? The other man... You begin to realize that he&#39;s been testing you, or, preparing you... Training was the word they used. And now you know for what. The final task, but if your boss is involved... You realize what it means... A shiver runs down your spine as you realize just how much trouble you&#39;re in.

&lt;span class=&quot;boss&quot;&gt;&quot;Well?&quot;&lt;/span&gt; you boss interrupts your thoughts. Right, his... He isn&#39;t even hard. You gulp, uncertain what to do. Finally, you decide to...

&lt;&lt;if $refusals &lt;= 4&gt;&gt;[[Suck his cock, like the submissive slut you are]]&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 5 and $refusals &lt;= 14&gt;&gt;[[Suck his cock]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;if $refusals &gt;= 5&gt;&gt;[[Refuse to suck his cock]]&lt;&lt;/if&gt;&gt;&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ringGagOn to true&gt;&gt;
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="156" name="Let him cum in your throat and swallow the load" tags="REFUSAL_NEGATIVE" position="1150,16200" size="100,100">You&#39;ve come this far, might as well behave until the very last moment. You lean forward as he cums, taking his cock deep in your throat. He grunts with satisfaction as he spills his seed directly inside your throat, there&#39;s no need even to swallow it as it goes directly in your belly. A few pumps later, he&#39;s empty and pulls away from you. He slaps you gently on your cheek a few times, as if petting a good dog. He&#39;s smiling.

&lt;span class=&quot;boss&quot;&gt;&quot;Ready indeed, you&#39;ve trained her well.&quot;&lt;/span&gt; your boss says to the other man. &lt;span class=&quot;man&quot;&gt;&quot;Thank you, Sir, I always strive for perfection.&quot;&lt;/span&gt; he replies. You barely hear what the men are saying... All you can think of is that you did it, finally, this whole ordeal will be behind you and the men will let you go...

&lt;&lt;if $refusals &gt; 4&gt;&gt;[[Wait for them to release you...|Await your fate]]&lt;&lt;else&gt;&gt;[[Wait for the men to release you...|Office slut ending scene 1]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $refusals to $refusals - 2&gt;&gt;</tw-passagedata><tw-passagedata pid="157" name="Let him cum in your mouth, then spit it on the floor" tags="REFUSAL_NEGATIVE" position="1300,16150" size="100,100">You let your boss fill your mouth with his seeds. He grunts with appreciation. A few pumps later, he&#39;s unloaded himself in you. Your mouth is filled with his seeds as he pulls away from you. You lean to the side and spit out the content on the bathroom floor. Your boss is visibly satisfied with you.

&lt;span class=&quot;boss&quot;&gt;&quot;Ready indeed, you&#39;ve trained her sufficiently well.&quot;&lt;/span&gt; your boss says to the other man. &lt;span class=&quot;man&quot;&gt;&quot;Thank you, Sir, I always deliver.&quot;&lt;/span&gt; he replies. You barely hear what the men are saying... All you can think of is that you did it, finally, this whole ordeal will be behind you and the men will let you go...

&lt;&lt;if $refusals &gt; 4&gt;&gt;[[Wait for them to release you...|Await your fate]]&lt;&lt;else&gt;&gt;[[Wait for the men to release you...|Office slut ending scene 1]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $refusals to $refusals - 1&gt;&gt;</tw-passagedata><tw-passagedata pid="158" name="Pull out, refuse to let him cum in your mouth" tags="REFUSAL" position="1450,16100" size="100,100">You can&#39;t do it, this is too much. You refuse to let him spill his seeds into your mouth! You pull away as his cock cums and it flops out of your mouth with a wet pop, taking drool and spit everywhere. He grabs his cock with his hand and cums on your face and breasts, spraying you with his white sticky seeds. He looks at you, disappointed.

&lt;span class=&quot;boss&quot;&gt;&quot;Almost ready, I would say. Still, well done..&quot;&lt;/span&gt; your boss says to the other man. &lt;span class=&quot;man&quot;&gt;&quot;Thank you, Sir, this one was a difficult case.&quot;&lt;/span&gt; he replies. You barely hear what the men are saying... All you can think of is that you did it, finally, this whole ordeal will be behind you and the men will let you go...

[[Wait for the men to release you...|Await your fate]]
&lt;&lt;set $refusals to $refusals + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="159" name="burn mark scene before ending" tags="" position="1950,16700" size="100,100">&lt;&lt;if $shavedHead is false&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/082_SHAVE.png&quot;&gt;&lt;&lt;/if&gt;&gt;
&lt;img class=&quot;center&quot; src=&quot;img/097_BURN.png&quot;&gt;
&lt;&lt;if $shavedHead is false&gt;&gt;The man brings an electric hair clipper with him. No, this can&#39;t be happening! The man grabs your hair with a strong hand.&lt;span class=&quot;jessica&quot;&gt; &quot;Noooo! I&#39;ll fucking kill you!&quot;&lt;/span&gt; is what you try to scream through the gag as you struggle against him, but your bondage is severely limiting your movement and you cannot do anything to stop him. You cry and scream and shake your head as the man brings the hair clipper buzzing to your head. Your long hair starts to fall all around you and panic has set in your heart. WHY? THE FUCKING BASTARD! You thrash against him, but he continues shaving your head, unaffected by your cries.

The whole thing is over before you realize. Your hair is spread all around you on the floor, your beautiful long hair... You cry uncontrollably, unable to come to terms with what just happened. Your head is suddenly very cold you realize, as the familiar hair that&#39;s kept you warm all the years of your life has suddenly disappeared. The fucking bastard...&lt;&lt;set $shavedHead to true&gt;&gt; &lt;&lt;/if&gt;&gt;The man walks to the stall next to yours. You hear the scraping of metal and the man plugging something into an electric socket outside your stall. Then, you hear a loud whoosing sound, kind of like a blowtorch? No, it&#39;s definitely a blowtorch... You freeze in panic. What the fresh hell is he doing now!?

He returns and you hear a hissing sound of something hot in his hands. From your kneeling position, facing outwards from the stall, you can see he has a red-hot iron with letters in his hand. You stare at it with panic. &lt;span class=&quot;jessica&quot;&gt;&quot;No!!&quot;&lt;/span&gt; you scream in terror into the gag!

He grabs you by your collar with one hand, and easily lifts you back to the toilet bowl, once again keeping your head pushed inside. You&#39;re kneeling on the floor, your breasts brushing against the cold ceramic on the outside of the toilet. The man pushes your throat painfully against the edge of the toilet bowl, your head inside the bowl. You cry in panic as you try to breathe and pull away. He ignores your begging. The hot iron is pushed to the back of your head and you scream like you&#39;ve never screamed before. Even with no air left in your lungs you continue screaming and thrashing against the torture. But it&#39;s futile. The man is quickly done and takes away the hot iron from your skin. The bathroom smells of scorched flesh. You black out.

[[...|start chapter 2]]
&lt;&lt;set $trainingIncomplete to false&gt;&gt;</tw-passagedata><tw-passagedata pid="160" name="bagging scene before ending" tags="" position="1800,16700" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/010_STRUGGLE.png&quot;&gt;
The man approaches you with a cloth in his hand. Instinctively, you pull away as far back into the bathroom stall as you can, but there&#39;s no-where to hide. He grabs you and pushed the cloth to your face, covering your mouth and nose. You scream and struggle against him, but he&#39;s much stronger than you and your thrashing is futile. Bounds as you are, there&#39;s not much you can do. You can feel a burning sensation where the cloth touches your mouth, nose and lips and your eyes are beginning to tear up from the vapor.

&lt;span class=&quot;man&quot;&gt;&quot;Nothing personal&quot;&lt;/span&gt; he says and keeps pressing the cloth against your face. &lt;span class=&quot;man&quot;&gt;&quot;Just business.&quot;&lt;/span&gt;

You can feel your lungs burning for air as he continues to grab you. You can&#39;t escape, you must have air! Your lungs involuntarily attempt to take in a deep breath. You pass out...

[[...|start chapter 2]]
&lt;&lt;set $trainingIncomplete to false&gt;&gt;</tw-passagedata><tw-passagedata pid="161" name="Await your fate" tags="MUSIC_CHANGE" position="1550,16425" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_SHAVED_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_HAIRED_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $burnMarked is false&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;Tag her and bag her.&quot;&lt;/span&gt; your boss proclaims and walks away from you. &lt;span class=&quot;man&quot;&gt;&quot;Aye, Sir.&quot;&lt;/span&gt; the man replies. Tag? Bag? What...&lt;&lt;else&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;Bag her.&quot;&lt;/span&gt; your boss proclaims and walks away from you. &lt;span class=&quot;man&quot;&gt;&quot;Aye, Sir.&quot;&lt;/span&gt; the man replies. Bag? What...&lt;&lt;/if&gt;&gt;

&lt;&lt;if $ringGagOn is false&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;Oh, and put a gag on her. The slave has enjoyed her mouth&#39;s freedom long enough.&quot;&lt;/span&gt; your boss comments. You stare in silent horror at the shape of your boss leaving you alone with the man again. He walks up to you, a gag in hand. In panic, you shout &lt;span class=&quot;jessica&quot;&gt;&quot;Wait, no, our deal!&quot;&lt;/span&gt; He forces the gag in your mouth. Your struggle, but he&#39;s too strong.. The leather wraps around your neck as he locks it in place. The man leaves you alone for a moment, then returns with something in his hand. &lt;&lt;/if&gt;&gt;The man looks at you for a moment, but you can&#39;t read his face, covered by the mask as it is... Dread fills you as you suddenly get a very bad feeling about this...

&lt;&lt;if $burnMarked is false&gt;&gt;[[Try to scream, but only muffled cries escape through the gag!|burn mark scene before ending]]&lt;&lt;else&gt;&gt;[[Try to scream, but only muffled cries escape through the gag!|bagging scene before ending]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="162" name="View Credits" tags="" position="925,250" size="100,100">Developed by FlimsyLegs

This game was developed using Twine 2.5.1 (with SugarCube 2.x as the engine).

Characters and scenes were created using makehuman-community 1.2.0 and free-to-use assets from the community store, such as poses, clothing and expression. AI tools were used to generate additional assets and scenes.

Final scenes were edited in Gimp 2.10.

A special thank you to the beta-tester(s) for version 2.2.X:
- Amerika

Credits and huge thanks for the amazing music goes entirely to &lt;span class=&quot;bold&quot;&gt;Abstraction&lt;/span&gt;: http://abstractionmusic.bandcamp.com/ . Note: Abstraction is not associated with Jessica&#39;s Plight in any way. Instead, they offer some songs for free for game developers to use in their projects. List of their songs in-game:

Stream Loops 2024-02-21_01.ogg, Stream Loops 2024-02-14_L03.ogg, Stream Loops 2024-01-24_02.ogg, Stream Loops 2024-02-28_02.ogg, Stream Loops 2024-03-06_01.ogg, Stream Loops 2024-03-20_01.ogg, Stream Loops 2024-03-30_01_L02.ogg, Stream Loops 2024-03-30_02.ogg

[[Back to Start|Start]]</tw-passagedata><tw-passagedata pid="163" name="Listen" tags="" position="3950,3250" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/004_LISTEN.png&quot;&gt;
You decide to listen. You can hear a faint rush of the wind outside, nothing else.

&lt;&lt;if $explore is false&gt;&gt;[[Explore]]&lt;&lt;else&gt;&gt;&lt;&lt;if $explore_body is false&gt;&gt;[[Explore your body]]&lt;&lt;else&gt;&gt;[[Investigate legs]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;set $listen to true&gt;&gt;</tw-passagedata><tw-passagedata pid="164" name="Explore" tags="" position="4125,3250" size="100,100">You decide to explore a bit. You try to stand up, but something is holding you in place.

[[Explore your body]]

&lt;&lt;if $listen is false&gt;&gt;[[Listen]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $explore to true&gt;&gt;</tw-passagedata><tw-passagedata pid="165" name="Explore your body" tags="" position="4050,3375" size="100,100">You decide to check why you can&#39;t move. You realize that your legs are bound together by something. You&#39;re lying sideways on the floor in some sort of room, you&#39;re definitely indoors.

&lt;&lt;if $listen is true&gt;&gt;[[Investigate legs]]&lt;&lt;else&gt;&gt;[[Listen]]&lt;&lt;/if&gt;&gt;
&lt;&lt;set $explore_body to true&gt;&gt;</tw-passagedata><tw-passagedata pid="166" name="Investigate legs" tags="" position="3950,3525" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/102_LEGS.png&quot;&gt;
In the darkness you try to reach out for your legs but you can barely move your arms! You realize that your arms are bound as well! You move around on the floor, trying to make sense of the situation... Damn the darkness...

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Scream for help|time is up ending]]&lt;&lt;else&gt;&gt;[[Scream for help]]&lt;&lt;/if&gt;&gt;

[[Test the limits of your movement]]
</tw-passagedata><tw-passagedata pid="167" name="time is up ending" tags="ENDING MUSIC_CHANGE" position="5500,3400" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;bad_ending&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/012_AUCTION.png&quot;&gt;
You can hear voices approaching your location. Are those your captors? No, you were so close to escaping! Wait.. They&#39;ve come to fuck you, right? Finally! No, not finally! What the hell are you thinking, is it the drug taking hold of your thoughts again!? You hear the voices of two men, talking to each-other. So close now, your pussy needs this... Wait, no, it&#39;s the drug talking again isn&#39;t it? Regardless, at this point, you&#39;ve accepted your fate and a part of you is glad that you no longer need to wait in the room, alone. The door opens and the men approach you. &lt;span class=&quot;man&quot;&gt;&quot;Let&#39;s get her to the sellers.&quot;&lt;/span&gt; the voices says, and two pairs of strong hands grab you.

You whimper softly, not even hearing their words, submitting willingly to your captors as they lead you away. Wow, so rough and strong arms. Yummy! Fucking drugs, making you moan like a horny bitch in a moment like this...

You&#39;re led to a car waiting outside and shoved in the trunk. The car-ride is bumpy, but all you can do is enjoy every lump in the road, every time the car jerks you around. It&#39;s rough, bruising you, but you love it. This is how you want to be treated... No, no it&#39;s not... It&#39;s how the drug wants to be treated, fucking hell, focus Jessica!

The car stops after a while and the men open the trunk, grabbing you. You struggle innocently, provocatively pushing out your naked breasts, trying to seduce your captors. If only they would stop pushing you around, and start shoving their cocks inside of you... But no, they just lead you into an abandoned-looking warehouse in the middle-of-nowhere. In there, a room full of people wearing masks are sitting in rows. Oh, exciting... A crowd! Uhh, the damn drugs are making your head spin again...

The men holding you lead you to a platform where all the people can see you. You&#39;re acutely aware of your nakedness and bondage. And just then you realize that this looks like an auction.

An announcer speaks loudly:

&lt;span class=&quot;boss&quot;&gt;&quot;Fine female specimen for sale!&quot;&lt;/span&gt; he calls. &lt;span class=&quot;boss&quot;&gt;&quot;Complete ownership included and permission to do anything with the slave.&quot;&lt;/span&gt; Complete ownership? To fuck you whenever and however they want? YES, finally! No, not finally? You can&#39;t make heads or tails of what you want anymore... The announced continues:

&lt;&lt;if $trainingIncomplete is true&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female shows signs of resistance and remains unbroken. The pleasure of breaking her will be yours. Punishments are recommended to break her.&quot;&lt;/span&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &lt;= 2&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown almost complete obedience to her master&#39;s and should easily accept her fate as your slave. The need for punishments may even be unnecessary for this eager sex-slave.&quot;&lt;/span&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 3 and $refusals &lt;= 6&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown a little bit of resistance obeying her master&#39;s, but should with a little work accept her fate as your slave. The need for punishments and some more training will be unnecessary to make her a proper sex-slave.&quot;&lt;/span&gt;
&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 7 and $refusals &lt;= 12&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown a quite a bit of resistance obeying her master&#39;s, and will require extra breaking to fit your needs, unless all you seek is a breakable body. She could function as a sex-slave, if you train her quite a bit more, but even then, she may not accept her fate as a slave.&quot;&lt;/span&gt;&lt;&lt;else&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown resistance obeying her master&#39;s in almost every command. She must be thoroughly broken first before she&#39;s willing to serve. She could function as a sex-slave, if you train her quite a bit more. However, we recommend buying her for the purpose of torture and breaking her instead, as we believe she will never accept her fate as a slave.&quot;&lt;/span&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

You can&#39;t believe what you&#39;re hearing. Voices start shouting prices and your time as a free woman is at an end, as men bid for the pleasure of owning your body...


The end.

Ending #1 - you&#39;re sold as a slave and go through intense slave training for months. With the help of the drug, you actually enjoy everything you go through, service your new master willingly...

You can restart the game from the configuration menu.</tw-passagedata><tw-passagedata pid="168" name="Scream for help" tags="" position="4925,3550" size="100,100">You try to scream for help as loud as you can, but choke on the large ball-gag that is lodged in your mouth. Through the gag your screams are muffled. You try to scream as loud as you can, but you are aware of just how little sound you&#39;re able to make with the gag in your mouth. Eventually you give up...

&lt;&lt;return&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;
&lt;&lt;if $part1_struggles_needed is 7&gt;&gt;&lt;&lt;set $part1_struggles_needed to 8&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="169" name="Test the limits of your movement" tags="" position="4075,3650" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
&lt;img class=&quot;center-small&quot; src=&quot;img/102_LEGS.png&quot;&gt;
You decide to test how far you can move. You&#39;re lying sideways on the floor. You attempt to go to a kneeling position - this fails, since your legs are tied together. You realize that your lower legs are tied tightly together with your thigh - you cannot move your legs at all. You also cannot move your feet to either side, as there&#39;s some ankle-ties keeping them together.

Next, you wriggle your arms: You can move them behind you back left and right, bound as they are together, but that&#39;s about it.

You feel a ball-gag is in your mouth, its tight leather wrapped around your head, keeping you muffled and silent.

Something soft is pressed against your face, you realize the darkness is likely not only due to the room being dark, but because you&#39;re also wearing a blindfold.

You swallow nervously. As you do so, you become aware of a collar that is choking your neck. You wriggle about on the floor as best as you can and realize the collar is attached to a leash that is keeping you close to a wall - you can barely move an inch away from the wall as it is now. Judging by the angle, the leash is attached somewhere higher up on the wall and you have no way of reaching it right now.

You also realize you&#39;re also completely naked, with the exception of all the bondage you&#39;re wearing. One of your curvy breasts is touching the floor whenever you move.

[[Think on what to do...|main decision hub 1]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $arm_struggle to 0&gt;&gt;
&lt;&lt;set $ankle_struggle to 0&gt;&gt;
&lt;&lt;set $leash_struggle to 0&gt;&gt;
&lt;&lt;set $gag_struggle to 0&gt;&gt;
&lt;&lt;set $blindfold_struggle to 0&gt;&gt;
&lt;&lt;set $leg_struggle to 0&gt;&gt;
&lt;&lt;set $part1_struggles_needed to 0&gt;&gt;
&lt;&lt;set $thought_index to 0&gt;&gt;

&lt;&lt;set $jessica_thoughts to []&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Wow these ropes are really fucking tight... In an oddly comforting way. Do I actually like this? Being helpless like this? No, wait, that is the drug talking...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;I know I should not be enjoying this... But it is hard to resist. If I just rub my legs together like this... Ahh, that feels good... Fuck! Jessica, snap out of it...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Damn this drug is making it hard to stay focused... It just feels so pleasant when I relax and embrace it though... If only there was someone watching me right now, helplessly bound like this... The things they could do to me... Oh my god, what I am thinking!? No, no. Not me, the damn drugs...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;My mind tells me to struggle, but my body just wants to relax and wait things out, hoping that someone finds me like this and fucks my brains out... Oh that would be nice...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Mmhm. If I just stop struggling, would it be so bad? Is escape really necessary? What I want? The warmth of this drug, whatever it is, is so inviting... I just wish I was not alone here, naked, drooling, helplessly bound...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Fighting against this feeling is so difficult... And pointless? Why does everything have to be difficult? Giving up is ease though. I should do that... Give up, then wait for whoever tied me up in the first place to come back and treat me real good... Like a bound queen...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Snap out of it, Jessica. Focus on the important things. On a man putting a collar on you, telling you that you are his bitch, forcing you down on all fours, taking you roughly from behind... Wait. Those are not the important things! What is the matter with me!?&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Why does everything feel so nice? The rope, the fluttering panic in my chest of not getting out of here... Should I not be worried? Worried for what though... For not having anyone in here to take care my abandoned and soaking wet pussy, that is what worries me that most right now... Right..?&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;A big hard cock, in my desperate and slutty pussy, right now, please... Anyone? Oh my god, what is this drug doing to me...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Please, someone, use me like I am meant to be used... I am yours, I will do anything, just give me a cock right now... Fuck. These thoughts cannot possibly be mine, they must come from the drug... Please tell me this is not the real me coming out...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Thinking clearly is so hard right now... Like an erect cock... Wow, there I go again. Why am I wetter and hornier than I have ever been in my life...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;This has got to be the best and worst day of my life. I have never been so relaxed, so ready to hear the voice of a man right now telling me that I am his, and that he will worship my wet pussy with his massive throbbing penis... What, really? No, yes, really...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;I need to stay alert but the warmth is just so damn distracting... Uuhh... Warmth. Yeah... No. The warmth of one man is not enough anymore. I have more holes than one, all just as horny and willing... I really could do with a cock in my mouth right now... Oh what I would give just to taste one... The thought alone makes me drool...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Cannot help these thoughts... A cock in my mouth and a cock in my pussy. Please. Right now. This delivery service sucks! It really does... Where are my packages, hard throbbing packages... But oh, I would suck so much more than that. I would. I would such that cock like no-one has sucked a cock before. Like the horny slut I am...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;I am a helpless slut, who needs two cocks, right now... No, wait... Think big. Three cocks. That is what I need. In my mouth. In my pussy. And my ass, please, at the same time. Ahh that would be heaven... A gang bang is what I need right now. There is not a single man alive that can satisfy my needs alone... There are no two men alive who combined can satisfy my needs...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Please focus Jessica, fuck the drug. No fuck the men. No, the drug. Fuck it. Swallow it, the whole shaft. Fight it! Give into it, let them use you. What the hell... How does any of this matter anyway? I am just a wet, horny slut...&#39;)&gt;&gt;
&lt;&lt;run $jessica_thoughts.push(&#39;Ok. Wow. This is strange. Silence. Is it over? The drug? Can I focus again? I... I think so. Wow... Fucking hell. Right. Now, just stay focused and get the fuck out of here Jessica... Before the drug grabs your thoughts again...&#39;)&gt;&gt;

&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="170" name="main decision hub 1" tags="" position="4075,3775" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
You try to keep calm and asses your situation. You realize that your kidnappers could return at any time and you may only have a short window of opportunity to escape. You decide to...

&lt;&lt;if $time &gt;= 150&gt;&gt;[[Scream for help|time is up ending]]&lt;&lt;else&gt;&gt;[[Scream for help|Scream for help part 1]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 150&gt;&gt;[[Wait in silence|time is up ending]]&lt;&lt;else&gt;&gt;[[Wait in silence|wait in silence part 1]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 150&gt;&gt;[[Struggle against a specific bind...|time is up ending]]&lt;&lt;else&gt;&gt;[[Struggle against a specific bind...|Struggle against a specific bind part 1]]&lt;&lt;/if&gt;&gt;

[[Accept your fate and stop struggling...|accept your fate part 1]]
&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;&lt;&lt;if $part1_struggles_needed &lt; 6&gt;&gt;&lt;&lt;set $part1_struggles_needed to 6&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="171" name="Wait in silence" tags="" position="3850,3875" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You decide to wait in silence. Your heart is beating in your chest as you try to listen for new sounds. Minutes pass without anything happening. You realize in that moment that now is not the time for waiting around. Action is needed...

&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="172" name="Struggle against a specific bind part 1" tags="" position="4550,3700" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;Struggle against...

[[The ball-gag]]

[[The blindfold]]

[[The leash]]

[[The ankle-ties]]

[[The leg-ties]]

[[The arm-ties]]</tw-passagedata><tw-passagedata pid="173" name="The ball-gag" tags="" position="4825,3950" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
&lt;&lt;set $gag_struggle to $gag_struggle + 1&gt;&gt;You decide to struggle against the ball-gag in your mouth. If you can get it out, you can scream for help much louder! You press your tongue against the ball, try to bite the gag and work your jaw raw in an attempt to get the gag out of your drooling mouth. Nothing works...
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $gag_struggle is 1&gt;&gt;&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;&lt;&lt;set $part1_struggles_needed to $part1_struggles_needed + 1&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;You feel that it is pointless to continue struggling against the ball-gag, for now.&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 1]]</tw-passagedata><tw-passagedata pid="174" name="The blindfold" tags="" position="4450,3950" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
&lt;&lt;set $blindfold_struggle to $blindfold_struggle + 1&gt;&gt;You decide to struggle against the blindfold keeping the room in darkness. If only you could see a little better... You grind your head against the floor and wall, trying to remove the blindfold. You realize it&#39;s made of sturdy material that is tightly wrapped around your head. Nothing you do even nudges the blindfold...
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $blindfold_struggle is 1&gt;&gt;&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;&lt;&lt;set $part1_struggles_needed to $part1_struggles_needed + 1&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;You feel that it is pointless to continue struggling against the blindfold, for now.&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 1]]</tw-passagedata><tw-passagedata pid="175" name="The leash" tags="" position="4575,3950" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
&lt;&lt;set $leash_struggle to $leash_struggle + 1&gt;&gt;You decide to struggle against the leash that is attached to the collar around your neck and the wall next to you. You put your weight on the leash, choking in the process, trying to get the leash to come loose from the wall. The effort leaves you breathless and your throat is hurting. This is not working...
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $leash_struggle is 1&gt;&gt;&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;&lt;&lt;set $part1_struggles_needed to $part1_struggles_needed + 1&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;You feel that it is pointless to continue struggling against the leash, for now.&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 1]]</tw-passagedata><tw-passagedata pid="176" name="The ankle-ties" tags="" position="4700,3950" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/102_LEGS.png&quot;&gt;
&lt;&lt;set $ankle_struggle to $ankle_struggle + 1&gt;&gt;You decide to struggle against the ankle-ties keeping your ankles tied together. If you only could get more wriggle room to your feet, then surely you could loosen up the leg ties? You put pressure on the ties, trying to work in different angles to loosen them.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;
Eventually, you realize it&#39;s pointless... The ropes are not budging at all.
&lt;&lt;if $ankle_struggle is 1&gt;&gt;&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;&lt;&lt;set $part1_struggles_needed to $part1_struggles_needed + 1&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;You feel that it is pointless to continue struggling against the ankle-ties, for now.&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 1]]</tw-passagedata><tw-passagedata pid="177" name="The leg-ties" tags="" position="4325,3950" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/102_LEGS.png&quot;&gt;
&lt;&lt;set $leg_struggle to $leg_struggle + 1&gt;&gt;&lt;&lt;set $part2_struggle_done to false&gt;&gt;
&lt;&lt;if $time &gt; 50&gt;&gt;&lt;&lt;set $time to 50&gt;&gt;&lt;&lt;/if&gt;&gt;You decide to struggle against the binds that keep your lower legs tied against your thighs. You wriggle and put all your force onto the bindings. &lt;&lt;if $part1_struggles_needed &gt;= 8&gt;&gt;You feel something coming loose! With renewed hope, you double your efforts. Slowly, you manage to free your legs from the ropes enough so that you can stretch and extend your legs. Your ankles are still firmly tied together, but your lower legs are no longer tied to your thighs.

[[With renewed energy, think on what to do next!|main decision hub 2]]
&lt;&lt;else&gt;&gt;Eventually, you have to give up as you realize the bindings aren&#39;t loosening one bit. You should probably explore all your other options, then try removing the leg-ties again...
&lt;&lt;if $leg_struggle is 1&gt;&gt;&lt;&lt;set $part1_struggles_needed to $part1_struggles_needed + 1&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $part1_struggles_needed &lt; 8&gt;&gt;For now, you feel like you need to explore your other options first...&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 1]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="178" name="The arm-ties" tags="" position="4950,3950" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
&lt;&lt;set $arm_struggle to $arm_struggle + 1&gt;&gt;You decide to struggle against the ties keeping your arms behind your back and hands uselessly tied together. Surely having your arms and hands free is the best solution, you can remove the rest of your binds once you accomplish that? You struggle and try to free yourself.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;
Eventually you give up. Your arms are no closer to being free than they were before.
&lt;&lt;if $arm_struggle is 1&gt;&gt;&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;&lt;&lt;set $part1_struggles_needed to $part1_struggles_needed + 1&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;You feel that it is pointless to continue struggling against the arm-ties, for now.&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 1]]</tw-passagedata><tw-passagedata pid="179" name="main decision hub 2" tags="MUSIC_CHANGE" position="4600,4500" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
Your legs are no longer tied together, giving you a minimal amount of movement freedom for your legs. You can extend your legs, but your ankles are still tied together. How long did it take for you to even reach this stage? You&#39;re beginning to feel a tiny bit of hope, but also fear that your time is running out. You assess you situation...

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Scream for help|time is up ending]]&lt;&lt;else&gt;&gt;[[Scream for help|scream for help part 2]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Wait in silence|time is up ending]]&lt;&lt;else&gt;&gt;[[Wait in silence|wait in silence part 2]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Struggle against a specific bind...|time is up ending]]&lt;&lt;else&gt;&gt;[[Struggle against a specific bind...|Struggle against a specific bind part 2]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Extend your legs and explore the room|time is up ending]]&lt;&lt;else&gt;&gt;[[Extend your legs and explore the room]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Go to a kneeling position|time is up ending]]&lt;&lt;else&gt;&gt;[[Go to a kneeling position|Go to a kneeling position and explore]]&lt;&lt;/if&gt;&gt;

[[Give up, accept your fate and stop struggling...|accept your fate part 1]]
&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;&lt;&lt;set $part2_struggle_done to true&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="180" name="Struggle against a specific bind part 2" tags="" position="5200,4400" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;Struggle against...

[[The ball-gag|The ball-gag part 2]]

[[The blindfold|The blindfold part 2]]

[[The leash|The leash part 2]]

[[The ankle-ties|The ankle-ties part 2]]

[[The arm-ties|The arm-ties part 2]]</tw-passagedata><tw-passagedata pid="181" name="Extend your legs and explore the room" tags="" position="4500,4700" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/102_LEGS.png&quot;&gt;
You decide to see what you can accomplish by extending your newly freed legs around the room. In total darkness, gagged, bound and drooling, you start probing around the room with your tied ankles as far as they go...

You&#39;re at the starting position, lying side-way against the wall that the leash around your collar is tied to.

[[Probe to your left]]
&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;
[[Probe to your right]]
&lt;&lt;/if&gt;&gt;
[[Probe directly away from the wall]]

[[Probe the wall]]

[[Decide it&#39;s useless, stop probing around|main decision hub 2]]</tw-passagedata><tw-passagedata pid="182" name="Go to a kneeling position and explore" tags="" position="4800,4600" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You try to get into a kneeling position. It&#39;s quite hard with your hands tied behind your back and ankles still tied together. Eventually, you manage to do it. You probe around on the wall with your tied hands, with the little wiggle-room your fingers have, trying to find where you collar&#39;s leash is attached to the wall. You realize it&#39;s much further up and you cannot possibly reach it from a kneeling position.

[[Try to stand up]]

[[Think of something else, go back to your lying-down position|main decision hub 2]]</tw-passagedata><tw-passagedata pid="183" name="The ball-gag part 2" tags="" position="4950,4525" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the ball-gag in your mouth. If you can get it out, you can scream for help much louder! You press your tongue against the ball, try to bite the gag and work your jaw raw in an attempt to get the gag out of your drooling mouth. Nothing works... You can&#39;t help but feel that this is pointless.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 2]]</tw-passagedata><tw-passagedata pid="184" name="The blindfold part 2" tags="" position="5075,4525" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the blindfold keeping the room in darkness. If only you could see a little better... You grind your head against the floor and wall, trying to remove the blindfold. You realize it&#39;s made of sturdy material that is tightly wrapped around your head. Nothing you do even nudges the blindfold... You can&#39;t help but feel that this is pointless.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 2]]</tw-passagedata><tw-passagedata pid="185" name="The leash part 2" tags="" position="5200,4525" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
&lt;&lt;if $part2_struggle_done is false&gt;&gt;You try to loosen the leash a little bit, for a while. You can&#39;t see what you&#39;re doing, but something tells you you&#39;ve made some progress.&lt;&lt;/if&gt;&gt;&lt;&lt;set $part2_struggle_done to true&gt;&gt; You continue your struggle against the leash that is attached to the collar around your neck and the wall next to you. You put your weight on the leash, choking in the process, trying to get the leash to come loose from the wall. The effort leaves you breathless and your throat is hurting. This is not working... You feel it&#39;s time to explore the room.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 2]]</tw-passagedata><tw-passagedata pid="186" name="The ankle-ties part 2" tags="" position="5325,4525" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/102_LEGS.png&quot;&gt;
&lt;&lt;if $part2_struggle_done is false&gt;&gt;You try to loosen your ankle-ties a little bit, for a while. You can&#39;t see what you&#39;re doing, but something tells you you&#39;ve made some progress.&lt;&lt;/if&gt;&gt;&lt;&lt;set $part2_struggle_done to true&gt;&gt; You continue your struggle against the ankle-ties keeping your ankles tied together. You have more room to wriggle now with your legs free, but your ankles are still firmly tied together. You put pressure on the ties, trying to work in different angles to loosen them.
Eventually, you realize it&#39;s pointless... The ropes are not budging at all. You feel it&#39;s time to explore the room.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 2]]</tw-passagedata><tw-passagedata pid="187" name="The arm-ties part 2" tags="" position="5450,4525" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
&lt;&lt;if $part2_struggle_done is false&gt;&gt;You try to loosen your arm-ties a little bit, for a while. You can&#39;t see what you&#39;re doing, but something tells you you&#39;ve made some progress.&lt;&lt;/if&gt;&gt;&lt;&lt;set $part2_struggle_done to true&gt;&gt; You continue your struggle against the ties keeping your arms behind your back and hands uselessly tied together. Surely having your arms and hands free is the best solution, you can remove the rest of your binds once you accomplish that? You struggle and try to free yourself.
Eventually you give up. Your arms are no closer to being free than they were before. You feel it&#39;s time to explore the room.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 2]]</tw-passagedata><tw-passagedata pid="188" name="Try to stand up" tags="" position="4800,4725" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/102_LEGS.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You try to stand up. Your ankles are tied together, one ankle over the other, the two crossing each-other and firmly tied there. No matter what angle you try, you simply cannot stand up. You fall down hard on the ground multiple times in the attempt. Bruised, you realize this is not going to work...

[[Think of something else, go back to your lying-down position|main decision hub 2]]</tw-passagedata><tw-passagedata pid="189" name="Probe to your left" tags="" position="4300,4600" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The floor is hard against your naked body as you turn your body towards your left. You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you. It&#39;s hard to tell without seeing.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe further, against the wall to your left]]

[[Probe further, directly ahead|Probe further directly ahead from left]]

[[Probe further, in towards the room|Probe further in towards the room from left]]

[[Go back a little|Extend your legs and explore the room]]</tw-passagedata><tw-passagedata pid="190" name="Probe to your right" tags="" position="4500,5000" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The floor is hard against your naked body as you turn your body to the right. You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you. It&#39;s hard to tell without seeing.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe further, directly ahead]]

[[Probe further, in towards the room]]

[[Probe further, against the wall to your right]]

[[Go back a little|Extend your legs and explore the room]]</tw-passagedata><tw-passagedata pid="191" name="Probe directly away from the wall" tags="" position="4300,4800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The floor is hard against your naked body as you turn your body towards the middle of the room. You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you. It&#39;s hard to tell without seeing.

[[Probe further, to your left|Probe further, to your left from forward]]

[[Probe further, in towards the room|Probe further, in towards the room from forward]]

[[Probe further, to your right|Probe further, to your right from forward]]

[[Go back a little|Extend your legs and explore the room]]</tw-passagedata><tw-passagedata pid="192" name="Probe the wall" tags="" position="4650,4900" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You probe the wall. The wall is solid and hard, you think it must be made of bricks. It&#39;s not particularly cold nor hot. Your probing legs finds the surface smooth wherever you touch.

[[Probe to your left]]

[[Probe to your right]]

[[Probe directly away from the wall]]

[[Decide it&#39;s useless, stop probing around|main decision hub 2]]</tw-passagedata><tw-passagedata pid="193" name="Probe further, directly ahead" tags="" position="4375,5125" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but brick wall as far as your tied feet can feel. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe to your right]]</tw-passagedata><tw-passagedata pid="194" name="Probe further, in towards the room" tags="" position="4500,5125" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe to your right]]</tw-passagedata><tw-passagedata pid="195" name="Probe further, against the wall to your right" tags="" position="4625,5125" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe to your right]]</tw-passagedata><tw-passagedata pid="196" name="Probe further, to your left from forward" tags="" position="4250,5025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe more to the left]]

[[Probe more forward]]

[[Go back a little|Probe directly away from the wall]]</tw-passagedata><tw-passagedata pid="197" name="Probe further, in towards the room from forward" tags="" position="4100,5000" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe more to the left|Probe more to the left from forward]]

[[Probe more forward|Probe more forward from forward]]

[[Go back a little|Probe directly away from the wall]]</tw-passagedata><tw-passagedata pid="198" name="Probe further, to your right from forward" tags="" position="4100,4800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;
[[Probe more to the left|Probe more to the left from right]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;
[[Probe more forward|Probe more forward from right]]
&lt;&lt;/if&gt;&gt;

[[Go back a little|Probe directly away from the wall]]</tw-passagedata><tw-passagedata pid="199" name="Probe more to the left" tags="" position="4150,5175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but brick wall as far as your tied feet can feel. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe further, to your left from forward]]</tw-passagedata><tw-passagedata pid="200" name="Probe more forward" tags="ROCK" position="4275,5175" size="100,100">&lt;&lt;if $found_rock is false&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;&lt;&lt;/if&gt;&gt;
You extend your tied ankles in that direction, feeling about the room in the darkness.
&lt;&lt;if $found_rock is false&gt;&gt;&lt;&lt;set $found_rock to true&gt;&gt;Your feet touch a small rock. It is about the size of a tennis ball, and quite smooth. You bring it close to your resting place with your feet. You realize it is not going to help you cut the ropes, but it might be useful later for something else. There&#39;s nothing else in this direction.
&lt;&lt;else&gt;&gt;
This is where you found a rock previously. Now, you find nothing more than the floor. It&#39;s hard to tell without seeing.
&lt;&lt;/if&gt;&gt;

[[Go back a little|Probe further, to your left from forward]]
&lt;&lt;set $time to $time + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="201" name="Probe more to the left from forward" tags="ROCK" position="3875,5175" size="100,100">&lt;&lt;if $found_rock is false&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;&lt;&lt;/if&gt;&gt;
You extend your tied ankles in that direction, feeling about the room in the darkness.
&lt;&lt;if $found_rock is false&gt;&gt;&lt;&lt;set $found_rock to true&gt;&gt;Your feet touch a small rock. It is about the size of a tennis ball, and quite smooth. You bring it close to your resting place with your feet. You realize it is not going to help you cut the ropes, but it might be useful later for something else. There&#39;s nothing else in this direction.
&lt;&lt;else&gt;&gt;
This is where you found a rock previously. Now, you find nothing more than the floor. It&#39;s hard to tell without seeing.
&lt;&lt;/if&gt;&gt;

[[Go back a little|Probe further, in towards the room from forward]]
&lt;&lt;set $time to $time + 1&gt;&gt;</tw-passagedata><tw-passagedata pid="202" name="Probe more forward from forward" tags="" position="4025,5175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing.

[[Go back a little|Probe further, in towards the room from forward]]</tw-passagedata><tw-passagedata pid="203" name="Probe more to the left from right" tags="" position="3950,4750" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe more to the left|Probe more to the left from forward to right]]

[[Probe more forward|Probe more forward from forward to right]]

[[Go back a little|Probe further, to your right from forward]]</tw-passagedata><tw-passagedata pid="204" name="Probe more forward from right" tags="" position="3950,4950" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe more to the left|Probe more to the left from forward to left]]

[[Probe more forward|Probe more forward from forward to left]]

[[Go back a little|Probe further, to your right from forward]]</tw-passagedata><tw-passagedata pid="205" name="Probe more to the left from forward to right" tags="" position="3800,4625" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing.  You realize there&#39;s nothing here.

[[Go back a little|Probe more to the left from right]]</tw-passagedata><tw-passagedata pid="206" name="Probe more forward from forward to right" tags="" position="3800,4750" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe more to the left from right]]</tw-passagedata><tw-passagedata pid="207" name="Probe more to the left from forward to left" tags="" position="3800,4875" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe more forward from right]]</tw-passagedata><tw-passagedata pid="208" name="Probe more forward from forward to left" tags="" position="3800,5025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor as far as your tied feet can feel. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe more forward from right]]</tw-passagedata><tw-passagedata pid="209" name="Probe further, against the wall to your left" tags="" position="4300,4325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/115_BRICK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;if $part2_struggle_done is true&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You stub your toes on something hard. The brick wall is in need of some repair here, you can feel a brick is poking out of the wall. You feel about the brick, in a very extended and humiliating position, leash keeping you from going further, slightly choking you as you reach out to feel the brick. The edge just might be sharp enough to cut through the rope on your ankle, if you have the patience...

[[Try to cut loose your ankles on the brick]]

[[Try to find something better, go back a little|Probe to your left]]
&lt;&lt;else&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you and a brick wall next to you. It&#39;s hard to tell without seeing. Somehow you know that if you can just loosen up some of your bindings a tiny bit more, your reach will improve enough to find something useful in the room...

[[Go back a little|Probe to your left]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="210" name="Probe further directly ahead from left" tags="" position="4100,4650" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe to your left]]</tw-passagedata><tw-passagedata pid="211" name="Probe further in towards the room from left" tags="" position="4100,4525" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You extend your tied ankles in that direction, feeling about the room in the darkness. You find nothing but solid floor under you. It&#39;s hard to tell without seeing. You realize there&#39;s nothing here.

[[Go back a little|Probe to your left]]</tw-passagedata><tw-passagedata pid="212" name="Try to cut loose your ankles on the brick" tags="" position="4075,4250" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/102_LEGS.png&quot;&gt;
You sawing at the rope with the brick&#39;s sharp edge as best as you can, bound and extended as you are. Seconds turn to minutes as you grunt with the effort. You cannot see if you&#39;re making progress, nor can you feel the ropes loosening up at all...

[[Continue cutting the ankle ropes on the brick]]

[[Try to find something better, go back a little|Probe to your left]]</tw-passagedata><tw-passagedata pid="213" name="Continue cutting the ankle ropes on the brick" tags="" position="3875,4275" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/102_LEGS.png&quot;&gt;
You sawing at the rope with the brick&#39;s sharp edge as best as you can, bound and extended as you are. Seconds turn to minutes as you grunt with the effort. You cannot see if you&#39;re making progress, nor can you feel the ropes loosening up at all...

[[Continue cutting the ankle ropes on the brick|Continue cutting the ankle ropes on the brick part 2]]

[[Try to find something better, go back a little|Probe to your left]]</tw-passagedata><tw-passagedata pid="214" name="Continue cutting the ankle ropes on the brick part 2" tags="" position="3725,4350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/102_LEGS.png&quot;&gt;
You sawing at the rope with the brick&#39;s sharp edge as best as you can, bound and extended as you are. Seconds turn to minutes as you grunt with the effort. You cannot see if you&#39;re making progress, nor can you feel the ropes loosening up at all...

[[Continue cutting the ankle ropes on the brick|Continue cutting the ankle ropes on the brick part 3]]

[[Try to find something better, go back a little|Probe to your left]]</tw-passagedata><tw-passagedata pid="215" name="Continue cutting the ankle ropes on the brick part 3" tags="" position="3500,5300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/102_LEGS.png&quot;&gt;
&lt;&lt;set $time to $time + 17&gt;&gt;&lt;&lt;if $time &gt; 85&gt;&gt;&lt;&lt;set $time to 85&gt;&gt;&lt;&lt;/if&gt;&gt;You continue sawing, determined to see this through. After many minutes you finally feel your ankles beginning to loosen up. You&#39;re sweating from the effort, but you&#39;re motivated to continue as you feel the rope beginning to yield.

You free your ankles with a triumphant yelp! The ball-gag prevents sound from escaping and you only manage to drool more. You don&#39;t care, your ankles are free! You retract your legs back to your body.

[[With renewed energy, think on what to do next!|main decision hub 3]]</tw-passagedata><tw-passagedata pid="216" name="main decision hub 3" tags="MUSIC_CHANGE" position="4600,5600" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
With your ankles and legs free, you can move around much more freely. You still have not heard the sound of anyone outside - not your kidnappers nor potential passers-by. You haven&#39;t prayed in a long time, but now you find yourself praying to all the gods, old and new, to please give you just a little bit more time to escape. You decide to...

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Scream for help|time is up ending]]&lt;&lt;else&gt;&gt;[[Scream for help]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Wait in silence|time is up ending]]&lt;&lt;else&gt;&gt;[[Wait in silence]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Struggle against a specific bind...|time is up ending]]&lt;&lt;else&gt;&gt;[[Struggle against a specific bind...|Struggle against a specific bind part 3]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Go to a kneeling position|time is up ending]]&lt;&lt;else&gt;&gt;[[Go to a kneeling position|get to a kneeling position part 3]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="217" name="Struggle against a specific bind part 3" tags="" position="4975,5525" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;Struggle against...

[[The ball-gag|The ball-gag part 3]]

[[The blindfold|The blindfold part 3]]

[[The leash|The leash part 3]]

[[The arm-ties|The arm-ties part 3]]</tw-passagedata><tw-passagedata pid="218" name="get to a kneeling position part 3" tags="" position="4600,5900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/113_KNEEL.png&quot;&gt;
You decide to go to a kneeling position. It is easy without your legs and ankles being tied together.

[[Stand up]]

[[Think of other options, go back to lying down|main decision hub 3]]</tw-passagedata><tw-passagedata pid="219" name="The ball-gag part 3" tags="" position="4737.5,5725" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the ball-gag in your mouth. If you can get it out, you can scream for help much louder! You press your tongue against the ball, try to bite the gag and work your jaw raw in an attempt to get the gag out of your drooling mouth. Nothing works...
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 3]]</tw-passagedata><tw-passagedata pid="220" name="The blindfold part 3" tags="" position="4862.5,5725" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the blindfold keeping the room in darkness. If only you could see a little better... You grind your head against the floor and wall, trying to remove the blindfold. You realize it&#39;s made of sturdy material that is tightly wrapped around your head. Nothing you do even nudges the blindfold...
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 3]]</tw-passagedata><tw-passagedata pid="221" name="The leash part 3" tags="" position="4987.5,5725" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
You decide to struggle against the leash that is attached to the collar around your neck and the wall next to you. You put your weight on the leash, choking in the process, trying to get the leash to come loose from the wall. The effort leaves you breathless and your throat is hurting. This is not working...
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 3]]</tw-passagedata><tw-passagedata pid="222" name="The arm-ties part 3" tags="" position="5112.5,5725" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
You decide to struggle against the ties keeping your arms behind your back and hands uselessly tied together. Surely having your arms and hands free is the best solution, you can remove the rest of your binds once you accomplish that? You struggle and try to free yourself.
Eventually you give up. Your arms are no closer to being free than they were before.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Think on what to do next...|main decision hub 3]]</tw-passagedata><tw-passagedata pid="223" name="Stand up" tags="" position="4600,6025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/113_KNEEL.png&quot;&gt;
You stand up and find it easy to do so now that your ankles aren&#39;t tied together. You take a moment to assess your situation. You&#39;re still wearing a ball-gag that is preventing you from screaming for help loudly, you cannot see a thing due to the blindfold on your face. A collar with a leash is keeping to tied to the wall behind you. Your arms and hands are firmly tied behind your back, you have barely any room to move your fingers.

[[Probe the wall with your hand, try to find where your leash is attached]]

[[Try to loosen the brick that you cut your ropes with]]</tw-passagedata><tw-passagedata pid="224" name="Probe the wall with your hand, try to find where your leash is attached" tags="" position="4525,6150" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
&lt;img class=&quot;center-small&quot; src=&quot;img/110_LOCK.png&quot;&gt;
You probe the wall behind you. You realize quite easily where the leash is attached to the wall as you bend over forward and bring your arms up. They find the root of the leash. You can barely reach it in your current position, but it&#39;s there: A ring of some sort, with the leash attached to it. Next to the leash is a lock. You extend your tied fingers and probe on it, it doesn&#39;t feel too solid... You might be able to smash it with something. But with what?
&lt;&lt;if $found_rock is true&gt;&gt;
The rock, of course! You kneeling down and try to find the rock you&#39;ve placed next to you. You find it. You can hold it with a few fingers behind your back in an awkward way. You get back to a standing position, find the lock keeping your leash attached to the ring in the wall and...

[[Smash the lock|smash the lock attempt 1]]
&lt;&lt;else&gt;&gt;[[Explore the room with your legs]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="225" name="Try to loosen the brick that you cut your ropes with" tags="" position="4675,6150" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You remember the brick that you cut your ankle ropes with. Maybe you can get it loose? Try get down into a sitting position and extend your legs out towards the brick. You find it. You try to give it some kicks with your feet, but the thing won&#39;t budge. You try again and again, but realize that it&#39;s not going to budge. &lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;
Defeated you...

[[Stand up]]</tw-passagedata><tw-passagedata pid="226" name="smash the lock attempt 1" tags="" position="4600,6800" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
&lt;img class=&quot;center-small&quot; src=&quot;img/110_LOCK.png&quot;&gt;
&lt;&lt;set $time to $time + 10&gt;&gt;&lt;&lt;if $time &gt; 95&gt;&gt;&lt;&lt;set $time to 95&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;set $lock_life to 10&gt;&gt;You grab the rock with shaking fingers. In a bending down position, your arms stretched as high up as you can, you can feel the lock against your hands. You swing at it. The rock slips from your hand on impact. &lt;span class=&quot;jessica&quot;&gt;&quot;Fuck!&quot;&lt;/span&gt; you yell, muffled through your ring-gag. You spend some time searching the ground for the rock. Eventually, you find it.

[[Try smashing again, with force]]

[[Try smashing again, aiming carefully]]

[[Try smashing again with a firm grip, but cautiously|Try smashing again with a firm grip, but cautiosly]]</tw-passagedata><tw-passagedata pid="227" name="Explore the room with your legs" tags="" position="4200,6300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
You decide to explore the room, maybe you missed something useful. You&#39;re at the starting position, up against the wall that the leash around your collar is attached to.

[[Probe to your left|probe left standing]]

[[Probe to your right|probe right standing]]

[[Probe directly away from the wall|probe forward standing]]</tw-passagedata><tw-passagedata pid="228" name="probe left standing" tags="" position="4100,6450" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe further, directly ahead|probe standing left then forward]]

[[Probe further, in towards the room|probe standing left then in]]

[[Go back a little|Explore the room with your legs]]</tw-passagedata><tw-passagedata pid="229" name="probe right standing" tags="" position="4400,6400" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe further, directly ahead|probe standing right then forward]]

[[Probe further, in towards the room|probe standing right then in]]

[[Go back a little|Explore the room with your legs]]</tw-passagedata><tw-passagedata pid="230" name="probe forward standing" tags="" position="4025,6275" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Probe further, in towards the room|probe standing forward then forward]]

[[Probe further, to the left|probe standing forward then left]]

[[Probe further, to the right|probe standing forward then right]]

[[Go back a little|Explore the room with your legs]]</tw-passagedata><tw-passagedata pid="231" name="probe standing right then forward" tags="" position="4325,6550" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe right standing]]</tw-passagedata><tw-passagedata pid="232" name="probe standing right then in" tags="" position="4475,6550" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe right standing]]</tw-passagedata><tw-passagedata pid="233" name="probe standing left then forward" tags="" position="4037.5,6575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe left standing]]</tw-passagedata><tw-passagedata pid="234" name="probe standing left then in" tags="" position="4162.5,6575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe left standing]]</tw-passagedata><tw-passagedata pid="235" name="probe standing forward then forward" tags="" position="3775,6375" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe further, in towards the room|probe standing forward forward forward]]

[[Probe further, to the left|probe standing forward left forward]]

[[Probe further, to the right|probe standing forward forward right]]

[[Go back a little|probe forward standing]]</tw-passagedata><tw-passagedata pid="236" name="probe standing forward then left" tags="" position="3800,6150" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Probe further, in towards the room|probe standing forward left forward]]

[[Probe further, to the left|probe standing forward left left]]

[[Probe further, to the right|probe standing forward left right]]

[[Go back a little|probe forward standing]]</tw-passagedata><tw-passagedata pid="237" name="probe standing forward then right" tags="" position="3900,6450" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe forward standing]]</tw-passagedata><tw-passagedata pid="238" name="probe standing forward forward forward" tags="" position="3525,6300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe standing forward then forward]]</tw-passagedata><tw-passagedata pid="239" name="probe standing forward left forward" tags="ROCK" position="3600,6775" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $found_rock to true&gt;&gt;You extend your freed legs and feet in that direction, feeling about the room in the darkness. Your feet touch a small rock. It is about the size of a tennis ball, and quite smooth. You bring it close to your resting place with your feet. You can hold the rock with a few fingers behind your back in an awkward way. You get back to a standing position, find the lock keeping your leash attached to the ring in the wall and...

[[Smash the lock|smash the lock attempt 1]]</tw-passagedata><tw-passagedata pid="240" name="probe standing forward forward right" tags="" position="3525,6425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe standing forward then forward]]</tw-passagedata><tw-passagedata pid="241" name="probe standing forward left left" tags="" position="3875,6025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe standing forward then left]]</tw-passagedata><tw-passagedata pid="242" name="probe standing forward left right" tags="" position="3725,6025" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You probe in that direction with your freed legs and feet. After a time you conclude that there&#39;s nothing there, only solid floor.

[[Go back a little|probe standing forward then left]]</tw-passagedata><tw-passagedata pid="243" name="Try smashing again, with force" tags="" position="4800,7000" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/110_LOCK.png&quot;&gt;
&lt;&lt;set $time to $time + 2&gt;&gt;&lt;&lt;set $lock_life to $lock_life - 4&gt;&gt;You smash again, with force. The rock hits the lock again but your fingers cannot keep the rock in your hands as it slips to the floor again. Damn it... You spend some time again searching for the rock, find it and try again.

&lt;&lt;if $lock_life &lt;= 0&gt;&gt;
[[Try smashing again, with force|lock breaks]]

[[Try smashing again, aiming carefully|lock breaks]]

[[Try smashing again with a firm grip, but cautiosly|lock breaks]]
&lt;&lt;else&gt;&gt;
[[Try smashing again, with force]]

[[Try smashing again, aiming carefully]]

[[Try smashing again with a firm grip, but cautiously|Try smashing again with a firm grip, but cautiosly]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="244" name="Try smashing again, aiming carefully" tags="" position="4600,7075" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/110_LOCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $lock_life to $lock_life - 2&gt;&gt;You smash again, aiming carefully. The rock hits the lock again, but this time your careful aim and grip on the rock keeps it in your hand. You try again...

&lt;&lt;if $lock_life &lt;= 0&gt;&gt;
[[Try smashing again, with force|lock breaks]]

[[Try smashing again, aiming carefully|lock breaks]]

[[Try smashing again with a firm grip, but cautiosly|lock breaks]]
&lt;&lt;else&gt;&gt;
[[Try smashing again, with force]]

[[Try smashing again, aiming carefully]]

[[Try smashing again with a firm grip, but cautiously|Try smashing again with a firm grip, but cautiosly]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="245" name="Try smashing again with a firm grip, but cautiosly" tags="" position="4400,7000" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/110_LOCK.png&quot;&gt;
&lt;&lt;set $lock_life to $lock_life - 1&gt;&gt;You hit the rock against the lock again, with a firm grip so that it doesn&#39;t fall from your hand. You can feel that the impact is weak. You try again...

&lt;&lt;if $lock_life &lt;= 0&gt;&gt;
[[Try smashing again, with force|lock breaks]]

[[Try smashing again, aiming carefully|lock breaks]]

[[Try smashing again with a firm grip, but cautiosly|lock breaks]]
&lt;&lt;else&gt;&gt;
[[Try smashing again, with force]]

[[Try smashing again, aiming carefully]]

[[Try smashing again with a firm grip, but cautiously|Try smashing again with a firm grip, but cautiosly]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="246" name="lock breaks" tags="" position="4600,7300" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/110_LOCK.png&quot;&gt;
&lt;&lt;set $time to $time + 2&gt;&gt;&lt;&lt;set $window_found to false&gt;&gt;&lt;&lt;set $door_found to false&gt;&gt;&lt;&lt;set $window_broken to false&gt;&gt;The lock breaks with a metallic cling. You can&#39;t believe you did it. You try your new freedom. Sure enough, you can now walk away from the wall and explore the room. The leash is hanging loose on your back now, but you&#39;re free.

[[Think of your next step|main decision hub 4]]</tw-passagedata><tw-passagedata pid="247" name="main decision hub 4" tags="MUSIC_CHANGE" position="4600,7425" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
You&#39;re finally free to explore the room. You&#39;re still wearing a collar around your neck and the leash is hanging loosely on your back - but it&#39;s no longer preventing your movement. Your arms and hands are still firmly tied behind your back. You&#39;re still wearing a ball-gag and a blindfold. You&#39;re at the wall that you were previously tied to.

You don&#39;t know how long you&#39;ve been trying to escape, nor have long you were passed out before it. All you know is that you need to escape, somehow, and you hope you still have time to do it.

You recall the sharp brick that you freed your ankles with. Immediately, you try it on the ropes tying your hands. After a long while you realize that the rope tying your hands is made of a completely different material, and the brick is not sharp enough to cut through it, no matter how hard you try. You also try to cut the blindfold and ball-gag with it, but they too are made of surprisingly sturdy material. Nothing you do has an effect. Defeated, you decide to...

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Scream for help|time is up ending]]&lt;&lt;else&gt;&gt;[[Scream for help]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Wait in silence|time is up ending]]&lt;&lt;else&gt;&gt;[[Wait in silence]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Struggle against a specific bind...|time is up ending]]&lt;&lt;else&gt;&gt;[[Struggle against a specific bind...|Struggle against a specific bind part 4]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Use rock against specific target...|time is up ending]]&lt;&lt;else&gt;&gt;[[Use rock against specific target...|use rock against target part 4]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Use leash against specific target...|time is up ending]]&lt;&lt;else&gt;&gt;[[Use leash against specific target...|use leash against target part 4]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Explore the room|time is up ending]]&lt;&lt;else&gt;&gt;[[Explore the room|explore the room part 4]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="248" name="Struggle against a specific bind part 4" tags="" position="5050,7275" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;Struggle against...

[[The ball-gag|The ball-gag part 4]]

[[The blindfold|The blindfold part 4]]

[[The arm-ties|The arm-ties part 4]]</tw-passagedata><tw-passagedata pid="249" name="use rock against target part 4" tags="" position="4375,7575" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You decide to use the rock, on...

[[The ball-gag|rock does nothing part 4]]

[[The blindfold|rock does nothing part 4]]

[[The arm-ties|rock does nothing part 4]]

&lt;&lt;if $window_found is true&gt;&gt;[[The window|break window]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $door_found is true&gt;&gt;[[The door|rock does nothing part 4]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="250" name="use leash against target part 4" tags="" position="4350,7250" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You decide to use the leash, that is hanging from your back, on your...

[[The ball-gag|leash does nothing part 4]]

[[The blindfold|leash does nothing part 4]]

[[The arm-ties|leash does nothing part 4]]

&lt;&lt;if $door_found is true&gt;&gt;[[The door|leash does nothing part 4]]
&lt;&lt;/if&gt;&gt;
&lt;&lt;if $window_found is true&gt;&gt;[[The window|leash does nothing part 4]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="251" name="explore the room part 4" tags="" position="4975,7800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
There&#39;s got to be something useful in this room, so you decide to explore it. You&#39;re at your starting position by the wall, where you used to be tied to the wall.

[[Investigate your current side]]

[[Investigate the left side]]

[[Investigate the right side]]

[[Investigate the opposite side]]

[[Investigate the middle of the room]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="252" name="The ball-gag part 4" tags="" position="5025,7575" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the ball-gag in your mouth. If you can get it out, you can scream for help much louder! You press your tongue against the ball, try to bite the gag and work your jaw raw in an attempt to get the gag out of your drooling mouth. Nothing works...

[[Think on what to do next...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="253" name="The blindfold part 4" tags="" position="5250,7400" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the blindfold keeping the room in darkness. If only you could see a little better... You grind your head against the floor and wall, trying to remove the blindfold. You realize it&#39;s made of sturdy material that is tightly wrapped around your head. Nothing you do even nudges the blindfold...

[[Think on what to do next...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="254" name="The arm-ties part 4" tags="" position="5125,7475" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
You decide to struggle against the ties keeping your arms behind your back and hands uselessly tied together. Surely having your arms and hands free is the best solution, you can remove the rest of your binds once you accomplish that? You struggle and try to free yourself.
Eventually you give up. Your arms are no closer to being free than they were before.

[[Think on what to do next...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="255" name="leash does nothing part 4" tags="" position="4175,7350" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
You fail to realize how you&#39;re doing to use the leash on it. After a few different approaches, you decide to give up. It&#39;s not like you can reach the leash very well anyway...

[[Think on what to do next...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="256" name="rock does nothing part 4" tags="" position="4175,7475" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
You can barely grab the rock as it is and you fail to realize how it&#39;ll be helpful in this situation. You try your best, but nothing you try works.

[[Think on what to do next...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="257" name="break window" tags="" position="4600,8425" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;img class=&quot;center-small&quot; src=&quot;img/108_WINDOW.png&quot;&gt;
&lt;&lt;set $time to $time + 2&gt;&gt;&lt;&lt;if $time &gt; 110&gt;&gt;&lt;&lt;set $time to 110&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;set $hands_cut to false&gt;&gt;
You realize that if there&#39;s a window, you might be able to break it with the rock. You find the rock on the ground, kneeling down to grab it in your hands, then realize hitting the window is going to be ridiculously difficult, seeing as you don&#39;t know exactly where it is. All you know is that it&#39;s on the right wall somewhere above your head. You bend over in a weird throwing position, aiming for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]
&lt;&lt;if $jp_chapter2_easy_mode is false&gt;&gt;
[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="258" name="Investigate your current side" tags="" position="5050,8000" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the starting side of the room.

[[Investigate the starting wall]]

[[Investigate the right side]]

[[Investigate the left side]]

[[Investigate the opposite side]]

[[Investigate the middle of the room]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="259" name="Investigate the left side" tags="" position="5300,8100" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the left side of the room. You take a few steps in that direction and come against a wall very quickly.

[[Investigate left wall]]

[[Investigate the right side]]

[[Investigate the opposite side]]

[[Investigate the middle of the room]]

[[Investigate starting side|Investigate your current side]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="260" name="Investigate the right side" tags="WINDOW" position="4900,8200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the right side of the room. You take a few steps in that direction and come against a wall very quickly.

[[Investigate right wall]]

[[Investigate the left side]]

[[Investigate the opposite side]]

[[Investigate the middle of the room]]

[[Investigate starting side|Investigate your current side]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="261" name="Investigate the opposite side" tags="DOOR" position="5500,7900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the opposite side of the room. You take a few steps in that direction and come against a wall very quickly.

[[Investigate opposite wall]]

[[Investigate the left side]]

[[Investigate the right side]]

[[Investigate the middle of the room]]

[[Investigate starting side|Investigate your current side]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="262" name="Investigate the middle of the room" tags="" position="5400,7700" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the middle of the room. You take a few steps in that direction and feel about. There&#39;s no furnitures here.

[[Investigate the left side]]

[[Investigate the right side]]

[[Investigate the opposite side]]

[[Investigate starting side|Investigate your current side]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="263" name="Investigate opposite wall" tags="DOOR" position="5700,7900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/112_DOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $door_found to true&gt;&gt;You explore the opposite wall. Your feet quickly find a door and you turn around, probing with your bounds hands for a handle. You cannot find one... You try high and low, tracing up and down on the door, but there&#39;s no handle anywhere. What kind of bullshit door is this? You throw your weight against it, time and again, but the thing is extremely solid. After a time you realize that escaping your binds first is a better idea...

[[Investigate the left side]]

[[Investigate the right side]]

[[Investigate the middle of the room]]

[[Investigate starting side|Investigate your current side]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="264" name="Investigate left wall" tags="" position="5425,8250" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You explore the left wall. This is where the sharp brick is located, your probing feet realize. There&#39;s nothing else of interest on this side.

[[Investigate the opposite side]]

[[Investigate the right side]]

[[Investigate the middle of the room]]

[[Investigate starting side|Investigate your current side]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="265" name="Investigate the starting wall" tags="" position="4775,7975" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You explore the starting wall. There&#39;s nothing useful on this side, other than the ring in the wall, that the leash used to be locked to.

[[Investigate the opposite side]]

[[Investigate the left side]]

[[Investigate the right side]]

[[Investigate the middle of the room]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="266" name="Investigate right wall" tags="WINDOW" position="5000,8400" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/108_WINDOW.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $window_found to true&gt;&gt;You explore the right wall. There&#39;s a small breeze here, you can feel it closest to your head. You realize there must be an opening of some sorts there, just above your head. You can&#39;t reach that high up and you feel nothing on the wall, which means there must be a window there.

[[Investigate the left side]]

[[Investigate the opposite side]]

[[Investigate the middle of the room]]

[[Investigate starting side|Investigate your current side]]

[[Stop exploring and do something else...|main decision hub 4]]</tw-passagedata><tw-passagedata pid="267" name="Throw very high, to the right" tags="" position="3925,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="268" name="Throw high, to the right" tags="" position="4050,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against something that could be a brick wall, or the wooden frame of the window? Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="269" name="Throw just above your head, to the right" tags="" position="4175,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/109_SHATTER.png&quot;&gt;
&lt;&lt;set $glass_found to false&gt;&gt;The rock smashes loudly against glass. You can&#39;t believe it, you actually did it! The rock is likely no longer in the room with you, you realize, but you might be able to shout for help better now...

[[Think about what to do next|main decision hub 5]]</tw-passagedata><tw-passagedata pid="270" name="Throw very high, in the middle" tags="" position="4425,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="271" name="Throw high,  in the middle" tags="" position="4550,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="272" name="Throw just above your head, in the middle" tags="" position="4675,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against something that could be a brick wall, or the wooden frame of the window? It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="273" name="Throw very high, to the left" tags="" position="4925,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="274" name="Throw high, to the left" tags="" position="5050,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="275" name="Throw just above your head, to the left" tags="" position="5175,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="276" name="main decision hub 5" tags="MUSIC_CHANGE" position="4600,9000" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
You hope your captors aren&#39;t near to have heard the crash. You also hope they aren&#39;t near to hear you scream for help... With the window broken, you decide to...

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Scream for help|time is up ending]]&lt;&lt;else&gt;&gt;[[Scream for help]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Wait in silence|time is up ending]]&lt;&lt;else&gt;&gt;[[Wait in silence]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Struggle against a specific bind...|time is up ending]]&lt;&lt;else&gt;&gt;[[Struggle against a specific bind...|Struggle against a specific bind part 5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Use leash against specific target...|time is up ending]]&lt;&lt;else&gt;&gt;[[Use leash against specific target...|use leash against target part 5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Explore the room|time is up ending]]&lt;&lt;else&gt;&gt;[[Explore the room|explore the room part 5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $glass_found is true&gt;&gt;[[Try to cut yourself loose with the glass shards]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="277" name="Struggle against a specific bind part 5" tags="" position="4925,8875" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;Struggle against...

[[The ball-gag|The ball-gag part 5]]

[[The blindfold|The blindfold part 5]]

[[The arm-ties|The arm-ties part 5]]</tw-passagedata><tw-passagedata pid="278" name="use leash against target part 5" tags="" position="4450,8900" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You decide to use the leash, that is hanging from your back, on your...

[[The ball-gag|leash does nothing part 5]]

[[The blindfold|leash does nothing part 5]]

[[The arm-ties|leash does nothing part 5]]

&lt;&lt;if $door_found is true&gt;&gt;[[The door|leash does nothing part 5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $window_found is true&gt;&gt;[[The window|leash does nothing part 5]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="279" name="explore the room part 5" tags="" position="4925,9600" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
There&#39;s got to be something useful in this room, so you decide to explore it. You&#39;re at your starting position by the wall, where you used to be tied to the wall.

[[Investigate your current side|Investigate your current side part 5]]

[[Investigate the left side|Investigate the left side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the opposite side|Investigate your opposite side part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="280" name="leash does nothing part 5" tags="" position="4300,9000" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
You fail to realize how you&#39;re doing to use the leash on it. After a few different approaches, you decide to give up. It&#39;s not like you can reach the leash very well anyway...

[[Think on what to do next...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="281" name="The ball-gag part 5" tags="" position="4850,9100" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the ball-gag in your mouth. If you can get it out, you can scream for help much louder! You press your tongue against the ball, try to bite the gag and work your jaw raw in an attempt to get the gag out of your drooling mouth. Nothing works... You even try to grind yourself against the semi-sharp brick on the floor, but the leather of the ball-gag won&#39;t budge.

[[Think on what to do next...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="282" name="The blindfold part 5" tags="" position="5000,9050" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You decide to struggle against the blindfold keeping the room in darkness. If only you could see a little better... You grind your head against the floor and wall, trying to remove the blindfold. You realize it&#39;s made of sturdy material that is tightly wrapped around your head. Nothing you do even nudges the blindfold. You even try to grind yourself against the semi-sharp brick on the floor, but the blind-fold is made of surprisingly sturdy material.

[[Think on what to do next...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="283" name="The arm-ties part 5" tags="" position="5150,9000" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/103_ARMS.png&quot;&gt;
You decide to struggle against the ties keeping your arms behind your back and hands uselessly tied together. Surely having your arms and hands free is the best solution, you can remove the rest of your binds once you accomplish that? You struggle and try to free yourself. You once again try to use the semi-sharp brick to cut the ropes, but it&#39;s clear that the material is just too tough for the edge of a brick... You need something sharper. Eventually you give up. Your arms are no closer to being free than they were before.

[[Think on what to do next...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="284" name="Investigate your current side part 5" tags="" position="4675,9725" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the starting side of the room.

[[Investigate the starting wall|Investigate the starting wall part 5]]

[[Investigate the left side|Investigate the left side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the opposite side|Investigate your opposite side part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="285" name="Investigate the left side part 5" tags="" position="4800,9725" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the left side of the room. You take a few steps in that direction and come against a wall very quickly.

[[Investigate the left wall|Investigate the left wall part 5]]

[[Investigate the starting side|Investigate your current side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the opposite side|Investigate your opposite side part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="286" name="Investigate the right side part 5" tags="WINDOW" position="4925,9725" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the right side of the room. You take a few steps in that direction and come against a wall very quickly.

[[Investigate your starting side|Investigate your current side part 5]]

[[Investigate the left side|Investigate the left side part 5]]

[[Investigate the right wall|Investigate the right wall part 5]]

[[Investigate the opposite side|Investigate your opposite side part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="287" name="Investigate your opposite side part 5" tags="DOOR" position="5050,9725" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the opposite side of the room. You take a few steps in that direction and come against a wall very quickly.

[[Investigate the left side|Investigate the left side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the opposite wall|Investigate your opposite wall part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="288" name="Investigate middle of the room part 5" tags="" position="5175,9725" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/114_FLOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You explore the middle of the room. You take a few steps in that direction and feel about. There&#39;s no furnitures here.

[[Investigate the starting side|Investigate your current side part 5]]

[[Investigate the left side|Investigate the left side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the opposite side|Investigate your opposite side part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="289" name="Investigate the right wall part 5" tags="WINDOW" position="4925,10100" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/108_WINDOW.png&quot;&gt;
&lt;img class=&quot;center-small&quot; src=&quot;img/106_GLASS_SHARD.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $glass_found to true&gt;&gt;You explore the right wall where the window shattered. Your feet hit something sharp. &lt;span class=&quot;jessica&quot;&gt;&quot;Ouch!&quot;&lt;/span&gt; Something cuts into your toes. Glass-shards! You can probably use these to cut yourself loose! You kneel down and try to find the shards...

[[Try to cut yourself loose with the glass shards]]</tw-passagedata><tw-passagedata pid="290" name="Try to cut yourself loose with the glass shards" tags="" position="4100,9800" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/106_GLASS_SHARD.png&quot;&gt;
&lt;&lt;if $hands_cut is false&gt;&gt;&lt;&lt;set $hands_cut to true&gt;&gt;
You have to be careful not to cut yourself on the glass shards, but you manage to do grab it with your tied hands and somehow start cutting the binds behind your back. It takes a while without any progress. Eventually, after cutting yourself multiple times despite being careful, you start feeling your hands coming loose. Finally! You double your effort. Slowly but surely, your hands are freed. Next, your arms...
&lt;&lt;/if&gt;&gt;
You try to reach for your arms. Damn, the angle is completely wrong. You&#39;ll have to wedge the glass shard somewhere so that you can cut your arm-ropes... But on what?

[[Wedge the glass using the sharp brick]]

[[Wedge the glass using your leash]]

[[Explore the room for more options|explore the room part 5]]

&lt;&lt;if $door_found is true&gt;&gt;[[Wedge the glass using the door]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="291" name="Investigate the starting wall part 5" tags="" position="4675,9850" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You explore the starting wall. There&#39;s nothing useful on this side, other than the ring in the wall, that the leash used to be locked to.

[[Investigate the left side|Investigate the left side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the opposite side|Investigate your opposite side part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="292" name="Investigate the left wall part 5" tags="" position="4800,9850" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You explore the left wall. This is where the sharp brick is located, your probing feet realize. There&#39;s nothing else of interest on this side.

[[Investigate the starting side|Investigate your current side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the opposite side|Investigate your opposite side part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]</tw-passagedata><tw-passagedata pid="293" name="Investigate your opposite wall part 5" tags="DOOR" position="5050,9850" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/112_DOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $door_found to true&gt;&gt;You explore the opposite wall. Your feet quickly find a door and you turn around, probing with your bounds hands for a handle. You cannot find one... You try high and low, tracing up and down on the door, but there&#39;s no handle anywhere. What kind of bullshit door is this? You throw your weight against it, time and again, but the thing is extremely solid. After a time you realize that escaping your binds first is a better idea...

[[Investigate the starting side|Investigate your current side part 5]]

[[Investigate the right side|Investigate the right side part 5]]

[[Investigate the starting side|Investigate your current side part 5]]

[[Investigate the middle of the room|Investigate middle of the room part 5]]

[[Stop exploring and do something else...|main decision hub 5]]

&lt;&lt;if $glass_found is true&gt;&gt;[[Wedge the glass shard using the door|Wedge the glass using the door]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="294" name="Wedge the glass using the door" tags="" position="4400,10200" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/106_GLASS_SHARD.png&quot;&gt;
&lt;img class=&quot;center&quot; src=&quot;img/112_DOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 5&gt;&gt;You realize that the door could potentially hold the glass shard on place. You probe about the sides of the door, trying to find a sufficient opening between the wall and door or floor and door. Eventually, your efforts are rewarded. You find a tiny hole between the lower half of the door and the wall, and you slip the glass shard into it. You turn around and bending in a weird position, start cutting the rope keeping your arms tied behind your back.

You finally start feeling the ropes loosening up. With relief, you&#39;ve finally freed your arms and hands completely!

[[Remove the blindfold]]</tw-passagedata><tw-passagedata pid="295" name="Wedge the glass using your leash" tags="" position="4200,10075" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/106_GLASS_SHARD.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;Your mind is coming up with wild ideas. You try a few different approaches, but you can&#39;t figure out a way how to attach the glass shard firmly to the leash in a way that would make it useful.

[[Wedge the glass using the sharp brick]]

[[Explore the room for more options|explore the room part 5]]

&lt;&lt;if $door_found is true&gt;&gt;[[Wedge the glass using the door]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="296" name="Wedge the glass using the sharp brick" tags="" position="3975,10150" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/106_GLASS_SHARD.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;Your mind is coming up with wild ideas. You try a few different approaches, but you can&#39;t figure out a way how to attach the glass shard firmly to the brick on the floor in a way that would make it useful.

[[Wedge the glass using your leash]]

[[Explore the room for more options|explore the room part 5]]

&lt;&lt;if $door_found is true&gt;&gt;[[Wedge the glass using the door]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="297" name="Remove the blindfold" tags="" position="4400,10400" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
You immediately start fumbling with the blindfold, trying to check what mechanism is keeping it so firmly on your face. Your touch finds that it&#39;s made of hard leather for the most part, with a soft inner side that touches your face. At the back of your head, you can feel the locking mechanism: It&#39;s a simple one that can be opened without a key, thank goodness! Your shaking hands remove the blindfold and you get your first clear look at the room...

Well, it&#39;s extremely dark. The room is very small. The wall where you&#39;ve been tied contains a firmly attached ring, which your leash was previous locked to. On the same wall in a sharp brick, quite a bit away. On the opposite wall is a solid wall, with no handle. From your starting wall, looking left, the wall has nothing of interest. On the right wall, however, a tiny smashed window is letting in the tiniest amount of light into this otherwise completely sealed brick room. Not even the door is letting in any amount of light.

[[Remove the ball-gag]]
</tw-passagedata><tw-passagedata pid="298" name="Remove the ball-gag" tags="" position="4400,10525" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/105_GAG.png&quot;&gt;
&lt;&lt;set $door_smash to 0&gt;&gt;&lt;&lt;set $screams to 0&gt;&gt;&lt;&lt;if $time &gt; 114&gt;&gt;&lt;&lt;set $time to 114&gt;&gt;&lt;&lt;/if&gt;&gt;Having analysed that, you next try to remove the ball-gag. It isn&#39;t locked either, thankfully, so you easily open the leather clasps. You immediately start working your jaw, which feels sluggish and unresponsive. Eventually you can close your mouth and open it with a lot of effort.

[[Remove the collar]]</tw-passagedata><tw-passagedata pid="299" name="Remove the collar" tags="" position="4600,10700" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/104_COLLAR.png&quot;&gt;
&lt;&lt;set $tried_escape_through_window to false&gt;&gt;You next try to remove the collar, and once again are happy to find that it had no lock whatsoever.

[[Think about what to do next|main decision hub 6]]</tw-passagedata><tw-passagedata pid="300" name="main decision hub 6" tags="MUSIC_CHANGE" position="4700,10900" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/118_FREE.png&quot;&gt;
Completely naked and wearing no bondage what-so-ever, you look around the small room with a tiny broken window and door with no handle. You decide to...

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Scream for help|time is up ending]]&lt;&lt;else&gt;&gt;&lt;&lt;if $screams &gt;= 4 and $tried_escape_through_window is true&gt;&gt;[[Scream for help|scream for help escape]]&lt;&lt;else&gt;&gt;[[Scream for help|scream for help no escape yet]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Wait in silence|time is up ending]]&lt;&lt;else&gt;&gt;[[Wait in silence]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Use leash against specific target...|time is up ending]]&lt;&lt;else&gt;&gt;[[Use leash against specific target...|use leash against target part 6]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Escape through the window|time is up ending]]&lt;&lt;else&gt;&gt;[[Escape through the window|escape through window part 6]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Escape through the door|time is up ending]]&lt;&lt;else&gt;&gt;[[Escape through the door|escape through door part 6]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="301" name="scream for help escape" tags="ENDING MUSIC_CHANGE" position="4300,11000" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;good_ending&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;You scream at the top of your lungs for help through the broken window, without a gag stopping you. You shout for a long time. You hear disturbed voices shouting back, you continue shouting.

The voices of a man and woman approach you. &lt;span class=&quot;boss&quot;&gt;&quot;We can&#39;t open this door, it&#39;s locked. We&#39;ve called the police. Don&#39;t worry - we&#39;ll get you out of there!&quot;&lt;/span&gt; they tell you. You start crying from relief to hear friendly voices. You slump down on the floor, exhausted, and wait to be rescued.

Eventually the police sirens can be heard in the distance. You&#39;ve managed to escape... Finally, they&#39;ll rescue you... The door is smashed in and the police enter. They hand you a jacket, lead you to a car. As you&#39;re led to the car, you look around. The area is completely empty of houses, street-lights and other people. You&#39;re literally in the middle of no-where. You&#39;re lucky that the passers-by happened by be in the area to hear your screams...


The end.

Ending #3 - You manage to escape with the help of strangers who happened to pass by just at the right time. Who knows what could&#39;ve happened if they hadn&#39;t been close?

You can restart the game from the configuration menu.</tw-passagedata><tw-passagedata pid="302" name="scream for help no escape yet" tags="" position="4475,10850" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $screams to $screams + 1&gt;&gt;You try to scream for help as loud as you can, with the window broken and no gag in your mouth, your voice should be loud and clear... Assuming there&#39;s someone on the outside listening. You scream for help until your lungs burn, then you listen. Nothing happens. You are beginning to panic as you instinctively feel that your time to escape is rapidly running out...

&lt;&lt;return&gt;&gt;
</tw-passagedata><tw-passagedata pid="303" name="use leash against target part 6" tags="" position="4925,11000" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/116_LEASH.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;You decide to use the leash on...

[[The door|leash does nothing part 6]]

[[The window|leash does nothing part 6]]</tw-passagedata><tw-passagedata pid="304" name="escape through window part 6" tags="" position="4925,10825" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/108_WINDOW.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $tried_escape_through_window to true&gt;&gt;You decide to try escaping through the window. You walk up to it and assess the situation. It is... the smallest window you&#39;ve probably ever seen in your life. You&#39;re amazed how you ever managed to hit it with the rock without seeing...

The frame is firmly in place and you realize that, even if you could remove the window frame, there&#39;s no-way you could ever squeeze through this tiny hole. With the framed removed, you judge it to be about 12 inches wide and 12 inches high. On top of it, the window is above your head, and you have nothing to stand on. You are beginning to panic as you instinctively feel that your time to escape is rapidly running out...

&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="305" name="escape through door part 6" tags="" position="4575,11100" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/112_DOOR.png&quot;&gt;
You decide to try escaping through the door, despite it having no handle what-so-ever. Your hand traces the area where the door meets the wall, trying to probe for a weakness. Your eyes scan it thoroughly for any weakness. You fail to find one. Maybe brute force is the answer? You are beginning to panic as you instinctively feel that your time to escape is rapidly running out...

[[Throw yourself at the door]]

[[Try something else|main decision hub 6]]</tw-passagedata><tw-passagedata pid="306" name="leash does nothing part 6" tags="" position="4875,11150" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/116_LEASH.png&quot;&gt;
The leash is no longer attached to you and you can use it freely with your hands. You try to figure out a way how to use it, but after a few attempts, you realize it&#39;s not helping you in any way. You are beginning to panic as you instinctively feel that your time to escape is rapidly running out...

[[Try something else...|main decision hub 6]]</tw-passagedata><tw-passagedata pid="307" name="Throw yourself at the door" tags="" position="4650,11250" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/112_DOOR.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;set $door_smash to $door_smash + 1&gt;&gt;
You smash yourself against the door, trying to budge it. Nothing happens. You try again, grunting with frustration, you throw your full weight at the door. Stunned, you assess the situation. You have not managed to budge it at all. You are beginning to panic as you instinctively feel that your time to escape is rapidly running out...

&lt;&lt;if $time &gt;= 120&gt;&gt;[[Throw yourself at the door|time is up ending]]&lt;&lt;else&gt;&gt;&lt;&lt;if $door_smash &gt;= 3 and $tried_escape_through_window is true&gt;&gt;[[Throw yourself at the door|door escape]]&lt;&lt;else&gt;&gt;[[Throw yourself at the door]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

[[Try something else|main decision hub 6]]</tw-passagedata><tw-passagedata pid="308" name="door escape" tags="ENDING MUSIC_CHANGE" position="4650,11400" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;good_ending&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;You smash yourself against the door, trying to budge it. Nothing happens. You try again, grunting with frustration, you throw your full weight at the door. The door lets out a rusty squeek. It&#39;s working! You throw yourself against it with all you&#39;ve got a few more times. You can feel bruises all over you, but you don&#39;t care. The door is finally giving way.

Finally, the door opens and you stumble out. It&#39;s night-time, and you&#39;re in the middle of no-where. There are no houses, no roads, no people, no street-lights anywhere as far as the eye can see. The tiny brickhouse that has been your prison for quite a while is tiny... Much smaller when looking at it from the outside.

You pick a random direction and start walking, hoping you find a friendly face. You&#39;re crying with relief of having escaped that hell-hole...


The end.

Ending #3 - You manage to escape with pure force of will by smashing the door that wouldn&#39;t budge and walking the wilderness for hours until you reach safety.

You can restart the game from the configuration menu.</tw-passagedata><tw-passagedata pid="309" name="Throw exactly at the height of our head, to the right" tags="" position="4300,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against something that could be a brick wall, or the wooden frame of the window? Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="310" name="Throw exactly at the height of our head, in the middle" tags="" position="4800,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="311" name="Throw exactly at the height of our head, to the left" tags="" position="5300,8625" size="100,100">&lt;img class=&quot;center-small&quot; src=&quot;img/107_ROCK.png&quot;&gt;
&lt;&lt;set $time to $time + 1&gt;&gt;The rock thuds harmlessly against the brick wall. Damn it... It takes you some time to find the rock again, blindfolded as you are. Eventually you find it, and once again, aim for the right wall...

[[Throw very high, to the right]]

[[Throw high, to the right]]

[[Throw just above your head, to the right]]

[[Throw exactly at the height of our head, to the right]]

[[Throw very high, in the middle]]

[[Throw high,  in the middle]]

[[Throw just above your head, in the middle]]

[[Throw exactly at the height of our head, in the middle]]

[[Throw very high, to the left]]

[[Throw high, to the left]]

[[Throw just above your head, to the left]]

[[Throw exactly at the height of our head, to the left]]</tw-passagedata><tw-passagedata pid="312" name="accept your fate part 1" tags="" position="4575,3425" size="100,100">A thought enters your mind. Perhaps it would be easiest to just give up... You realize what it means. Your captors will return and your chance of escaping will be over.

Shuddering, you decide that...

[[Your situation is hopeless and accept your fate...|pre-ending surrender]]

&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="313" name="pre-ending surrender" tags="" position="5075,3525" size="100,100">You slump down on the floor, tired, defeated and hopeless. There&#39;s no way out and you&#39;ve come to accept it...

[[Wait...|surrender ending]]</tw-passagedata><tw-passagedata pid="314" name="surrender ending" tags="MUSIC_CHANGE ENDING" position="5275,3200" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;bad_ending&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/012_AUCTION.png&quot;&gt;
You can hear voices approaching your location. Are those your captors? Finally! They&#39;ve come to fuck you... You hear the voices of two men, talking to each-other. So close now, your pussy needs this... Wait, no, it&#39;s the drug talking again isn&#39;t it? Regardless, at this point, you&#39;ve accepted your fate and a part of you is glad that you no longer need to wait in the room, alone. The door opens and the men approach you. &lt;span class=&quot;man&quot;&gt;&quot;Let&#39;s get her to the sellers.&quot;&lt;/span&gt; the voices says, and two pairs of strong hands grab you.

You whimper softly, not even hearing their words, submitting willingly to your captors as they lead you away. Wow, so rough and strong arms. Yummy! Fucking drugs, making you moan like a horny bitch in a moment like this...

You&#39;re led to a car waiting outside and shoved in the trunk. The car-ride is bumpy, but all you can do is enjoy every lump in the road, every time the car jerks you around. It&#39;s rough, bruising you, but you love it. This is how you want to be treated... No, no it&#39;s not... It&#39;s how the drug wants to be treated, fucking hell, focus Jessica!

The car stops after a while and the men open the trunk, grabbing you. You struggle innocently, provocatively pushing out your naked breasts, trying to seduce your captors. If only they would stop pushing you around, and start shoving their cocks inside of you... But no, they just lead you into an abandoned-looking warehouse in the middle-of-nowhere. In there, a room full of people wearing masks are sitting in rows. Oh, exciting... A crowd! Uhh, the damn drugs are making your head spin again...

The men holding you lead you to a platform where all the people can see you. You&#39;re acutely aware of your nakedness and bondage. And just then you realize that this looks like an auction.

An announcer speaks loudly:

&lt;span class=&quot;boss&quot;&gt;&quot;Fine female specimen for sale!&quot;&lt;/span&gt; he calls. &lt;span class=&quot;boss&quot;&gt;&quot;Complete ownership included and permission to do anything with the slave.&quot;&lt;/span&gt; Complete ownership? To fuck you whenever and however they want? YES, finally! No, not finally? You can&#39;t make heads or tails of what you want anymore... The announced continues:

&lt;&lt;if $trainingIncomplete is true&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female shows signs of resistance and remains unbroken. The pleasure of breaking her will be yours. Punishments are recommended to break her.&quot;&lt;/span&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &lt;= 2&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown almost complete obedience to her master&#39;s and should easily accept her fate as your slave. The need for punishments may even be unnecessary for this eager sex-slave.&quot;&lt;/span&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 3 and $refusals &lt;= 6&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown a little bit of resistance obeying her master&#39;s, but should with a little work accept her fate as your slave. The need for punishments and some more training will be unnecessary to make her a proper sex-slave.&quot;&lt;/span&gt;
&lt;&lt;else&gt;&gt;&lt;&lt;if $refusals &gt;= 7 and $refusals &lt;= 12&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown a quite a bit of resistance obeying her master&#39;s, and will require extra breaking to fit your needs, unless all you seek is a breakable body. She could function as a sex-slave, if you train her quite a bit more, but even then, she may not accept her fate as a slave.&quot;&lt;/span&gt;&lt;&lt;else&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;The female has previously shown resistance obeying her master&#39;s in almost every command. She must be thoroughly broken first before she&#39;s willing to serve. She could function as a sex-slave, if you train her quite a bit more. However, we recommend buying her for the purpose of torture and breaking her instead, as we believe she will never accept her fate as a slave.&quot;&lt;/span&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

You can&#39;t believe what you&#39;re hearing. Voices start shouting prices and your time as a free woman is at an end, as men bid for the pleasure of owning your body...


The end.

Ending #1 - you&#39;re sold as a slave and go through intense slave training for months. With the help of the drug, you actually enjoy everything you go through, service your new master willingly...

You can restart the game from the configuration menu.</tw-passagedata><tw-passagedata pid="315" name="You know where this is going - but you accept it. You really cannot afford to lose your job. You start stroking the cock with your right hand." tags="" position="2250,2425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/014_HANDJOB.png&quot;&gt;
His erect penis reacts to your strokes and you can&#39;t help but feel a little shamed, but simultaneously a little aroused and proud. You know you give a good handjob and the man&#39;s grunts confirm it. You switch to using both your hands.

Eventually, the man breaks the silence. &lt;span class=&quot;man&quot;&gt;&quot;Kiss it.&quot;&lt;/span&gt; he says calmly, matter-of-fact. If you want his help, you&#39;ll need to comply...
&lt;&lt;if $triedLeavingBathroom is true&gt;&gt; You weight your options. Having come to this point, as much as it frightens you, you really do not have much of a choice other than to comply with the man&#39;s requests. No-one is coming here for many days, and you have no means of escaping. But more importantly, you&#39;re really freightened by the thought of him entering your bathroom stall: there&#39;s no telling what he&#39;ll do to you if you outright refuse him. Thus, the only thing that you can do, is to obey the man and hope he lives up to his end of the bargain.&lt;&lt;/if&gt;&gt;

You...

[[Kiss his cock gingerly]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Refuse kissing his cock]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="316" name="Scream for help part 1" tags="" position="4750,3625" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;&lt;&lt;if $part1_struggles_needed is 7&gt;&gt;&lt;&lt;set $part1_struggles_needed to 8&gt;&gt;You reflect on your predicament. Are your captors going to return before you can escape? Are any of your bindings coming loose, even a little? You feel utterly betrayed by the universe and quietly cry into the blindfold and gag. Eventually, you find the resolve to continue. You scream as louad as you can, through your gag, for help, but you hear only silence. You know that, for now, screaming for more help is not going to help you. Instinctively you feel that now is the time to focus your efforts on your bindings... In your mind you try manifesting it into reality...&lt;&lt;else&gt;&gt;&lt;&lt;if $part1_struggles_needed is 8&gt;&gt;You try to scream for help as loud as you can, but choke on the large ball-gag that is lodged in your mouth. Through the gag your screams are muffled. You try to scream as loud as you can, but you are aware of just how little sound you&#39;re able to make with the gag in your mouth. Eventually you give up... You can&#39;t shake the feeling that, for now, screaming for help is not going to help you.&lt;&lt;else&gt;&gt;You try to scream for help as loud as you can, but choke on the large ball-gag that is lodged in your mouth. Through the gag your screams are muffled. You try to scream as loud as you can, but you are aware of just how little sound you&#39;re able to make with the gag in your mouth. Eventually you give up... You can&#39;t shake the feeling that you need to explore your other options first thoroughly, then try again to scream for help... You don&#39;t know how you know it, it&#39;s just a gut feeling...&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="317" name="wait in silence part 1" tags="" position="3875,3700" size="100,100">&lt;&lt;set $time to $time + 2&gt;&gt;&lt;&lt;if $part1_struggles_needed is 6&gt;&gt;&lt;&lt;set $part1_struggles_needed to 7&gt;&gt;You decide to wait in silence. You&#39;ve explored all your bindings and they have not loosened, yet... Something tells you that they can&#39;t be impossible to remove... There just has to be a way out of this... You continue waiting in silence, trying to listen to any and all sounds around you. Nothing. Perhaps if you break the silence by screaming now, you can get some attention?&lt;&lt;else&gt;&gt;&lt;&lt;if $part1_struggles_needed is 7&gt;&gt;You decide to wait in silence. You&#39;ve explored all your bindings and they have not loosened, yet... Something tells you that they can&#39;t be impossible to remove... There just has to be a way out of this... You continue waiting in silence, trying to listen to any and all sounds around you. Nothing. Perhaps if you break the silence by screaming now, you can get some attention?&lt;&lt;else&gt;&gt;You decide to wait in silence. Your heart is beating in your chest as you try to listen for new sounds. Nothing remarkable happens. Minutes pass without anything happening. You can&#39;t shake the feeling that you need to throroughly explore all your options. But, a thoughtful moment every now and then might be just what you need... Eventually, you decide to try something else...&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="318" name="scream for help part 2" tags="" position="4775,4300" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You try to scream for help as loud as you can, but choke on the large ball-gag that is lodged in your mouth. Through the gag your screams are muffled. You try to scream as loud as you can, but you are aware of just how little sound you&#39;re able to make with the gag in your mouth. Eventually you give up... You can&#39;t help but feel that screaming now is pointless.
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="319" name="wait in silence part 2" tags="" position="4450,4425" size="100,100">&lt;&lt;set $time to $time + 1&gt;&gt;You decide to wait in silence. Your heart is beating in your chest as you try to listen for new sounds. Minutes pass without anything happening. You can&#39;t help but feel that waiting now is pointless. Eventually, you decide to...
&lt;&lt;if $jessica_thoughts.length &gt; $thought_index&gt;&gt;Strange thoughts distract you... //$jessica_thoughts[$thought_index]//&lt;&lt;set $thought_index to $thought_index + 1&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;return&gt;&gt;</tw-passagedata><tw-passagedata pid="320" name="Hide images (pure text experience)" tags="" position="400,400" size="100,100">&lt;script&gt;window.JessicasPlight2.toggleImages(&quot;false&quot;);&lt;/script&gt;&lt;&lt;set $jp_show_images to false&gt;&gt;Options saved!

&lt;&lt;if $jp_show_images is true&gt;&gt;Showing images: TRUE&lt;&lt;else&gt;&gt;Showing images: FALSE&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;Chapter 2 difficulty: EASY&lt;&lt;else&gt;&gt;Chapter 2 difficulty: HARD&lt;&lt;/if&gt;&gt;

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="321" name="Show images (text and image experience)" tags="" position="550,400" size="100,100">&lt;script&gt;window.JessicasPlight2.toggleImages(&quot;true&quot;);&lt;/script&gt;&lt;&lt;set $jp_show_images to true&gt;&gt;Options saved!

&lt;&lt;if $jp_show_images is true&gt;&gt;Showing images: TRUE&lt;&lt;else&gt;&gt;Showing images: FALSE&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;Chapter 2 difficulty: EASY&lt;&lt;else&gt;&gt;Chapter 2 difficulty: HARD&lt;&lt;/if&gt;&gt;

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="322" name="stroke dick scene" tags="" position="2275,2125" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/013_ERECT.png&quot;&gt;
You&#39;re sitting on the toilet seat, almost naked. The man has almost all your clothing... Your shoes, shirt, skirt and stockings. You can&#39;t help but wonder how you ended up in this situation? Well, you know how... But you still can&#39;t believe it.

You can hear the man opening his belt, then suddenly his massive member thrusts through the hole between your stalls to your side. &lt;span class=&quot;man&quot;&gt;&quot;Stroke it.&quot;&lt;/span&gt; he orders.

You stare at the erect dick. You&#39;ve seen larger while watching porn, even had a casual hookup or two before who had larger dicks. However, it&#39;s still on the larger side and it&#39;s almost completely straight. Objectively, one could classify it as quite a nice looking cock.
&lt;&lt;if $triedLeavingBathroom is true&gt;&gt;The man has locked you in this stall and there&#39;s no-one coming for days here... If the man wants to enter the stall and assault you, there&#39;s literally nothing you can do about it. You get the feeling that this will be over faster and without trouble if you just comply...&lt;&lt;/if&gt;&gt;

You...

[[You know where this is going - but you accept it. You really cannot afford to lose your job. You start stroking the cock with your right hand.]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Decide you&#39;ve had enough - practically naked, you storm out of the bathroom!|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;You know where this is going - but you accept it. You really cannot afford to lose your job. You start stroking the cock with your right hand.&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;You know where this is going - but you accept it. You really cannot afford to lose your job. You start stroking the cock with your right hand.&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="323" name="Before take off your shoes" tags="" position="1575,1325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/005_MAN_PANTS.png&quot;&gt;
&lt;span class=&quot;man&quot;&gt;&quot;Let&#39;s start with something simple. Take off your shoes.&quot;&lt;/span&gt;

So this is the kind of game the man wants to play... You know the requests won&#39;t end here, and you accept that if you want the man&#39;s help, you&#39;ll likely have to comply to a lot more than this. Still, removing your shoes isn&#39;t such a bad thing...

[[Comply - remove your shoes|Take off your shoes]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Say: &quot;No way, I&#39;m not doing that&quot; and leave the bathroom.|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Hesitantly comply - remove your shoes&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Take off your shoes&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="324" name="wait for next after collar lock" tags="" position="1625,3175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/025_CHAIN.png&quot;&gt;
A rattle awakes you from your day-dreaming. A chain leash is pushed through the hole in the stall, the man is holding the other end on his side. The chain dangles on your side of the hole. You stare at it, terrified and fascinated at the same time.

&lt;span class=&quot;man&quot;&gt;&quot;Get down on your knees in front of the hole and lock the leash on your collar.&quot;&lt;/span&gt; he orders firmly. You didn&#39;t think your heart could race any faster, but it&#39;s a drum in your chest, in your ears deafening. You head is spinning and with shaky breath you manage a weak &lt;span class=&quot;jessica&quot;&gt;&quot;What...?&quot;&lt;/span&gt; He repeats his order. You&#39;re stunned.
&lt;&lt;if $triedLeavingBathroom is true&gt;&gt; You&#39;ve come this far already and as you know, there&#39;s no escaping the situation anyway. You might as well see things through...&lt;&lt;/if&gt;&gt;

You..

[[Refuse - tell him he&#39;s had his fun]]

[[Submissively comply - you get on your knees on front of the hole and grab the leash]]

&lt;&lt;if $triedLeavingBathroom is false&gt;&gt;[[Escape now - you&#39;re practically naked and wearing a collar, but you can&#39;t take it anymore!|Decide you&#39;ve had enough. Storm out of the bathroom.]]&lt;&lt;/if&gt;&gt;
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $jessicaOptionReply to &quot;Submissively comply - you get on your knees on front of the hole and grab the leash&quot;&gt;&gt;
&lt;&lt;set $jessicaOptionLink to &quot;Submissively comply - you get on your knees on front of the hole and grab the leash&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="325" name="Office slut ending scene 1" tags="MUSIC_CHANGE" position="1200,16400" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm2&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;if $ringGagOn is true&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_SHAVED_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_HAIRED_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_SHAVED_NO_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_HAIRED_NO_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;span class=&quot;boss&quot;&gt;&quot;You think she&#39;s suited for the task?&quot;&lt;/span&gt; your boss asks the other man. &lt;span class=&quot;man&quot;&gt;&quot;From what I&#39;ve seen... Yes.&quot;&lt;/span&gt; he replies. Your boss glances at you with amusement. &lt;span class=&quot;boss&quot;&gt;&quot;Bring the paperwork.&quot;&lt;/span&gt; he orders, the other man nods and disappears from your view. Your boss leans close to you, putting a hand on your shoulder. You fight the urge to pull away from his touch.

&lt;span class=&quot;boss&quot;&gt;&quot;I have decided to offer you a very unique position at this company.&quot;&lt;/span&gt; your boss explains. &lt;span class=&quot;boss&quot;&gt;&quot;Your salary will be doubled from what it is now, but, your day-to-day tasks at the office will change. And we&#39;ll forgive all the blunders you&#39;ve done at this company up until this point. Interested?&quot;&lt;/span&gt; Your throat is dry as you slowly nod your head. Of course you are interested... Keeping your job has been the purpose of everything you&#39;ve done today... The other man returns with a piece of paper and a pencil, then puts them in front of you on the bathroom floor. He walks behind you and unlocks your handcuffs. You gratefully massage your wrists as you glance at the paper, then your boss. &lt;span class=&quot;boss&quot;&gt;&quot;Your new contract. Sign it.&quot;&lt;/span&gt;

[[Read the contract|Read the paper]]</tw-passagedata><tw-passagedata pid="326" name="Read the paper" tags="" position="1150,17500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/100_BOSS.png&quot;&gt;
You pick up the piece of paper, your boss looming over you. It looks exactly like your previous contract at the office, official logo, etc. Your boss&#39;s signature is already there, dated... Today. Your eyes grow wide as you start reading the most important parts. There&#39;s a blank line where you need to enter your name in clear text and a blank line at the bottom for your signature.

&lt;span class=&quot;man&quot;&gt;//Employment Contract

This document constitutes an employment agreement between the Co&amp;Co Company Ltd, and employee Jessica Smith, employee number 800869.

By signing, the employee accepts all terms and conditions set in this contract. This document is legally binding. The terms and conditions are:

1. Employment
The Employee agrees that they will without hesitation carry out the duties and responsibilities communicated to them by the Employer. The Employee shall follow the orders precisely, or be subject to punishment as stated in (3).

2. Position
The Employee&#39;s job title is &quot;Office Slut&quot;. It is the duty of the Employee to ensure the men at the office, especially the Employer, are sexually satisfied. As an office slut, the Employee agrees to do anything any man at the office wishes, during and after work-hours.

3. Punishment
Failure to comply with the terms of this contract means the Employee can be subjected to punishment by the Employer or any of the men at the office. Punishment can come in any form excluding severe injury and death, including but not limited to: whipping, spanking, piercing, hitting, bondage, forced tattoos, etc.

4. Work-hours
The Employee is expected work and be physically present at the office during normal business days and hours from 8AM to 4PM, unless specifically requested to do otherwise by the Employer or other men at the office, as per the terms stated in (1), (2) and (3).

5. Duration
The duration of this contract is set to exactly one (1) year after the contract has been signed and can only be terminated by the Employer.

6. Salary
The employee&#39;s monthly salary for the duration of the contract is set to a non-negotiable 6000 dollars per month.//&lt;/span&gt;

You stare at the paper in disbelief. Your hands are shaking as you let the contract fall to the bathroom floor, next to the pencil.

&lt;span class=&quot;boss&quot;&gt;&quot;Well?&quot;&lt;/span&gt; your boss inquires. &lt;&lt;if $shavedHead is true&gt;&gt;After all the man and your boss has done to you, including shaving your fucking head... There&#39;s no fucking way you&#39;re signing that paper! &lt;&lt;/if&gt;&gt;Head spinning and in shock, you...

[[Refuse to sign the contract]]

&lt;&lt;if $shavedHead is false&gt;&gt;[[Sign the contract]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="327" name="Sign the contract" tags="MUSIC_CHANGE" position="2700,17800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/100_BOSS.png&quot;&gt;
&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;good_ending&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;Your shaking hands sign the contract. Your boss smiles at you, giving you a copy of the contract. The other man begins unlocking your remaining bondage gear. Somehow you find the courage to ask...

[[&quot;What happens now?&quot;]]</tw-passagedata><tw-passagedata pid="328" name="Refuse to sign the contract" tags="" position="1600,17375" size="100,100">&lt;&lt;if $ringGagOn is true&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_SHAVED_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_HAIRED_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_SHAVED_NO_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_HAIRED_NO_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;if $ringGagOn is true&gt;&gt;&quot;I ot, sining, &#39;hat...&quot; you manage through your ring-gag, pushing the paper away from you.&lt;&lt;else&gt;&gt;&quot;I&#39;m not signing that.&quot; you say and push the paper away from your.&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;boss&quot;&gt;&quot;If I were you, I would seriously reconsider...&quot;&lt;/span&gt; your boss says, a clear threat in his voice. You remember just how much trouble you are in, not just at the company in general, but right now, still tied as you are here, on your knees on the bathroom floor, two stronger men keeping you essentially captive. If you refuse... There&#39;s no telling what they&#39;ll do. You...

[[Refuse to sign it again|Pre-await your fate]]

&lt;&lt;if $shavedHead is false&gt;&gt;[[Reconsider and sign the contract|Sign the contract]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="329" name="Pre-await your fate" tags="" position="1425,16575" size="100,100">&lt;&lt;if $ringGagOn is true&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_SHAVED_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_HAIRED_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;if $shavedHead is true&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_SHAVED_NO_GAG.png&quot;&gt;&lt;&lt;else&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/101_TAG_HAIRED_NO_GAG.png&quot;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;
You shake your head and move away from the paper in determined disgust. There&#39;s no way in hell you&#39;re signing that thing. &lt;span class=&quot;boss&quot;&gt;&quot;Have it your way...&quot;&lt;/span&gt; your boss says and glances at the other man. He grabs your hands and locks your wrist cuffs behind your back. You struggle and shout, but he&#39;s too strong. Once again completely helpless, you sit on your knees on the bathroom floor...

[[Await your fate]]</tw-passagedata><tw-passagedata pid="330" name="StoryMenu" tags="" position="600,100" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $config_menu_passages to []&gt;&gt;
&lt;&lt;run $config_menu_passages.push(&#39;Config menu&#39;)&gt;&gt;

&lt;&lt;run $config_menu_passages.push(&#39;Show images (text and image experience)&#39;)&gt;&gt;
&lt;&lt;run $config_menu_passages.push(&#39;Hide images (pure text experience)&#39;)&gt;&gt;

&lt;&lt;run $config_menu_passages.push(&#39;Set music volume to 0%&#39;)&gt;&gt;
&lt;&lt;run $config_menu_passages.push(&#39;Set music volume to 20%&#39;)&gt;&gt;
&lt;&lt;run $config_menu_passages.push(&#39;Set music volume to 50%&#39;)&gt;&gt;
&lt;&lt;run $config_menu_passages.push(&#39;Set music volume to 100%&#39;)&gt;&gt;

&lt;&lt;run $config_menu_passages.push(&#39;Set chapter 3 difficult to hard&#39;)&gt;&gt;
&lt;&lt;run $config_menu_passages.push(&#39;Set chapter 3 difficult to easy&#39;)&gt;&gt;

&lt;&lt;/silently&gt;&gt;

&lt;&lt;link &quot;Config menu&quot; &quot;Config menu&quot;&gt;&gt;
    &lt;&lt;if $config_menu_passages.includes(passage())&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;set $back_to_passage_title to passage()&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="331" name="Config menu" tags="" position="600,250" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $current_music_volume_display to ($music_volume * 100)&gt;&gt;
&lt;&lt;/silently&gt;&gt;&lt;h1 style=&quot;font-family: Verdana&quot;&gt;CONFIG MENU&lt;/h1&gt;

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;

Note: Changing things in the config menu does not work until you&#39;ve pressed the &quot;I want to proceed and I am 18 years old or older&quot; button at the start of the game.

&lt;&lt;if $jp_show_images is true&gt;&gt;Showing images: TRUE&lt;&lt;else&gt;&gt;Showing images: FALSE&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;Chapter 2 difficulty: EASY&lt;&lt;else&gt;&gt;Chapter 2 difficulty: HARD&lt;&lt;/if&gt;&gt;
Music volume is set to: $current_music_volume_display %
&lt;&lt;if $settings_day_mode is true&gt;&gt;Background: Day mode&lt;&lt;else&gt;&gt;Background: Night mode&lt;&lt;/if&gt;&gt;

&lt;&lt;if $jp_show_images is true&gt;&gt;[[Hide images (pure text experience)]]&lt;&lt;else&gt;&gt;[[Show images (text and image experience)]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;[[Set chapter 3 difficult to hard]]&lt;&lt;else&gt;&gt;[[Set chapter 3 difficult to easy]]&lt;&lt;/if&gt;&gt;

Music volume control:

[[Set music volume to 0%]]
[[Set music volume to 20% (default)|Set music volume to 20%]]
[[Set music volume to 50%]]
[[Set music volume to 100%]]

Color control:

[[Enable DAY mode (light background) (default)|Enable DAY mode (light background)]]
[[Enable NIGHT mode (dark background)]]

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;
</tw-passagedata><tw-passagedata pid="332" name="Try to sleep and hope he goes away 2" tags="MUSIC_CHANGE" position="3275,3100" size="100,100">&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;You curl up on the bathroom floor, ignoring the man. Minutes go by and you remain on the floor, helplessly waiting for the man to go away. Eventually, you try to sleep. The man ignores you as your just lie there, freezing, defeated. Eventually, you must&#39;ve at least dozed off, because you awake startled by the sound of the door opening to your stall. A masked man enters, a wet cloth in his hand.

&lt;span class=&quot;jessica&quot;&gt;&quot;No!&quot;&lt;/span&gt; you scream and scramble to your feet, but the man is upon you. 

[[Struggle against the cloth]]</tw-passagedata><tw-passagedata pid="333" name="StoryInit" tags="" position="1200,25" size="100,100">&lt;&lt;cacheaudio &quot;main_menu1&quot; &quot;music/Stream Loops 2024-02-21_01.ogg&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;danger1&quot; &quot;music/Stream Loops 2024-02-14_L03.ogg&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;danger2&quot; &quot;music/Stream Loops 2024-03-30_01_L02.ogg&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;calm1&quot; &quot;music/Stream Loops 2024-01-24_02.ogg&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;calm2&quot; &quot;music/Stream Loops 2024-03-30_02.ogg&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;good_ending&quot; &quot;music/Stream Loops 2024-02-28_02.ogg&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;bad_ending&quot; &quot;music/Stream Loops 2024-03-06_01.ogg&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;spicy1&quot; &quot;music/Stream Loops 2024-03-20_01.ogg&quot;&gt;&gt;

&lt;&lt;set $all_music_tracks to []&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;main_menu1&#39;)&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;danger1&#39;)&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;danger2&#39;)&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;calm1&#39;)&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;calm2&#39;)&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;good_ending&#39;)&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;bad_ending&#39;)&gt;&gt;
&lt;&lt;run $all_music_tracks.push(&#39;spicy1&#39;)&gt;&gt;

&lt;&lt;if def $settings_day_mode&gt;&gt;&lt;&lt;else&gt;&gt;
&lt;&lt;set $settings_day_mode to true&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if def $music_volume&gt;&gt;&lt;&lt;else&gt;&gt;
&lt;&lt;set $music_volume to 0.2&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;if def $music_track&gt;&gt;&lt;&lt;else&gt;&gt;
&lt;&lt;set $music_track to &quot;main_menu1&quot;&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;widget &quot;fadeInMusicFunction&quot;&gt;&gt;
  &lt;&lt;set $new_music_track to $args[0]&gt;&gt;
  &lt;&lt;if $music_track eq $new_music_track&gt;&gt;
  &lt;&lt;else&gt;&gt;
  
  &lt;&lt;if def $music_track&gt;&gt;
    &lt;&lt;if $music_track is $new_music_track&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;audio $music_track fadeoverto 1 0&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;else&gt;&gt;
    &lt;&lt;audio &quot;main_menu1&quot; fadeoverto 1 0&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;for _i to 0; _i lt $all_music_tracks.length; _i++&gt;&gt;
    &lt;&lt;if $all_music_tracks[_i] eq $music_track&gt;&gt;
    &lt;&lt;else&gt;&gt;
      &lt;&lt;if $all_music_tracks[_i] eq $new_music_track&gt;&gt;
      &lt;&lt;else&gt;&gt;
        &lt;&lt;audio $all_music_tracks[_i] stop&gt;&gt;
      &lt;&lt;/if&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/for&gt;&gt;
  
  &lt;&lt;set $old_music_track to $music_track&gt;&gt;
  &lt;&lt;set $music_track to $new_music_track&gt;&gt;

  &lt;&lt;timed 1s&gt;&gt;
          &lt;&lt;audio $old_music_track stop&gt;&gt;
  &lt;&lt;/timed&gt;&gt;
 
  &lt;&lt;if ndef $music_volume&gt;&gt;&lt;&lt;set $music_volume to 0.2&gt;&gt;&lt;&lt;/if&gt;&gt;
  &lt;&lt;set $music_volume_ticks_to_max to 20&gt;&gt;
  &lt;&lt;audio $music_track volume 0.0 loop play&gt;&gt;
  &lt;&lt;set $music_volume_tick to 0&gt;&gt;
  &lt;&lt;repeat 100ms&gt;&gt;
    &lt;&lt;set $music_volume_tick to $music_volume_tick + 1&gt;&gt;
    &lt;&lt;if $music_volume_tick &lt;= $music_volume_ticks_to_max&gt;&gt;
	  &lt;&lt;set $percentage to $music_volume_tick / $music_volume_ticks_to_max&gt;&gt;
	  &lt;&lt;set $new_music_volume to $music_volume * $percentage&gt;&gt;
      &lt;&lt;audio $music_track volume $new_music_volume&gt;&gt;
	&lt;&lt;else&gt;&gt;
      &lt;&lt;stop&gt;&gt;
    &lt;&lt;/if&gt;&gt;
  &lt;&lt;/repeat&gt;&gt;
 &lt;&lt;/if&gt;&gt;
&lt;&lt;/widget&gt;&gt;
</tw-passagedata><tw-passagedata pid="334" name="How to change music" tags="" position="1500,25" size="100,100">Change music:

&lt;&lt;silently&gt;&gt;&lt;&lt;fadeInMusicFunction &quot;calm1&quot;&gt;&gt;&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="335" name="Set music volume to 0%" tags="" position="700,400" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $music_volume to 0.0&gt;&gt;
&lt;&lt;if def $music_track&gt;&gt;&lt;&lt;audio $music_track volume $music_volume&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;Options saved!

Music volume set to 0%.

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="336" name="Set music volume to 20%" tags="" position="700,525" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $music_volume to 0.2&gt;&gt;
&lt;&lt;if def $music_track&gt;&gt;&lt;&lt;audio $music_track volume $music_volume&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;Options saved!

Music volume set to 20%.

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="337" name="Set music volume to 50%" tags="" position="700,650" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $music_volume to 0.5&gt;&gt;
&lt;&lt;if def $music_track&gt;&gt;&lt;&lt;audio $music_track volume $music_volume&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;Options saved!

Music volume set to 50%.

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="338" name="Set music volume to 100%" tags="" position="700,775" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $music_volume to 1.0&gt;&gt;
&lt;&lt;if def $music_track&gt;&gt;&lt;&lt;audio $music_track volume $music_volume&gt;&gt;&lt;&lt;/if&gt;&gt;
&lt;&lt;/silently&gt;&gt;Options saved!

Music volume set to 100%.

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="339" name="Start Chapter 1" tags="" position="1750,575" size="200,200">&lt;img class=&quot;center&quot; src=&quot;img/001_OFFICE.png&quot;&gt;&lt;span class=&quot;chapterTitle&quot;&gt;&lt;h1&gt;Chapter 1 - The Man in the Bathroom&lt;/h1&gt;&lt;/span&gt;A week later...

Tonight, it&#39;s a late friday evening, just before the holidays. You&#39;ve stayed up at the office to catch up with the overwhelming amount of work that your boss has assigned to you - you need to finish it all before the holidays end to prove you&#39;re not useless. You&#39;ve already had to cancel spending the holidays with your friends, in order to have a tiny chance of finishing these tasks in time...

To tackle the problem head-on, you&#39;re wearing your expensive office outfit today: A knee-high skirt, with stockings under it and wearing a pair of high-heel shoes. You have a fine office shirt on you and your hair is bundled in a ponytail. You look, quite simply, like a women who means business.

You&#39;ve already spent the entire day at work and are now working overtime. You&#39;ll have to work every day, the entire holiday that has just started, while everyone else is out-of-office, or else you cannot finish the tasks assigned to you by your boss... He&#39;s been clear that if you don&#39;t deliver on this, you&#39;ll get fired immediately when the holidays end...

The situation becomes clearer and clearer as you work in the later hours: There&#39;s no way you can finish this task correctly and on time, on your own. You&#39;re in despair. You really cannot afford to get fired and on the top of it sued by your boss for negligence at this point... You decide to...

[[Drink some water and continue working as best you can]]

[[Go to the bathroom and cry]]</tw-passagedata><tw-passagedata pid="340" name="Go through the powerpoint slides one more time" tags="" position="1950,200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-002.png&quot;&gt;
It&#39;s all there, the introduction to the company you work at, the unique talents the personnel brings to the project, all reasons why your company is perfect for the job. William Fjord should be pleased by the references, charts, and detailed project plan, budget and timeline.

Hopefully you won&#39;t royally fuck this up. A quick glance to the corner of your laptop&#39;s screen shows that you still have 30 minutes until Mr. Fjord will arrive. You look around the room at your co-workers. There&#39;s Daniel, a relatively attractive guy just over 30 years old, sitting at his desk. He can be a bit rude at times, but the two of you get along well enough. Your gaze also finds Steve over by the coffee machine. Steve is married, mostly stays to himself and doesn&#39;t say much, and is rapidly approaching 40 years of age.

Both of them have been in the company for over a decade. Maybe they could offer some advice?

[[Ask Daniel for advice]]

[[Ask Steve for advice]]

[[You can do this on your own!]]</tw-passagedata><tw-passagedata pid="341" name="Set chapter 3 difficult to hard" tags="" position="400,575" size="100,100">&lt;&lt;set $jp_chapter2_easy_mode to false&gt;&gt;Options saved!

&lt;&lt;if $jp_show_images is true&gt;&gt;Showing images: TRUE&lt;&lt;else&gt;&gt;Showing images: FALSE&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;Chapter 3 difficulty: EASY&lt;&lt;else&gt;&gt;Chapter 3 difficulty: HARD&lt;&lt;/if&gt;&gt;

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="342" name="Set chapter 3 difficult to easy" tags="" position="525,575" size="100,100">&lt;&lt;set $jp_chapter2_easy_mode to true&gt;&gt;Options saved!

&lt;&lt;if $jp_show_images is true&gt;&gt;Showing images: TRUE&lt;&lt;else&gt;&gt;Showing images: FALSE&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jp_chapter2_easy_mode is true&gt;&gt;Chapter 3 difficulty: EASY&lt;&lt;else&gt;&gt;Chapter 3 difficulty: HARD&lt;&lt;/if&gt;&gt;

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="343" name="Start the story" tags="" position="1675,150" size="200,200">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-001.png&quot;&gt;
&lt;span class=&quot;chapterTitle&quot;&gt;&lt;h1&gt;Prelude - Mr. Fjord&lt;/h1&gt;&lt;/span&gt;&lt;span class=&quot;boss&quot;&gt;&quot;Go over the powerpoint slides one more time, pace the presentation, remember to pause, not ramble and talk clearly. And make him feel welcome. Go the extra mile for this client.&quot;&lt;/span&gt; Your boss instructs you, a serious tone to his voice. Nervously, you nod at his words. You&#39;ve gone over the slides multiple times, you know the content, the images and the charts by heart. And yet, you&#39;re shaking as you pick up your laptop and nod to your boss as you walk backwards out of his room, closing the door behind you.

It&#39;s going to be fine, Jessica. It&#39;s just another client. Just another presentation. No need to be nervous about it... This you keep telling yourself as you rush through the corridors of the office, back to your desk, clutching your laptop like it&#39;s a fragile heirloom. Just another client, except he&#39;s not. It&#39;s William Fjord, and you&#39;ve never handled a client as important as him before. Not even close. If you nail this, the bonuses alone will see you clear off all your student debts with plenty to spare. Fail and... Well. You might be fired then and there. But you just cannot figure out why your boss is sending you in, alone, to this meeting. Supposedly, it will increase the company&#39;s chances to finalize the deal. And who are you to argue with the management&#39;s decision and expertise on the subject?

No, there&#39;s no backing down. This is too big an opportunity for you, but that is also what makes it scary. Should you treat him as a regular client? Or make him feel extra special? Your boss did tell you to &quot;go the extra mile&quot;, but what exactly does that mean? Right, one thing at a time. Now, the slides.

[[Go through the powerpoint slides one more time]]</tw-passagedata><tw-passagedata pid="344" name="&quot;What happens now?&quot;" tags="" position="8300,200" size="200,200">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_reveal_to_friends to false&gt;&gt;
&lt;&lt;set $ch3_police_visit to false&gt;&gt;
&lt;&lt;set $ch3_daniel_approval to 0&gt;&gt;
&lt;&lt;set $ch3_steve_approval to 0&gt;&gt;
&lt;&lt;set $ch3_fjord_approval to 0&gt;&gt;
&lt;&lt;set $ch3_boss_approval to 0&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/100_BOSS.png&quot;&gt;
&lt;span class=&quot;chapterTitle&quot;&gt;&lt;h1&gt;Chapter 2 - Office Slut&lt;/h1&gt;&lt;/span&gt;Your question is met with amusement from your boss and the man. You&#39;re finally free from all the bondage equipment, and the man that took all your clothes now returns them to you. Your boss and the man stand there, watching you as you get dressed...

&lt;span class=&quot;boss&quot;&gt;&quot;Now, Henry here takes over all your old tasks at work. Just give him the password to your laptop and he can ensure everything you were working on is synchronized to the servers.&quot;&lt;/span&gt; your boss explains as you finish putting on your clothes. Right... Guess your tasks at the company have changed quite a bit now...

&lt;span class=&quot;boss&quot;&gt;&quot;Take a well earned rest this holiday, Jessica, and return to the office after new year&#39;s with excitement for your new role here.&quot;&lt;/span&gt; Your boss continues. &lt;span class=&quot;boss&quot;&gt;&quot;Oh, and you&#39;d best do some shopping before then. Remember to buy everything on the list and do exactly what&#39;s written on it.&quot;&lt;/span&gt; He concludes, handing you a note. Reluctantly, you grab it, then when your boss gestures and waves for you to leave you finally find the courage to get the hell out of the toilet.

&lt;span class=&quot;man&quot;&gt;&quot;Password...?&quot;&lt;/span&gt; Henry says on your way out... Fucking hell, fine... You write it down on the piece of paper he extends. Then, your boss&#39;s note clutched in one hand and your copy of the employment contract in the other, you rush to your desk, finally leaving the toilet behind you. The office corridors are seemingly closing in on you as your head spins. What just happened...? What did you just do...? While on the other hand, a part of you feels a tiny bit of excitement about all this. Such conflicting feelings...

[[Grab your bag and head home]]</tw-passagedata><tw-passagedata pid="345" name="Ask Daniel for advice" tags="" position="2150,50" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_daniel_advice to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center-small&quot; src=&quot;img/prelude/p-003.png&quot;&gt;
You decide to ask Daniel. No doubt he&#39;ll have a sarcastic remark, but a nugget of truth and wisdom to share. You lock your laptop screen and head over to his desk, then lean over the low wall separating his cubicle from the rest of the office space.

&lt;span class=&quot;jessica&quot;&gt;&quot;Hey Daniel. Any advice for how to tackle Mr. Fjord? Land the deal?&quot;&lt;/span&gt; you ask him, glancing a peak at his screen. Wait is that... With quick fingers, Daniel ctrl-alt-delete locks his screen. &lt;span class=&quot;daniel&quot;&gt;&quot;Sorry, you were saying?&quot;&lt;/span&gt; he says, blinking at you. His flustered look says it all... He was watching porn, on a work day, in the office. Man, what an absolutely disgusting fucking idiot... Urgh. Hesitantly, you lean back, giving some space between you and the disgusting pig. &lt;span class=&quot;jessica&quot;&gt;&quot;I said, do you have any advice for how to tackle Mr. Fjord and land this deal?&quot;&lt;/span&gt; You repeat as Daniel leans back comfortably in his chair, pretending he was doing nothing stupid just a second ago.

&lt;span class=&quot;daniel&quot;&gt;&quot;William Fjord? The mega-rich entrepreneur who got more money than sense? Yeah. Just flash your tits at him and he&#39;ll roll over drooling and sign anything.&quot;&lt;/span&gt; Daniel says, laughing. Great, there&#39;s the sarcastic comment you were expecting. When you give him a serious face and won&#39;t move an inch, he finally drops the smile and sighs. &lt;span class=&quot;daniel&quot;&gt;&quot;Right, fine. Look, just make sure he likes you. Feels welcome. Like he&#39;s an old friend. Rich fuckers like him are used to a certain type of treatment, so you&#39;ll probably have to be extra friendly. Grab a coffee and a doughnut from the restraurant downstairs and give him a tour of the company before the presentation. And keep smiling.&quot;&lt;/span&gt; The last comment he says with a raised finger, like that is of utmost importance. &lt;span class=&quot;daniel&quot;&gt;&quot;He needs to be under the illusion that you like him, what he has to say, etc. The presentation part should be easy.&quot;&lt;/span&gt; He concludes. Right. Grabbing a coffee before the meeting could be a way to break the ice, make him comfortable... &lt;&lt;if $pre_steve_advice is true&gt;&gt;But it&#39;s the complete opposite of what Steve adviced...&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;jessica&quot;&gt;&quot;Thanks. I&#39;ll think about it.&quot;&lt;/span&gt; you reply, heading back to your desk. &lt;span class=&quot;daniel&quot;&gt;&quot;No problem. And good luck!&quot;&lt;/span&gt; Daniel calls from his desk, no doubt already watching his porn again. What an absolute wanker that one, but he did offer some solid advice.

[[You&#39;ve got this now.|You can do this on your own!]]

&lt;&lt;if $pre_steve_advice is false&gt;&gt;[[Ask Steve for advice]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="346" name="Ask Steve for advice" tags="" position="2150,375" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_steve_advice to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-004.png&quot;&gt;
Maybe Steve can offer some advice. With determined steps, you head over to the coffee machine, leaving your locked laptop on your desk. Steve is in the process of measuring out coffee to a precise degree, smoothing the surface of every spoonful of ground coffee beans to perfection before adding it to the filter.

&lt;span class=&quot;jessica&quot;&gt;&quot;Hey Steve. Any advice for how to tackle Mr. Fjord? Land the deal?&quot;&lt;/span&gt; You ask as you reach the coffee machine, leaning comfortably with your rump against the counter, facing Steve. He looks up. &lt;span class=&quot;steve&quot;&gt;&quot;Dammit! I lost the count...&quot;&lt;/span&gt; he grunts, helplessly throwing the coffee measuring spoon into the bag of ground coffee. &lt;span class=&quot;jessica&quot;&gt;&quot;Oh for fucks...&quot;&lt;/span&gt; You roll your eyes, grab the bag from him and generously pour ground coffee straight into the filter without hesitation, without measuring a thing. Steve&#39;s eyes grow wide with horror. And then you press the on-button. &lt;span class=&quot;jessica&quot;&gt;&quot;There. It&#39;s not rocket science Steve. Stuff is supposed to keep you awake, that&#39;s it, no need to be so anal about it. Back to my question, about Mr. Fjord? Got any advice?&quot;&lt;/span&gt;

Steve takes a moment to compose himself, looking like a fish out of water with his mouth wide open. Then, after a few deep breaths, he calms down enough to finally answer your question. &lt;span class=&quot;steve&quot;&gt;&quot;Fjord? -The- Fjord, as in William Fjord? How&#39;d you land that deal... Anyway... Look, with men like him, you&#39;ve got to play by the book, alright? No funny business, no sly shenanigans. Just straight to business, show him we&#39;re a serious company who take him seriously. No bullshit, just stick to the presentation.&quot;&lt;/span&gt; he says. Huh. Well, yeah that makes sense... &lt;&lt;if $pre_daniel_advice is true&gt;&gt;But it&#39;s the complete opposite of what Daniel adviced...&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;jessica&quot;&gt;&quot;Thanks. I&#39;ll have to think about this...&quot;&lt;/span&gt; you reply, heading back to your desk. &lt;span class=&quot;steve&quot;&gt;&quot;No problem...&quot;&lt;/span&gt; Steve almost whispers from behind you, his attention already back at the mysterious brew of coffee simmering before him. Will he have the courage to drink it? Who knows. The man needs to find a fresh pair if balls though.

[[You&#39;ve got this now.|You can do this on your own!]]

&lt;&lt;if $pre_daniel_advice is false&gt;&gt;[[Ask Daniel for advice]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="347" name="You can do this on your own!" tags="" position="2300,200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/003_BATHROOM.png&quot;&gt;
The way you see it, you have two options. Be extra friendly&lt;&lt;if $pre_daniel_advice is true&gt;&gt;, like Daniel adviced&lt;&lt;/if&gt;&gt; or be extra professional&lt;&lt;if $pre_steve_advice is true&gt;&gt;, like Steve adviced&lt;&lt;/if&gt;&gt;. Or you could just treat him as a regular client, no special treatment, no going the extra mile. Maybe he&#39;s so used to the &quot;extra mile&quot; that being treated like just another client would be refreshing?

Regardless, you have a few more minutes to prepare until you&#39;re supposed to meet him in the lobby downstairs. While you ponder your options, you head over to the toilets, making sure your make-up looks good. Minutes go by, and Mr. Fjord will arrive at any moment. You&#39;ve made up your mind...

[[Be extra friendly to him.]]

[[Be extra professional instead.]]

[[Just treat him like a regular client.]]</tw-passagedata><tw-passagedata pid="348" name="Be extra professional instead." tags="" position="2475,200" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_fjord_professional to true&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-002.png&quot;&gt;
You head downstairs, determined to show to Mr. Fjord that your company takes his business seriously and that you&#39;re all extremely professional. You&#39;ll treat him formally, show him the presentation, and hope for the best.

[[Find Mr. Fjord in the lobby]]</tw-passagedata><tw-passagedata pid="349" name="Be extra friendly to him." tags="" position="2475,75" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_fjord_coffee to true&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-002.png&quot;&gt;
You head downstairs, determined to make William Fjord like you. A coffee and something sweet at the restaurant should be the perfect way to start informally this visit. Then, from there, you&#39;ll show him the company premises as you would a friend, before finally heading over to the conference room and give him the presentation.

[[Find Mr. Fjord in the lobby]]</tw-passagedata><tw-passagedata pid="350" name="Just treat him like a regular client." tags="" position="2475,325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-002.png&quot;&gt;
You head downstairs, determined to treat Mr. Fjord like any other client. You will smile and act professionally, like with every other client, then you&#39;ll show him the presentation and hope for the best. No need to fake things to make him feel special, he&#39;s just a client like any other.

[[Find Mr. Fjord in the lobby]]</tw-passagedata><tw-passagedata pid="351" name="Find Mr. Fjord in the lobby" tags="" position="2625,200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-007.png&quot;&gt;
On your way down to the lobby, you walk past the conference room that has been booked for you and Mr. Fjord. There, you leave your laptop, then head down with the elevator to the ground floor to meet Mr. Fjord.

The ride is long. Suddenly, you&#39;re feeling nervous again. Calm down Jessica, you&#39;ve got this. You&#39;ve got this... With clenched fists you finally get your shaking nerves under control and with a final deep breath and the ding of the elevator, you&#39;re there in the lobby. Mr. Fjord should&#39;ve announced himself to the reception, and so that&#39;s where you head. The woman greets you with a smile, asking if she can help you. &lt;span class=&quot;jessica&quot;&gt;&quot;I&#39;m here to welcome Mr. Fjord, has he arrived?&quot;&lt;/span&gt; you ask, glancing around the room. &lt;span class=&quot;daniel&quot;&gt;&quot;Yes. You&#39;re looking for the gentleman in the black suit over by the bar.&quot;&lt;/span&gt; She says, helpfully pointing him out for you. Well now. He looks younger than you expected, probably your age. How the hell did he managed to hoard such a wealth to himself, while you&#39;re here stuck with student debt up to your ears? Well, nevermind that. It&#39;s time to welcome him.

&lt;&lt;if $pre_fjord_coffee is true&gt;&gt;[[Head over and greet Mr. Fjord|coffee greeting]]&lt;&lt;else&gt;&gt;&lt;&lt;if $pre_fjord_professional is true&gt;&gt;[[Head over and greet Mr. Fjord|professional greeting]]&lt;&lt;else&gt;&gt;[[Head over and greet Mr. Fjord|normal greeting]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="352" name="coffee greeting" tags="" position="2825,75" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-008.png&quot;&gt;
William Fjord is sitting alone by the bar, wearing a fine tailored suit, matching pants and light brown leather monk shoes. He&#39;s in a casual conversation with the bartender, a glass of something strong in his hand. Whiskey? Brandy? Something like that, judging by the color. So, stronger stuff. Time to change plans, might be a coffee and doughnut isn&#39;t what Mr. Fjord would appreciate the most. You catch the bartender&#39;s eyes, then nod towards Mr. Fjord. The bartender nods back, turning his attention to other customers.

&lt;span class=&quot;jessica&quot;&gt;&quot;Mr. Fjord?&quot;&lt;/span&gt; you ask as you approach, a warm smile on your face. The young entrepreneur turns to face you, glass in hand. &lt;span class=&quot;william&quot;&gt;&quot;Please, call me William. You must be Jessica.&quot;&lt;/span&gt; His smile is captivating, his handsome jawline, those eyes... He looks you up and down, stands up and holds out his hand.

[[Shake his hand]]</tw-passagedata><tw-passagedata pid="353" name="professional greeting" tags="" position="2825,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-008.png&quot;&gt;
William Fjord is sitting alone by the bar, wearing a fine tailored suit, matching pants and light brown leather monk shoes. He&#39;s in a casual conversation with the bartender, a glass of something strong in his hand. Whiskey? Brandy? Something like that, judging by the color. It&#39;s not even lunchtime yet, and he&#39;s already drinking? Oh well, that doesn&#39;t change things. He&#39;s a client. An important client. You catch the bartender&#39;s eyes, then nod towards Mr. Fjord. The bartender nods back, turning his attention to other customers.

&lt;span class=&quot;jessica&quot;&gt;&quot;Mr. Fjord?&quot;&lt;/span&gt; you ask as you approach, body in a rigid composure and a welcoming smile on your face. The young entrepreneur turns to face you, glass in hand. &lt;span class=&quot;william&quot;&gt;&quot;Please, call me William. You must be Jessica.&quot;&lt;/span&gt; His smile is captivating, his handsome jawline, those eyes... He looks you up and down, stands up and holds out his hand.

[[Shake his hand|shake hand professional route]]</tw-passagedata><tw-passagedata pid="354" name="normal greeting" tags="" position="2825,475" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-008.png&quot;&gt;
William Fjord is sitting alone by the bar, wearing a fine tailored suit, matching pants and light brown leather monk shoes. He&#39;s in a casual conversation with the bartender, a glass of something strong in his hand. Whiskey? Brandy? Something like that, judging by the color. It&#39;s not even lunchtime yet, and he&#39;s already drinking? Oh well, that doesn&#39;t change things. He&#39;s a client. An just another client, you remind yourself. You catch the bartender&#39;s eyes, then nod towards Mr. Fjord. The bartender nods back, turning his attention to other customers.

&lt;span class=&quot;jessica&quot;&gt;&quot;Mr. Fjord?&quot;&lt;/span&gt; you ask as you approach, body relaxed and a welcoming smile on your face. The young entrepreneur turns to face you, glass in hand. &lt;span class=&quot;william&quot;&gt;&quot;Please, call me William. You must be Jessica.&quot;&lt;/span&gt; His smile is captivating, his handsome jawline, those eyes... He looks you up and down, stands up and holds out his hand.

[[Shake his hand|shake hand normal route]]</tw-passagedata><tw-passagedata pid="355" name="Shake his hand" tags="" position="2975,75" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-009.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Jessica, yes, that&#39;s right Mr... William. So very nice to finally meet you in person.&quot;&lt;/span&gt; you say with the warmest smile you can muster, shaking his hand, brushing his elbow with your other hand. &lt;span class=&quot;jessica&quot;&gt;&quot;May I take a seat?&quot;&lt;/span&gt; you ask, gesturing towards the empty seat next to his.

&lt;span class=&quot;william&quot;&gt;&quot;Oh, by all means.&quot;&lt;/span&gt; He even draws the stool out for you! Surely that&#39;s a good sign, right? William sits back next to you, then waves the bartender over. &lt;span class=&quot;william&quot;&gt;&quot;A drink for the lady on me, anything she wants.&quot;&lt;/span&gt; He tells the man behind the bar. On him? Surely it would be better if your company took care of all the expenses... William and the bartender are both looking at you now. &lt;span class=&quot;daniel&quot;&gt;&quot;What can I get you?&quot;&lt;/span&gt; the bartender asks.

[[Insist that the company pays for your drink]]

[[No need to be rude - accept the offer.]]</tw-passagedata><tw-passagedata pid="356" name="Insist that the company pays for your drink" tags="" position="3150,50" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-010.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;William... I must insist that my company pays for the drink. I&#39;m sure you understand. We are, after all, here to take care of your needs and not mine.&quot;&lt;/span&gt; You say, lightly touching his hand casually with yours to emphasize the words. William let&#39;s out a thoughtful humming sound, then nods in acceptance. &lt;span class=&quot;william&quot;&gt;&quot;Fine, have it your way. I could get used to having my needs met...&quot;&lt;/span&gt; he says. Was that a hint of a sly smile he just gave you, trying to throw you off balance? You try your best to ignore his comment, but it seems your strategy is working. He&#39;s warming up to you. Maybe too much? Too fast?

No point backing down now. You tell the bartender to give you a glass of whatever William is having, and you pay with the company&#39;s credit card. He pours you a glass of expensive looking whiskey, and the price on the card reader certainly backs that up. 40 dollars for a tiny glass of whiskey!? Fucking hell...

[[Glass in hand, you turn your attention to William.]]</tw-passagedata><tw-passagedata pid="357" name="No need to be rude - accept the offer." tags="" position="3150,175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-010.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Such a gentleman. You certainly know how to take care of a lady, William. I&#39;ll have whatever he&#39;s having.&quot;&lt;/span&gt; You say, lightly touching his hand casually with yours to emphasize your words. The bartender pours you a glass of expensive looking whiskey, and the price on the card reader certainly backs that up. 40 dollars for a tiny glass of whiskey!? Fucking hell... William&#39;s credit card beeps the machine.

&lt;span class=&quot;william&quot;&gt;&quot;I could get used to taking care of you...&quot;&lt;/span&gt; he says. Was that a hint of a sly smile he just gave you, trying to throw you off balance? You try your best to ignore his comment, but it seems your strategy is working. He&#39;s warming up to you. Maybe too much? Too fast? Too late to back down now.

[[Glass in hand, you turn your attention to William.]]</tw-passagedata><tw-passagedata pid="358" name="Glass in hand, you turn your attention to William." tags="" position="3300,100" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-010.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;To new acquaintances!&quot;&lt;/span&gt; you toast, lifting up your glass. William clinks his glass into yours. &lt;span class=&quot;william&quot;&gt;&quot;To your health, and mine!&quot;&lt;/span&gt; he toasts. Knowing just how expensive this whiskey is, you choose to make the first taste count, giving it the attention it deserves. Wow, smokey as a chimney this one. Rich, bold. All the words you&#39;ve heard other people say when describing whiskey. Yeah, they certainly apply here. But is it any good? Well, no. It&#39;s whiskey. But you swallow it without complaining, a forced smile on your face.

&lt;span class=&quot;jessica&quot;&gt;&quot;Packs a punch, this. Any particular reason you chose it?&quot;&lt;/span&gt; you ask, trying to keep the conversion casual. There&#39;s plenty of time for work related discussions later. William simply shrugs. &lt;span class=&quot;william&quot;&gt;&quot;I just asked for his most expensive drink, that&#39;s all.&quot;&lt;/span&gt; For a moment, he holds a serious look, but then he bursts out laughing. Damn this man! You can&#39;t help but laugh with him. Of all the reasons you thought he was sitting here drinking this whiskey... Aah, shit. Well, things are informal now alright.

&lt;span class=&quot;william&quot;&gt;&quot;Anyway... How come someone as attactive as you works in a business as boring as this?&quot;&lt;/span&gt; William then asks, out-of-the-blue. You almost choke on your whiskey at the question. Is this a test? His eyes reveal nothing as he casually takes another sip of his whiskey. Well, you&#39;re mostly in it for the money, not because you have a burning desire to keep working in this paper-pushing industry. But that&#39;s probably not what William wants to hear.

[[Tell him the truth - you&#39;re in it for the money.]]

[[(lie) Tell him you&#39;re proud of what you do here.]]</tw-passagedata><tw-passagedata pid="359" name="(lie) Tell him you&#39;re proud of what you do here." tags="" position="3475,200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-010.png&quot;&gt;
You decide a little white lie in this situation is needed. &lt;span class=&quot;jessica&quot;&gt;&quot;William, I feel like I can be honest with you.&quot;&lt;/span&gt; you begin, taking another encouraging sip of your whiskey. &lt;span class=&quot;jessica&quot;&gt;&quot;I chose this career and company to make a difference. Regardless of the size of the projects, for big or small clients, we make the world a better place.&quot;&lt;/span&gt; Your lie seems to have the desired effect, as William smiles and nods. &lt;span class=&quot;william&quot;&gt;&quot;Right. An idealist? It&#39;s rather refreshing, actually. Me though? Why do you think I&#39;m drinking a ridiculously expensive whiskey? Because I can. Because that&#39;s the best, and only part, of what I do that actually gives me joy. Making money. And spending money.&quot;&lt;/span&gt; He finishes his glass in one go, then waves the bartender over, ordering another one for the both of you. When you&#39;re about to say something he simply waves your concerns away, paying for the whole thing.

Well, fuck, a drunk Mr. Fjord might not be the best idea after all. Shit. Time to change strategies... Or double down?

[[Drink your first drink in one go and accept the second drink]]

[[Insist on taking a tour of the company]]</tw-passagedata><tw-passagedata pid="360" name="Tell him the truth - you&#39;re in it for the money." tags="" position="3475,50" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-010.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;William, I feel like I can be honest with you.&quot;&lt;/span&gt; you begin, taking another encouraging sip of your whiskey. &lt;span class=&quot;jessica&quot;&gt;&quot;I chose this career and company for the money. Not out of a burning passion for what we do here.&quot;&lt;/span&gt; Your revelation seems to have the desired effect, as William smiles and nods. &lt;span class=&quot;william&quot;&gt;&quot;Your honest opinion is appreciated. It&#39;s rather refreshing, actually. Why do you think I&#39;m drinking a ridiculously expensive whiskey? Because I can. Because that&#39;s the best, and only part, of what I do that actually gives me joy. Making money. And spending money.&quot;&lt;/span&gt; He finishes his glass in one go, then waves the bartender over, ordering another one for the both of you. When you&#39;re about to say something he simply waves your concerns away, paying for the whole thing.

Well, fuck, a drunk Mr. Fjord might not be the best idea after all. Shit. Time to change strategies...? Or double down?

[[Drink your first drink in one go and accept the second drink]]

[[Insist on taking a tour of the company]]</tw-passagedata><tw-passagedata pid="361" name="Drink your first drink in one go and accept the second drink" tags="" position="3650,50" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-010.png&quot;&gt;
Something about this man is captivating, and you decide to double down on the casual approach you&#39;ve taken. You down your first glass of whiskey on one go, just like he did. It does not go as smoothly as you&#39;d hoped, and you cough a moment while you recover. William pats you lightly on the back, a smile on his face. &lt;span class=&quot;william&quot;&gt;&quot;I like your style, Jessica. Here I thought your company was just full of suits with sticks up their asses. But I see I was wrong.&quot;&lt;/span&gt; Well, right now you&#39;re glad your strategy is working!

The two of you discuss casually various other topics, where he&#39;s staying the night, how long he&#39;s visiting, those kinds of things. Turns out he&#39;ll be in town over the holidays and new year&#39;s too, a three weeks long trip. You also find out that he&#39;s single. All in all, the two of you have a great time chatting by the bar.

Two hours later, and luckily no more than two whiskeys, you decide it&#39;s time to give him a proper tour of the company. Hopefully a bit of walking and coffee will fight the effects of the alcohol and clear your mind before the presentation.

[[Give him a tour of the company]]</tw-passagedata><tw-passagedata pid="362" name="Insist on taking a tour of the company" tags="" position="3650,200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-010.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;This has been perfectly lovely, but my boss would not want me to waste your time, William. Would you like a tour of the company, before the presentation?&quot;&lt;/span&gt; You ask, standing up from the bar stool. Whiskey forgotten, William stands up as well. &lt;span class=&quot;william&quot;&gt;&quot;Certainly. Lead the way.&quot;&lt;/span&gt; he says, demeanour suddenly changed from casual to business. And can you blame him? Your demeanour has also changed to a bit more formal and professional. What where you thinking anyway, sitting here before lunch time, drinking with the client?

[[Give him a tour of the company]]</tw-passagedata><tw-passagedata pid="363" name="Give him a tour of the company" tags="" position="3800,300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-015.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Right. This way please.&quot;&lt;/span&gt; you announce, leading him to the elevator. &lt;span class=&quot;jessica&quot;&gt;&quot;We&#39;ll start on the 14th floor, where most of our day-to-day happens.&quot;&lt;/span&gt; you explain as you reach the elevator. A press of a button and a ding later, the elevator door opens and you let Mr. Fjord enter first. Before you join him, you see the receptionist mouthing the words: &quot;He&#39;s hot!&quot; from her desk. Fucking hell woman, stay professional! But yes, you suppose he is, you muse to yourself as you enter the elevator with Mr. Fjord.

[[Ride the elevator to the 14th floor]]</tw-passagedata><tw-passagedata pid="364" name="shake hand professional route" tags="" position="2975,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-009.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Jessica, yes, that&#39;s right Mr. Fjord. It is an honor to finally meet you in person.&quot;&lt;/span&gt; you say with a courteous smile on your lips and shake his hand, bowing your head as you curtsy before the rich man. 

Mr. Fjord gestures with his hand. &lt;span class=&quot;william&quot;&gt;&quot;Care to join me for a drink?&quot;&lt;/span&gt; he asks. &lt;span class=&quot;jessica&quot;&gt;&quot;I would if I could Mr. Fjord, but my boss would have my hide for getting too familiar with a client as important as you.&quot;&lt;/span&gt; You reply, bowing your head once again in apology for not being able to join him. &lt;span class=&quot;william&quot;&gt;&quot;Ah well, I was about done here anywhere.&quot;&lt;/span&gt; William, Mr. Fjord, comments as he finishes his drink in one go.

&lt;span class=&quot;jessica&quot;&gt;&quot;Excellent, Mr. Fjord. Would you like a tour of our company?&quot;&lt;/span&gt; you ask as he stands up. &lt;span class=&quot;william&quot;&gt;&quot;That won&#39;t be necessary. Let&#39;s just skip right to business, shall we?&quot;&lt;/span&gt; he says, waving in the general direction of the elevators where you came from. Right, certainly. This is good. &lt;&lt;if $pre_steve_advice is true&gt;&gt;Just like Steve said: Keep things professional and focus on the business. No bullshit.&lt;&lt;/if&gt;&gt;

&lt;span class=&quot;jessica&quot;&gt;&quot;Certainly Mr. Fjord. I have booked a conference room for us at the 15th floor, with a fantastic view of the city. Right this way.&quot;&lt;/span&gt; you say, leading the young and rich entrepreneur to the elevator. A press of a button and a ding later, the elevator door opens and you let Mr. Fjord enter first. Before you join him, you see the receptionist mouthing the words: &quot;He&#39;s hot!&quot; from her desk. Fucking hell woman, stay professional! But yes, you suppose he is, you muse to yourself as you enter the elevator with Mr. Fjord.

[[Ride the elevator to the 15th floor]]</tw-passagedata><tw-passagedata pid="365" name="shake hand normal route" tags="" position="2975,475" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-009.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Jessica, yes, that&#39;s right Mr... William. It is a pleasure to finally meet you in person.&quot;&lt;/span&gt; you say with a courteous smile on your lips and shake his hand.

Mr. Fjord gestures with his hand. &lt;span class=&quot;william&quot;&gt;&quot;The pleasure is all mine. Care to join me for a drink?&quot;&lt;/span&gt; he asks. &lt;span class=&quot;jessica&quot;&gt;&quot;I would if I could William, but my boss would have my hide for getting too familiar with our clients. You know how it is.&quot;&lt;/span&gt; You reply, an apologetic smile on your lips as you shrug, powerless to the rules of the company as you are.

&lt;span class=&quot;william&quot;&gt;&quot;Ah, I believe I understand. Well, I hope you don&#39;t mind me finishing this drink?&quot;&lt;/span&gt; William, Mr. Fjord, comments, gesturing towards the empty stool next to him. &lt;span class=&quot;jessica&quot;&gt;&quot;Not at all.&quot;&lt;/span&gt; you reply, sitting next to him.

Something about this man is captivating. The two of you discuss various unimportant topics, and you begin to relax. William Fjord seems kind of nice, actually. &lt;span class=&quot;william&quot;&gt;&quot;I like your style, Jessica. Here I thought your company was just full of suits with sticks up their asses. But I see I was wrong.&quot;&lt;/span&gt; He comments as he finished his drink. Well, you&#39;re glad your strategy is working! &lt;span class=&quot;jessica&quot;&gt;&quot;Well thank you, William. You&#39;re not half bad yourself!&quot;&lt;/span&gt; you reply, winking at him, a sly smile on your face. &lt;span class=&quot;jessica&quot;&gt;&quot;Say, would you like a tour of our company before the presentation?&quot;&lt;/span&gt; you ask as he stands up.

&lt;span class=&quot;william&quot;&gt;&quot;Certainly. Lead the way.&quot;&lt;/span&gt; he says, a smile on his lips.

[[Give him a tour of the company]]</tw-passagedata><tw-passagedata pid="366" name="Ride the elevator to the 15th floor" tags="" position="3925,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-016.png&quot;&gt;
You can smell the alcohol on his breath the whole way up, standing behind you as he is, but you ignore it. A bit of coffee should clear his head, you hope. About half-way up, you hear a soft sound, a deep inhale but barely audible. Did he just... You give a discreet glance behind, and notice Mr. Fjord casually taking the tiniest step back, a nonchalant look on his face. Yeah, he just smelled your hair, no doubt about it.

You don&#39;t want to do a thing to jeopardize this deal though, so you keep your mouth shut and thoughts to yourself. The rest of the elevator ride feels like an eternity, until you finally reach your destination. &lt;span class=&quot;jessica&quot;&gt;&quot;Our conference room is right this way Mr. Fjord, please follow me.&quot;&lt;/span&gt; you explain as you lead the way through the corridors of the office.

[[Head for the conference room]]</tw-passagedata><tw-passagedata pid="367" name="Ride the elevator to the 14th floor" tags="" position="3925,300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-016.png&quot;&gt;
You can smell the alcohol on his breath the whole way up, standing behind you as he is, but you ignore it. A bit of coffee and a walk will clear his head, no doubt. About half-way up, you hear a soft sound, a deep inhale but barely audible. Did he just... You give a discreet glance behind, and notice Mr. Fjord casually taking the tiniest step back, a nonchalant look on his face. Yeah, he just smelled your hair, no doubt about it.

You don&#39;t want to do a thing to jeopardize this deal though, so you keep your mouth shut and thoughts to yourself. The rest of the elevator ride feels like an eternity, until you finally reach your destination.

[[Show him around floor 14]]</tw-passagedata><tw-passagedata pid="368" name="Show him around floor 14" tags="" position="4075,300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-017.png&quot;&gt;
You show William Fjord around the research and development section of the company, stopping by to chat with some co-workers for extra details. William seems mildly entertained, and you soon sense it&#39;s time to get back on track and show him the presentation and discuss the details of his project needs.

&lt;span class=&quot;jessica&quot;&gt;&quot;I&#39;m afraid this is as exciting as this tour will get. The rest of the office is just a bunch of cubicles and people sitting in front of laptops.&quot;&lt;/span&gt; You announce as your tour of floor 14 comes to an end. William scratches his chin thoughtfully. &lt;span class=&quot;william&quot;&gt;&quot;Well, I&#39;m impressed. And I must give high praise to my excellent guide. You make things very... Interesting.&quot;&lt;/span&gt; he muses. A compliment, or something more? Right, no need to over-analyze everything he says.

&lt;span class=&quot;jessica&quot;&gt;&quot;Thank you, William. Let&#39;s head for our conference room now, shall we? This way please.&quot;&lt;/span&gt; you announce, heading to the stairs connecting floor 14 and 15. As you begin climbing up the stairs, you think you hear a tiny whistle from Mr. Fjord. Was that him admiring the view out of the windows, or the view of your ass? Regardless, you refrain from commenting. So far, you&#39;ve got things under control. Just got to make it through the presentation...

[[Head for the conference room]]</tw-passagedata><tw-passagedata pid="369" name="Head for the conference room" tags="" position="4200,425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-018.png&quot;&gt;
Coffee, then presentation. That&#39;s the plan. &lt;span class=&quot;jessica&quot;&gt;&quot;Here you go, make yourself comfortable. I&#39;ll bring us a pot of coffee and then we&#39;ll jump right into the presentation. Milk or sugar?&quot;&lt;/span&gt; You ask as you open the door to the conference room booked for the two of you. The view of the city in this room truly is spectacular, you find yourself realizing all over again. &lt;span class=&quot;william&quot;&gt;&quot;Black, assuming it&#39;s a good blend. With milk if it&#39;s shite.&quot;&lt;/span&gt; William declares as he heads into the room, taking a comfortable seat in one of the luxurious leather chairs in the room. With a nod and a smile, you leave him alone for a moment as you hurry to the kitchen.

&lt;&lt;if $pre_steve_advice is true&gt;&gt;Steve is sitting in the coffee room, a wild stare in his eyes. When he sees you, he points an accusing finger. &lt;span class=&quot;steve&quot;&gt;&quot;The coffee you brewed... Man, Jessica! Way too strong...&quot;&lt;/span&gt; he whimpers, eyes wide. Seriously? Urgh... &lt;span class=&quot;jessica&quot;&gt;&quot;Would love to chat, but I&#39;m busy. Got to brew a pot for Fjord. How much did you drink anyway?&quot;&lt;/span&gt; you ask as you prepare a properly proportioned batch of coffee. &lt;span class=&quot;steve&quot;&gt;&quot;I dunno, a big mug?&quot;&lt;/span&gt; he says, visibly shaking. Did he drink the whole pot? Anyway... You really don&#39;t have time to deal with this right now. &lt;span class=&quot;jessica&quot;&gt;&quot;Sorry Steve, but that&#39;s on you for drinking too much. Alright?&quot;&lt;/span&gt; With a frown, he leaves you alone in the kitchen. &lt;&lt;/if&gt;&gt;It doesn&#39;t take you long to brew the pot, and you grab a plate of biscuits too for good measure.

[[Head back to the conference room.]]</tw-passagedata><tw-passagedata pid="370" name="Head back to the conference room." tags="" position="4350,425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-019.png&quot;&gt;
You arrive to find William Fjord standing by the window, enjoying the view of the city. You&#39;re armed with a pot of coffee, two mugs and plate of biscuits. These you place on the table and pour both of you some coffee.

&lt;span class=&quot;jessica&quot;&gt;&quot;Never tire of this view. Here, coffee and biscuit.&quot;&lt;/span&gt; you comment, then head over to your laptop, where you begin by connecting the hdmi cable to the projector screen. &lt;span class=&quot;william&quot;&gt;&quot;Well, it&#39;s alright. Nothing like the view from my New York flat, mind you, but it&#39;s alright.&quot;&lt;/span&gt; William says matter-of-fact, then joins you at the table, popping a biscuit into his mouth and washing it down with coffee. Shit, the milk... He said he&#39;d want some if the coffee was shitty quality. As you prepare your slideshow you glance at him, but he doesn&#39;t seem to be complaining. That&#39;s a relief...

&lt;span class=&quot;jessica&quot;&gt;&quot;Alright.&quot;&lt;/span&gt; you clear your throat and stand up, slides ready on the big screen. &lt;span class=&quot;jessica&quot;&gt;&quot;On behalf of everyone here at our company, I&#39;d like to formally welcome you once again to our city and company premises Mr. Fjord. Now, a bit of history of our company...&quot;&lt;/span&gt;

[[Give Mr. Fjord your presentation]]</tw-passagedata><tw-passagedata pid="371" name="Give Mr. Fjord your presentation" tags="MUSIC_CHANGE" position="4500,425" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-019.png&quot;&gt;
You&#39;ve gone through the first few slides of your powerpoint presentation, detailing the decades long history of the company, number of employees, yearly profitability and those sorts of things. You&#39;ve just moved on to a list of reference projects your company has done for other customers, all related in one way or another to Mr. Fjords request. Then he interrupts you with a question: &lt;span class=&quot;william&quot;&gt;&quot;The walls in your office. How thick are they?&quot;&lt;/span&gt;

His question throws you off-balance. He wants to know what? The thickness of the walls? &lt;span class=&quot;jessica&quot;&gt;&quot;I uhh... I actually don&#39;t know...&quot;&lt;/span&gt; You admit, moving on to your slides. But Mr. Fjord is persistent: &lt;span class=&quot;william&quot;&gt;&quot;Come on, of course you know. Let&#39;s say there&#39;s another conference in the next room over, and someone starts laughing out loudly at the top of their lugns. Would we hear it in here?&quot;&lt;/span&gt; he asks. That&#39;s a very oddly specific question... &lt;span class=&quot;jessica&quot;&gt;&quot;I... We&#39;ve never had a problem with noise from other meetings, that I can assure you.&quot;&lt;/span&gt; You reply, baffled by his question. He seems satisfied, nodding for you to continue.

[[Get back to your presentation]]</tw-passagedata><tw-passagedata pid="372" name="Get back to your presentation" tags="" position="4650,425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-019.png&quot;&gt;
You go through the first example project. William seems distracted by something, but you try your best to keep things short yet informative. Then he interrupts you with another question: &lt;span class=&quot;william&quot;&gt;&quot;And how about security? Are we being monitored as we speak? Cameras? Microphones? That sort of thing.&quot;&lt;/span&gt;

You blink, confused. &lt;span class=&quot;jessica&quot;&gt;&quot;No, no cameras in here. In the corridor outside, yes, but we would never put cameras in our meeting rooms. We value our clients&#39; privacy.&quot;&lt;/span&gt; You reveal, turning your attention once again to your slides. William smiles, and visibly relaxes in his chair. He takes another bite from a cookie, sipping at his coffee while pinning you with his eyes. You have his full attention at least, so that&#39;s good...

[[Continue your presentation with more example projects]]</tw-passagedata><tw-passagedata pid="373" name="Continue your presentation with more example projects" tags="" position="4800,425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-022.png&quot;&gt;
The next project presentation goes smoothly, without interruptions from Mr. Fjord. But when it ends, he grabs his biscuit and coffee mug and stands up. Shit! Did you bore him? Is he going to walk out... But no, he simply moves closer, choosing a chair right in front of you. &lt;span class=&quot;william&quot;&gt;&quot;You don&#39;t mind me getting a bit closer to the slides? Can&#39;t see them so well from the back.&quot;&lt;/span&gt; he asks as he sits down, clearly not waiting for an answer. Well at least he&#39;s still here, listening, so you count that as a win... &lt;span class=&quot;jessica&quot;&gt;&quot;No, no objections. Glad the presentation is interesting.&quot;&lt;/span&gt; you manage to stutter, not quite comfortable with him so close while you&#39;re trying to stay in your presentation zone.

You&#39;re about to shuffle over to the other side, giving some space between you, but William reaches out and puts a calming hand on your arm. &lt;span class=&quot;william&quot;&gt;&quot;It&#39;s alright, I don&#39;t mind you standing there.&quot;&lt;/span&gt; he says. Oh yeah? Well you kind of mind him sitting there... Fucking hell, what is this guy&#39;s deal? You&#39;re starting to get a bad feeling about this, but when a client as important as Mr. Fjord says something, you&#39;d better listen. And right now he&#39;s saying: Don&#39;t move. So what do you do?

[[Stay where you are and continue your presentation]]

[[Move a few seats away from Mr. Fjord and continue your presentation]]</tw-passagedata><tw-passagedata pid="374" name="Stay where you are and continue your presentation" tags="" position="4925,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-022.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Well if it doesn&#39;t bother you...&quot;&lt;/span&gt; You say, standing your ground. William is literally within arm&#39;s reach from you, but if that&#39;s where he wants to sit during the presentation, then that&#39;s where he&#39;s allowed to sit. Your attention once again goes to the presentation, finishing up the reference projects.

As you move on to his project details and your company&#39;s proposed approach, William makes himself comfortable, throwing out his legs and stretching. You manage to ignore it as you continue talking, but then his shoes unmistakably brush against your ankle. Maybe by accident. At first. But when it brushes against your ankle again, you can feel it, he&#39;s gently running his shoe up and down your ankle. But his eyes are firmly on the presentation. What was it your boss said? &quot;Go the extra mile for this client&quot;, right. Well, standing here and letting him into your personal space like this certainly is many extra miles.

[[Ignore him - continue your presentation]]

[[Get some space and continue your presentation|Move a few seats away from Mr. Fjord and continue your presentation]]</tw-passagedata><tw-passagedata pid="375" name="Move a few seats away from Mr. Fjord and continue your presentation" tags="" position="4925,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I&#39;m sorry, but I need to be in my zone while presenting. Excuse me...&lt;/span&gt; you mumble as you shuffle to the side, taking your laptop with you. There&#39;s a deep furrow in Mr. Fjord&#39;s forehead and a disappointed look, but he doesn&#39;t say a word. Instead, he crosses his arms and sighs deeply, turning his attention to the slides.

You continue your presentation, but you can sense there&#39;s something off. William is dead quiet the whole time, staring blankly at the slides you&#39;re showing him. After a solid 30 minutes later, you&#39;re done. &lt;span class=&quot;jessica&quot;&gt;&quot;So, that is in essense the project plan, budget and timeline. Any questions about the milestones, definitions of done, legislative requirements or something else?&quot;&lt;/span&gt; You ask. William Fjord stands up.

&lt;span class=&quot;william&quot;&gt;&quot;No. No questions. It all looks... Yeah. I&#39;ll have my agent call yours. I believe I know the way out. Have a great day now.&quot;&lt;/span&gt; he says, abruptly standing up and leaves the room. Stunned, you stand there, eyes wide, cold sweat running down your spine. The door to the conference room slams shut, and you feel like you just fucked up somehow. Did he like what he saw? Did you land the deal? What could you have done differently? Was he ever interested in this project? What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="376" name="Your boss enters the room" tags="MUSIC_CHANGE" position="5100,750" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-038.png&quot;&gt;
He&#39;s alone, and you try your best to hide the distress you&#39;re feeling from showing. &lt;&lt;if $pre_sex_william is true&gt;&gt; &lt;span class=&quot;boss&quot;&gt;&quot;Well he certainly looked happy. I assume you landed the deal?&quot;&lt;/span&gt;&lt;&lt;else&gt;&gt;&lt;span class=&quot;boss&quot;&gt;&quot;Well he certainly didn&#39;t look happy. What happened?&quot;&lt;/span&gt;&lt;&lt;/if&gt;&gt; your boss says, closing the door behind him.

Yeah, that&#39;s the question, isn&#39;t it? Right now you struggle to find the words. And instead you shrug. &lt;span class=&quot;jessica&quot;&gt;&quot;I don&#39;t know... I...&quot;&lt;/span&gt; This is all too much and you have to sit down. Head buried in your palms. You won&#39;t cry. Not here. Not now. Not in front of your boss. With a sharp breath, you compose yourself and slam your laptop shut.

&lt;span class=&quot;jessica&quot;&gt;&quot;He&#39;ll probably contact us with the details. Said he... Said he had to think things through...&quot;&lt;/span&gt; You manage to tell your boss. &lt;span class=&quot;jessica&quot;&gt;&quot;Excuse me...&quot;&lt;/span&gt; you say, picking up your laptop and standing up. On your way past your boss, he stops you by taking a hold of your arm. The strength in that grip... Suddenly you&#39;re freightened, remembering just how important a client William Fjord was. Your boss warns you with a deadly serious tone: &lt;span class=&quot;boss&quot;&gt;&quot;You don&#39;t know and... Probably? Listen well... If you did something to fuck this up, I swear, your ass is going to be in a heap of trouble young lady.&quot;&lt;/span&gt; With those words, he finally lets go and you hurry out of the conference room, knowing that you can&#39;t be near him or anyone else a second longer because the tears are already falling down your cheeks.

[[Run to the bathroom and cry]]</tw-passagedata><tw-passagedata pid="377" name="Ignore him - continue your presentation" tags="" position="5050,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-025.png&quot;&gt;
If he wants to brush his shoe against your ankle, he&#39;s free to do so. You really just need to land this deal, and pissing him off doesn&#39;t seem like the right approach. And so you do your best to ignore him as you move on to the proposed budget of the project. &lt;span class=&quot;william&quot;&gt;&quot;Let&#39;s say there&#39;s something missing on the proposal.&quot;&lt;/span&gt; William suddenly says, interrupting you again. &lt;span class=&quot;jessica&quot;&gt;&quot;Missing? Well, the details are easy to change. Just let us know what you want and we&#39;ll take it into account...&quot;&lt;/span&gt; You answer. This isn&#39;t knew, many clients often want to adjust the details. Nothing wrong with that.

&lt;span class=&quot;william&quot;&gt;&quot;Let&#39;s see here...&quot;&lt;/span&gt; William says, standing up and comes to stand next to you. Side-by-side, you&#39;re now both standing in front of your laptop. You don&#39;t know what to do. Client&#39;s aren&#39;t supposed to do this, whatever this is... His eyes and attention are on your laptop as he leans in close, his hip gently pushing against yours, his hands softly brushing up against yours as he reaches for the keyword.

[[This is unacceptable! Tell him to sit back down.]]

[[You really don&#39;t want to risk this deal... Don&#39;t stop him.]]</tw-passagedata><tw-passagedata pid="378" name="This is unacceptable! Tell him to sit back down." tags="" position="5075,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I&#39;m sorry, Mr. Fjord? We have a strict rule in our company about the use of our equipment...&quot;&lt;/span&gt; you mumble as you take your laptop from him and move a few seats away from him. There&#39;s a deep furrow in Mr. Fjord&#39;s forehead and a disappointed look, but he doesn&#39;t say a word. Instead, he sits back down in his chair, crosses his arms and sighs deeply, turning his attention to the slides again.

Off-balance, you try your best to continue your presentation, but you can sense there&#39;s something off. William is dead quiet the whole time, staring blankly at the slides you&#39;re showing him. After a solid 30 minutes later, you&#39;re done. &lt;span class=&quot;jessica&quot;&gt;&quot;So, that is in essense the project plan, budget and timeline. Any questions about the milestones, definitions of done, legislative requirements or something else?&quot;&lt;/span&gt; You ask. William Fjord stands up.

&lt;span class=&quot;william&quot;&gt;&quot;No. No questions. It all looks... Yeah. I&#39;ll have my agent call yours. I believe I know the way out. Have a great day now.&quot;&lt;/span&gt; he says, abruptly standing up and leaves the room. Stunned, you stand there, eyes wide, cold sweat running down your spine. The door to the conference room slams shut, and you feel like you just fucked up somehow. Did he like what he saw? Did you land the deal? What could you have done differently? Was he ever interested in this project? What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="379" name="You really don&#39;t want to risk this deal... Don&#39;t stop him." tags="" position="5200,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-026.png&quot;&gt;
You can&#39;t seem to move an inch as William Fjord exits the presentation move and opens up the editing mode for the powerpoint. There, in the section about the project goals and deliverables, he modifies the first line, typing...

Remove.
Your.
Blouse.

Those are the words. William selects the letters and makes the font bold. Then he turns around, leaning against the table with crossed arms. The look he&#39;s giving you is intense, demanding... Impatient. Why is your mouth suddenly so god-damn dry? And who cranked up the heat in the conference room... You stare at the screen, then at Mr. Fjord, and back at the screen again.

He wants you to finish the presentation without your blouse, is that it? But no, the look he&#39;s giving you. He won&#39;t be satisfied stopping there. If you go down this route, you know where it&#39;ll end up. You can&#39;t think straight right now. The extra mile, yeah right. Did your boss know Mr. Fjord would demand something like this...? The thought sends a chill down your spine. No wonder he wanted you do take care of this client alone.

[[Let him know that this presentation is over.]]

[[Surprising even yourself, you actually remove your blouse...]]</tw-passagedata><tw-passagedata pid="380" name="Let him know that this presentation is over." tags="" position="5200,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I&#39;m afraid there&#39;s been a misunderstanding, Mr. Fjord. We don&#39;t do those kinds of... Services, here...&quot;&lt;/span&gt; you say, finding the courage to finally draw a line. The look he gives you is a mix of disappointment and maybe even a hint of anger. 

&lt;span class=&quot;william&quot;&gt;&quot;Well, I see we&#39;ve both been wasting time then. I know the way out. Tell your superior I said hi.&quot;&lt;/span&gt; he simply says and abruptly leaves the room. Stunned, you stand there, eyes wide, cold sweat running down your spine. The door to the conference room slams shut, and you feel like you just fucked up somehow. What could you have done differently? Was he ever interested in this project? Or was he just here to... To... Fucking hell. What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="381" name="Surprising even yourself, you actually remove your blouse..." tags="" position="5325,350" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_remove_blouse to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-027.png&quot;&gt;
Something about the way he&#39;s looking at you makes you want to do it. Maybe you&#39;re just truly determined to land this deal, come what may. Or maybe you find William Fjord attractive and this all harmless fun? Regardless what your reasons were, you find yourself pulling up your blouse. You let it fall to the ground. Underneath you&#39;re just wearing your bra, which William admires with a silent and approving look.

&lt;span class=&quot;jessica&quot;&gt;&quot;Very well, I see now what has been missing from our project plan...&quot;&lt;/span&gt; You say with a sly smile, more confidently than you feel. Then you lean in to take control of the laptop again, but William snatches it from you and points to the big screen behind you. The big bolded words are there. Remove. Your. Blouse. William takes a comfortable position sitting on the table, your laptop in hand. &lt;span class=&quot;william&quot;&gt;&quot;I want you to follow the new project plan to the letter. Am I clear?&quot;&lt;/span&gt; he says, removing all the text from the current slide visible on the big screen.

You knew he wouldn&#39;t stop here, even though a part of you had hoped for it. And now he&#39;s clearly waiting for you to nod and say yes, approve to whatever he&#39;s cooking up. And why is there a tingling sensation in your fingers as you stare at Mr. Fjord and then at the screen behind you... Your breath is getting quicker from the odd situation you find yourself in.

[[Simply nod - You know where this is going, and you accept it.]]

[[Shake your head. No, this is not something you&#39;re comfortable with.]]</tw-passagedata><tw-passagedata pid="382" name="Simply nod - You know where this is going, and you accept it." tags="" position="5475,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-027.png&quot;&gt;
The smile he gives you when you nod is warm, reassuring even. A thought enters your mind. This is not the first time he&#39;s done something like this, is it? And here you are, about to do as he says. Like how many others? &lt;span class=&quot;jessica&quot;&gt;&quot;Look this... What we&#39;re doing... My boss can&#39;t hear of this, alright?&quot;&lt;/span&gt; you comment, making sure the two of you are on the same page. Mr. Fjord looks up, meeting your eyes, and says: &lt;span class=&quot;william&quot;&gt;&quot;Of course.&quot;&lt;/span&gt; 

Then he starts typing again, and gestures for you to turn your attention to the big screen.

Skirt.

It reads. No other words are needed. You both know what he means. Well... Fuck. The temperature in the conference room seems to be reaching sauna levels of heat as your cheeks blush.

[[You know what you signed up for - remove your skirt]]</tw-passagedata><tw-passagedata pid="383" name="Shake your head. No, this is not something you&#39;re comfortable with." tags="" position="5325,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I uh... Look... I&#39;m afraid there&#39;s been a misunderstanding, Mr. Fjord. We don&#39;t do those kinds of... Services, here...&quot;&lt;/span&gt; you say, finding the courage to finally draw a line. You reach out and grab your blouse, pulling it back on with haste. The look he gives you is a mix of disappointment and maybe even a hint of anger as he puts down your laptop.

&lt;span class=&quot;william&quot;&gt;&quot;Well, I see we&#39;ve both been wasting time then. I know the way out. Tell your superior I said hi.&quot;&lt;/span&gt; he simply says and abruptly leaves the room. Stunned, you stand there, eyes wide, cold sweat running down your spine. The door to the conference room slams shut, and you feel like you just fucked up somehow. What could you have done differently? Was he ever interested in this project? Or was he just here to... To... Fucking hell. What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="384" name="You know what you signed up for - remove your skirt" tags="" position="5600,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-029.png&quot;&gt;
With trembling hands, you open the clasp of your skirt, then with your back against William, you pull it down, letting it fall to the floor.

Kick.
It.
Away.

William types on the screen. And you find yourself doing just that, as you kick your skirt across the room, far away from you. You&#39;re suddenly aware that you&#39;re standing here in your high heels, with nothing but your underwear and a bra on, with Willliam Fjord sitting at the table behind you with your laptop... And you&#39;re silently starting at the big screen, waiting for more words to pop up. The pulse of the cursor has your full attention. A calmly beating heart. Unlike yours, which is beating faster than you thought was possible.

Spin.
Around.

Those are simply enough instructions...

[[Spin around]]</tw-passagedata><tw-passagedata pid="385" name="Spin around" tags="" position="5725,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-030.png&quot;&gt;
You let William Fjord see the full beauty of your half-naked body as you spin around, showing him your breasts, your ass, your legs... But you can&#39;t look at him as you do it. Somehow, the big screen with the letters has become your safe-haven, your anchor, and you don&#39;t want to face head on the fact that Mr. Fjord is sitting right there in the same room as you. &lt;span class=&quot;william&quot;&gt;&quot;You look stunning, Jessica.&quot;&lt;/span&gt; William says from the table, breaking your protective barrier by reminding you that he is, in fact, watching and very close indeed.

You smile and nod, unable to form words.

Shoes.

Those are the next words on the big screen... Harmless enough, you suppose... When you bend down and reach for your shoes, William gets up and stands right next to you. You glance up at him from your half-kneeling position, shoes in hand. He&#39;s still holding your laptop, and once again gestures towards the big screen. With shaking hands, you remove your shoes and put them to the side.

Kneel.

Are the words on the screen now. William is quite literally standing right next to you, looking down at you over the laptop in hand hands. For a moment, you find the courage from somewhere to speak up... &lt;span class=&quot;jessica&quot;&gt;&quot;William... Mr. Fjord, I... Is this having a positive effect on the project plan and your consideration of the deal?&quot;&lt;/span&gt; You find yourself asking, in an attempt to put a break on things. He nods, with that reassuring smile of his, and says: &lt;span class=&quot;william&quot;&gt;&quot;Without a doubt. A most positive effect indeed.&quot;&lt;/span&gt; His words echoing in your mind and you decide that...

[[You&#39;re in this too deep now - Just follow the instructions]]

[[This is too much, scramble to your feet]]</tw-passagedata><tw-passagedata pid="386" name="You&#39;re in this too deep now - Just follow the instructions" tags="" position="5875,350" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_kneel to true&gt;&gt;
&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-031.png&quot;&gt;
Your brain has stopped thinking a long time ago it seems. Now, you just blindly follow the words written onto the big screen. The words of truth. Law, even, that you have to follow. It feels surreal, giving up control like this. To do exactly as Mr. Fjord tells you to, without questions, without hesitation. Are you still doing this because you want to ensure he accepts the deal? Or are you doing this to please him? Or maybe... Just maybe, you&#39;re doing this for your own benefit? Because you like it?

Regardless why you&#39;re doing it, you do it. You kneel in front of Mr. Fjord, wearing nothing but your underwear and your bra. And he stands in front of you, tall, your laptop in hand. From your current position, you can view both the screen on your left and William in front of you. You glance up at him. He has a smile on his face, but he simply points towards the screen.

Bra.

You knew this was coming. The words stir something within you, something you didn&#39;t know you had. A desire to expose yourself, not just for anyone, but specifically to Mr. Fjord. The deal isn&#39;t even important anymore...

[[Remove your bra, just like the words on the big screen are telling you to...]]</tw-passagedata><tw-passagedata pid="387" name="This is too much, scramble to your feet" tags="" position="5725,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I uh... Look... I&#39;m afraid there&#39;s been a misunderstanding, Mr. Fjord. We don&#39;t do those kinds of... Services, here...&quot;&lt;/span&gt; you say, finding the courage to finally draw a line. You fumble about the room, grabbing your shoes, skirt and blouse and hastily put everything back on. The look he gives you is a mix of disappointment and maybe even a hint of anger as he puts down your laptop.

&lt;span class=&quot;william&quot;&gt;&quot;Well, I see we&#39;ve both been wasting time then. I know the way out. Tell your superior I said hi.&quot;&lt;/span&gt; he simply says and abruptly leaves the room. Stunned, you stand there, eyes wide, cold sweat running down your spine. The door to the conference room slams shut, and you feel like you just fucked up somehow. What could you have done differently? Was he ever interested in this project? Or was he just here to... To... Fucking hell. What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="388" name="Remove your bra, just like the words on the big screen are telling you to..." tags="" position="6000,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-032.png&quot;&gt;
With ease, you remove your bra, throwing it away with the rest of your clothes. &lt;span class=&quot;william&quot;&gt;&quot;Very good, Jessica. Your tits look absolutely perfect.&quot;&lt;/span&gt; William comments, his hand reaching out to touch your hair. When his fingers dig deep into your scalp, massassing you, you almost cry out. Not from pain, but from shock. What is happening to you? Why are you enjoying doing this, exposing yourself, his touch... His touch... Suddenly your mind conjures up fantasies of where he could put those fingers, his cock...

Whoa! You snap out of it, blinking, as William stops massaging your hair. There are new words on the screen.

My pants.

He&#39;s not serious is he... You glance at him from your kneeling position, completely aware that you&#39;re sitting here with nothing on but your underwear. Oh, but he is. He even helpfully lifts up the laptop so it&#39;s not blocking access to his belt, his pants, which are right there in front of you, just a few inches from your face...

[[Comply - remove his pants]]

[[No way you&#39;re doing that!]]</tw-passagedata><tw-passagedata pid="389" name="Comply - remove his pants" tags="" position="6125,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-033.png&quot;&gt;
You&#39;ve come this far, no point stopping now. You knew what you signed up for the second you saw the words &quot;Remove Your Blouse&quot; written on the screen. And so, with fumbling hands, you reach up and grab his belt buckle, pulling the leather and opening it with a satisfying clinking of metal on metal. Then you open his button, pull down the zipper, and with your eyes firmly on Mr. Fjord&#39;s, you pull down his pants all the way to the floor without breaking eye contact.

The look he&#39;s giving you right now... It&#39;s something like a deep hunger. His massive bulge is barely contained by his black boxers. How the hell did you find yourself in this position, kneeling in front of a rich potential client in only your underwear, staring at his boxers... Well, actually, you know exactly how you ended up here. You could&#39;ve stopped this at any point, and yet here you are. The words on the screen change again.

Boxers.

Just that, nothing else. But it&#39;s enough. You know what he wants you to do, and without skipping a beat, you comply. No point saying no anymore, right... You knew what you signed up...

[[Remove his boxers]]</tw-passagedata><tw-passagedata pid="390" name="No way you&#39;re doing that!" tags="" position="6000,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I uh... Look... I&#39;m afraid there&#39;s been a misunderstanding, Mr. Fjord. We don&#39;t do those kinds of... Services, here...&quot;&lt;/span&gt; you say, finding the courage to finally draw a line. You fumble about the room, grabbing your bra, shoes, skirt and blouse and hastily put everything back on. The look he gives you is a mix of disappointment and maybe even a hint of anger as he puts down your laptop.

&lt;span class=&quot;william&quot;&gt;&quot;Well, I see we&#39;ve both been wasting time then. I know the way out. Tell your superior I said hi.&quot;&lt;/span&gt; he simply says and abruptly leaves the room. Stunned, you stand there, eyes wide, cold sweat running down your spine. The door to the conference room slams shut, and you feel like you just fucked up somehow. What could you have done differently? Was he ever interested in this project? Or was he just here to... To... Fucking hell. What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="391" name="Remove his boxers" tags="MUSIC_CHANGE" position="6250,350" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;
&lt;&lt;set $pre_cock to true&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-034.png&quot;&gt;
With a nervous grin and shaking hands, you manage to pull down his boxers, revealing his fully erect member in all its glory. Wow, so he&#39;s got the looks and the package, you can&#39;t help but think. It stands in salute before you, throbbing, demanding your attention. You find your attention split between the penis, the screen and William&#39;s pleased look on his face.

Suck.

The words you knew were coming next show up on the screen. William even puts the laptop back onto the table, to emphasize the totality of the single word. Then he positions himself before you, hands idle by his sides, throbbing cock in your face. With a dry mouth, you stare at the word, and his member and him. Oh my god, are you seriously thinking of doing this? Does the deal mean so much to you... Or are you simply fascinated my him? William&#39;s hand reaches out, brushes against your hair... Not pulling, not digging into it, simply landing there, ready to guide you if you surrender to him.

[[No point stopping now - you&#39;re going all the way]]

[[Surely he&#39;s had enough fun by now? Stop this.]]</tw-passagedata><tw-passagedata pid="392" name="No point stopping now - you&#39;re going all the way" tags="" position="6400,350" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $pre_sex_william to true&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-035.png&quot;&gt;
William looks at you with a hungry gleam in his eyes as you slowly lean forward, licking your lips as you approach the tip of his shaft. You can smell him now, a not too unpleasant smell, actually. But the smell of it is the least of your concerns at this point. You&#39;re literally inches away from sucking the cock of the mega rich client, to land the biggest deal of your career, or just plain because it&#39;s fun and exciting... You still haven&#39;t decided why exactly you&#39;re doing this.

Then you find your courage. You grab the base of Mr. Fjord&#39;s shaft, near his balls, and slowly draw your tongue all the way from the bottom to the top. Your warm breath teases his member as you slide your tongue over the full length. His deep breath confirms it: He&#39;s loving this. One of his hands is idly playing with your hair, moving gently with your own movement, not forcing you to do anything... Yet. It can be hot when a man takes charge, but for now you have control of things.

As you reach the tip, you let your tongue swirl around the head of his member before you open your mouth and slowly swallow his cock. Only an inch at first. Then two. When you teasingly stay there, eyes locked with Mr. Fjord, one hand at the base of his shaft, and the other resting playfully against his thigh, you see it. He wants to fuck your mouth right now, you can tell it from his eyes, from his composure, from the way his hand grabs your hair now with intense lust. Submissively and knowing a man like him probably likes to be in charge, you...

[[Encourage him to take control...]]</tw-passagedata><tw-passagedata pid="393" name="Surely he&#39;s had enough fun by now? Stop this." tags="" position="6250,500" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I uh... Sorry, I can&#39;t...&quot;&lt;/span&gt; you say, finding the courage to finally draw a line. You fumble about the room, grabbing your bra, shoes, skirt and blouse and hastily put everything back on. The look he gives you is a mix of disappointment and maybe even a hint of anger as he pulls up his boxers and puts on his pants.

&lt;span class=&quot;william&quot;&gt;&quot;Well, I see we&#39;ve both been wasting time then. I know the way out. Tell your superior I said hi.&quot;&lt;/span&gt; he simply says and abruptly leaves the room. Stunned, you stand there, eyes wide, cold sweat running down your spine. The door to the conference room slams shut, and you feel like you just fucked up somehow. What could you have done differently? Was he ever interested in this project? Or was he just here to... To... Fucking hell. What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="394" name="Encourage him to take control..." tags="" position="6550,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-035.png&quot;&gt;
Eyes locked, a third of the length his cock in your mouth, you move your hands away from his shaft and his thigh. Then you grab his free hand, moving it firmly to the other side of your head, letting him grab your hair there as well. Then your nod your encouragement.

He looks surprised, but pleased, by you freely giving him control. And without missing a beat, he grabs your hair firmly with both hands. Obediently, you put your hands behind your back, signalling that Mr. Fjord can do as he wants with your mouth. That he has earned the pleasures it gives him. That you willingly submit to him.

And he fully intends to take advantage of your drooling mouth as he pulls you close, strong hands guiding you forward until you&#39;re forced to swallow the entirety of his shaft. You cough as the tip fills your throat, eyes watering for just a moment. Then he begins thrusting, slowly, exploring your cheeks, your tongue, your throat as you submissively take it all, gagging, drooling and choking on his cock. He&#39;s enjoying this, thrusting his cock into your willing mouth. You can feel his balls hitting your chin as you try your best to keep your mouth wide open and tongue pressed against his shaft in a way you know feels good for him.

[[With him doing most of the work, you mind starts to wander.]]</tw-passagedata><tw-passagedata pid="395" name="With him doing most of the work, you mind starts to wander." tags="" position="6700,350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-037.png&quot;&gt;
How the hell did you end up in this situation? Is anyone going to take you seriously anymore if they found out this is how you closed the deal? By becoming Mr. Fjord&#39;s fucktoy? Whore? With each moment that passes, each grunt from the rich client fucking your throat, your doubts and fears increase. This doesn&#39;t seem hot anymore. What are you doing...

Just then, you feel it, the familiar throbbing of a penis about to burst. You try to loosen his grip of your hair and step back before he shoots his load into your mouth, but he stops you, shoving his cock all the way to the back of your throat as far as his shaft allows. Gurgling and spitting, eyes wide in terror, there&#39;s not a thing you can do than take it as he shoots his full load deep into your throat. You don&#39;t even have to swallow it as every drop is spilled straight into your stomach...

Then he finally loosens his grip. Exhausted, you fall to the ground on all fours, coughing and catching your breath. What the actual fuck... He just... You stare at the man who just used you, took advantage of you and potentially ruined your career. You just hope no-one finds out about this and that it was all worth it. William is the first to speak, after he pulls on his boxers and pants again, with you sitting in your underwear on the conference room floor. &lt;span class=&quot;william&quot;&gt;&quot;A splending project proposal, Jessica. Remember to tell your superior I said hi.&quot;&lt;/span&gt; he says, grabbing a biscuit from the plate. &lt;span class=&quot;william&quot;&gt;&quot;Thank you for a lovely conference. I think I know the way out. Cheers!&quot;&lt;/span&gt; he says, waving his hand, leaving you stunned, confused, angry, ashamed and half-naked in the conference room. The door slams shut behind you.

[[Stare at the closed door]]</tw-passagedata><tw-passagedata pid="396" name="Stare at the closed door" tags="" position="6100,750" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-024.png&quot;&gt;
You just... Can&#39;t believe what just happened. What possessed you. It all happened so fast... Fumbling for your clothes, you rush across the room, finding your bra, skirt, blouse and shoes and hastily try to fix the mess William&#39;s hands left in your hair. And quickly you hide all traces of his &quot;additional proposals&quot; from the powerpoint...

Then you stare at the laptop, legs shaking, stunned, with eyes wide and cold sweat running down your spine. Why do you feel like shit? Didn&#39;t you go the extra mile for the deal... Why do you feel like you just fucked up somehow. Did you land the deal? What could you have done differently? Was he ever interested in this project? Or was he just here to... To... Fucking hell. What the fuck... You have to sit down, head spinning. Just then, the door to the conference room opens.

[[Your boss enters the room]]</tw-passagedata><tw-passagedata pid="397" name="Run to the bathroom and cry" tags="" position="4950,825" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/003_BATHROOM.png&quot;&gt;
Life isn&#39;t fair, and sometimes you&#39;re dealt a shitty hand. Well no-one&#39;s been given a worse fucking hand in the history of life than you just were, or so it feels right now. William fucking Fjord. Who the fuck does he think he is? You reach the toilets and slam the door shut, hiding in one of the empty stalls. You just can&#39;t stop shaking, but it doesn&#39;t matter. Here, you&#39;re safe. Here, you can let it all out without any risks of being caught. Perks of working in a mostly male dominated industry: The lady&#39;s bathrooms are usually empty.

The more you cry and the more you think about what William Fjord did and said, the more you realize that there really wasn&#39;t anything you could&#39;ve done differently. It feels like he never intended to take this project proposal seriously. Never intended on closing the deal and giving your company, and you, this great opportunity. Nothing explains his behaviour, except the fact that he&#39;s a fucking asshole. &lt;&lt;if $pre_kneel is true&gt;&gt;You saw his true nature, the real reason he was here...&lt;&lt;/if&gt;&gt;&lt;&lt;if $pre_sex_william is true&gt;&gt; You just hope you didn&#39;t do it all for nothing, that he will call your company, will accept the deal. But the way he abruptly left after he... After he... The thought makes you sick.&lt;&lt;/if&gt;&gt;

[[Try to compose yourself]]</tw-passagedata><tw-passagedata pid="398" name="Try to compose yourself" tags="" position="4800,900" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/003_BATHROOM.png&quot;&gt;
Eventually, after a long time, you calm down enough to leave the stall, fix your make-up and head out into the office once again. You explain to HR that you&#39;re not feeling well and head home.

There, you spend the rest of the day taking care of yourself, with a big bowl of ice cream and binge-watching a whole season of Friends.

[[The next morning, you head back to the office.]]</tw-passagedata><tw-passagedata pid="399" name="The next morning, you head back to the office." tags="" position="4650,975" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-041.png&quot;&gt;
The day starts out as a typical day, answering a few calls, replying to emails and doing some paperwork. Then, an hour after lunchtime, your boss calls you to his office. With a clump of ice in your stomach, you make your way over there. He&#39;s not alone. By his side are two others, an older guy from HR and a younger guy you don&#39;t recognize.

&lt;span class=&quot;boss&quot;&gt;&quot;Sit down.&quot;&lt;/span&gt; your boss instructs, gesturing towards the empty chair in the middle of the room. All three men watch you as you tentatively approach, swallowing nervously as you try to judge the atmosphere of the room. Your guesses aren&#39;t needed, however, as your boss quickly continues: &lt;span class=&quot;boss&quot;&gt;&quot;Mr. Fjord categorically refused our offer today, citing, and I quote: A complete lack of integrity and sub-par professional standards.&quot;&lt;/span&gt; The latter he reads out loud from his laptop, then pins you with his eyes. There&#39;s a hint of anger there. &lt;span class=&quot;boss&quot;&gt;&quot;What the hell is he talking about! Explain what happened yesterday!&quot;&lt;/span&gt; Your boss almost shouts. The young man you don&#39;t know whispers something in your boss&#39;s ear then, which results in your boss taking a deep breath, and turning his full attention to you without anger in his voice. &lt;span class=&quot;boss&quot;&gt;&quot;Well?&quot;&lt;/span&gt; he then adds, oddly patiently, giving you a chance to finally explain what happened...

&lt;&lt;if $pre_sex_william is true&gt;&gt;[[Explain what happened|explanation sex]]&lt;&lt;else&gt;&gt;[[Explain what happened|explanation no sex]]&lt;&lt;/if&gt;&gt;
</tw-passagedata><tw-passagedata pid="400" name="explanation sex" tags="" position="4500,1050" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-042.png&quot;&gt;
You explain in detail your version of what happened yesterday. You explain the inappropriate smelling of your hair in the elevator and his comments and strange behaviour during the conference. How he came to sit right next to you, completely disregarding the content of the presentation. &lt;&lt;if $pre_remove_blouse is true&gt;&gt;How he demanded you remove your blouse.&lt;&lt;/if&gt;&gt; &lt;&lt;if $pre_kneel is true&gt;&gt;How he made you strip naked and kneel in front of him.&lt;&lt;/if&gt;&gt; &lt;&lt;if $pre_cock is true&gt;&gt;How he took out his cock...&lt;&lt;/if&gt;&gt;

When you finish your story, the men stay quiet. The man from HR and your boss discuss something privately, then the HR representative leaves. Now it&#39;s just you and your boss, and the guy you don&#39;t know. &lt;span class=&quot;boss&quot;&gt;&quot;Well, that is certainly an interesting take on how the events transpired. According to Mr. Fjord, you came on to him. Seduced him and said to him, and I quote: Suck your cock, if you&#39;ll take the deal.&quot;&lt;/span&gt; Your boss retorts.

You blink at your boss, unable to comprehend what you&#39;re hearing. William is blaming you for inappropriate behaviour!? Your boss holds up his hand for silence when you open your mouth to say something. &lt;span class=&quot;boss&quot;&gt;&quot;When I said go the extra mile, I didn&#39;t bloody well mean whoring yourself to the client!&quot;&lt;/span&gt; Your boss concludes, slamming his hand hard on his desk. No, this is bullshit!

[[Protest!|protest 2]]</tw-passagedata><tw-passagedata pid="401" name="explanation no sex" tags="" position="4500,925" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-042.png&quot;&gt;
You explain in detail your version of what happened yesterday. You explain the inappropriate smelling of your hair in the elevator and his comments and strange behaviour during the conference. How he came to sit right next to you, completely disregarding the content of the presentation. &lt;&lt;if $pre_remove_blouse is true&gt;&gt;How he demanded you remove your blouse.&lt;&lt;/if&gt;&gt; &lt;&lt;if $pre_kneel is true&gt;&gt;How he made you strip naked and kneel in front of him.&lt;&lt;/if&gt;&gt; &lt;&lt;if $pre_cock is true&gt;&gt;How he took out his cock...&lt;&lt;/if&gt;&gt;

When you finish your story, the men stay quiet. The man from HR and your boss discuss something privately, then the HR representative leaves. Now it&#39;s just you and your boss, and the guy you don&#39;t know. &lt;span class=&quot;boss&quot;&gt;&quot;William Fjord is a well respected businessman. The behaviour you&#39;re describing doesn&#39;t fit his description at all.&quot;&lt;/span&gt; Your boss begins, hold up his hand for silence when you open your mouth to say something. &lt;span class=&quot;boss&quot;&gt;&quot;Did I or did I not tell you to go the extra mile?&quot;&lt;/span&gt; He asks. When you stutter something incoherent, he interrupts you. &lt;span class=&quot;boss&quot;&gt;&quot;Yes or no?&quot;&lt;/span&gt; Somehow, you manage to croak: &lt;span class=&quot;jessica&quot;&gt;&quot;Yes...&quot;&lt;/span&gt; You boss puts down his hand, as if that settles it. &lt;span class=&quot;boss&quot;&gt;&quot;And, did you? Go the extra mile? Because from the way I hear it, you are to blame for not taking him and his needs into account.&quot;&lt;/span&gt; he says, eyes piercing you with his gaze. No, that&#39;s bullshit!

[[Protest!]]</tw-passagedata><tw-passagedata pid="402" name="Protest!" tags="" position="4350,925" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-042.png&quot;&gt;
He... You... What!? &lt;span class=&quot;jessica&quot;&gt;&quot;His needs? With all due respect, he...&quot;&lt;/span&gt; &lt;span class=&quot;boss&quot;&gt;&quot;Did I ask for your opinion!?&quot;&lt;/span&gt; Your boss interrupts you. Startled, you slump down in your chair. &lt;span class=&quot;boss&quot;&gt;&quot;I should fire you right here, right now for fucking up such a simple task. If a rich man like Mr. Fjord takes a liking to you, you smile and thank him for the attention. You better remember that next time, Jessica. But your talents may still be useful in the company, and so I&#39;m willing to offer you a second chance. You&#39;re dismissed.&quot;&lt;/span&gt; Your boss finishes, waving his hand in the general direction of the door.

[[Reluctantly, you leave the room, fuming with anger...]]</tw-passagedata><tw-passagedata pid="403" name="protest 2" tags="" position="4350,1050" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-042.png&quot;&gt;
He... You... What!? &lt;span class=&quot;jessica&quot;&gt;&quot;I seduced him!? He practically forced himself on me!&quot;&lt;/span&gt; your shout, furious. &lt;span class=&quot;boss&quot;&gt;&quot;Did you or did you not have oral sex with Mr. Fjord?&quot;&lt;/span&gt; Your boss interrupts you. Startled, you slump down in your chair. &lt;span class=&quot;jessica&quot;&gt;&quot;I...&quot;&lt;/span&gt; you mumble, suddenly feeling sweat welling up from your flustered forehead. &lt;span class=&quot;boss&quot;&gt;&quot;It&#39;s a simple question Jessica. Yes or no. Did you have oral sex with Mr. Fjord?&quot;&lt;/span&gt;

Oh for crying out... Something breaks in you at that point. Defeat, you whisper: &lt;span class=&quot;jessica&quot;&gt;&quot;Yes...&quot;&lt;/span&gt; The embarrassment you feel in admitting this out loud before the men in the room cannot be described with words. Your boss grunts, nodding. A strange look on his face. &lt;span class=&quot;boss&quot;&gt;&quot;I should fire you right here, right now. What were you thinking!? But... Your talents may still be useful in the company, and so I&#39;m willing to offer you a second chance. For now, you&#39;re dismissed.&quot;&lt;/span&gt; Your boss finishes, waving his hand in the general direction of the door.

[[Reluctantly, you leave the room, fuming with anger...]]</tw-passagedata><tw-passagedata pid="404" name="Reluctantly, you leave the room, fuming with anger..." tags="MUSIC_CHANGE" position="4200,975" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;main_menu1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-002.png&quot;&gt;
This is some major bullshit with a capital B. William fucking Fjord, what an absolute dick. It&#39;s clear to you now that he was out to use you from the start, no doubt about it. And landed you in this mess. Second chance indeed... Well at least you weren&#39;t fired for &quot;failing&quot; to land the deal with Mr. Fjord...

Right now you&#39;re thinking of just straight up quitting. Why would you don&#39;t want to work in a place like this, that doesn&#39;t take the side of its employees? In this situation, there was no winning. Nothing you could&#39;ve done would&#39;ve persuaded Mr. Fjord to take the deal. And now your boss is furious with you, because the client turned out to be a rotten bag of shit. You should quit...

When you reach your desk, you slump down, staring at your laptop. Slowly, your rage and anger drains away, leaving you exhausted and tired to your bone. What are you thinking? You can&#39;t quit. Between the rent and your student debt, you can&#39;t just walk out and risk becoming unemployed. No. What you need to do is stay cool, take his &quot;second chance&quot; and just accept the shitty hand life has given you. And maybe try to find another job on the sly...

[[Get back to work like nothing happened]]</tw-passagedata><tw-passagedata pid="405" name="Get back to work like nothing happened" tags="" position="4050,975" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/prelude/p-002.png&quot;&gt;
The next days at your work makes it clear: Your boss is punishing you by slowly increasing your workload, and your protests and attempts to get help from your co-workers are met with cold shoulders and claims of being too busy. 

Your incident with Mr. William Fjord has spread to everyone in the office. And somehow, the most important thing being discussed is the fact that you lost the company a deal worth over a five hundred thousand dollars... And didn&#39;t get fired. No-one cares about the details of Mr. Fjord&#39;s behaviour. &lt;&lt;if $pre_sex_william is true&gt;&gt;No-one even mentions the fact that you sucked the client&#39;s cock either, at least not to your face...&lt;&lt;/if&gt;&gt;

But you try to keep your head up, ignoring the looks, the cold shoulders, as the workload keeps increasing. Your boss is still furious, and even threatens he&#39;ll sue you for neglect and then fire you if you can&#39;t show you can pull your weight. From your understanding, that is strictly speaking not legal... Your company and boss shouldn&#39;t be able to sue a worker like that... But, apparently, they can. Or so the head of human resources, the expert from the legal team and your boss explains. All three opinions voiced by stuck-up men in suits, making life miserable for everyone they dislike even a bit. So here you are, trying your best to fix things.

[[One week later...|Start Chapter 1]]</tw-passagedata><tw-passagedata pid="406" name="Grab your bag and head home" tags="" position="8350,425" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;calm1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-002.png&quot;&gt;
At home, you can finally relax and you toss your boss&#39;s note, unread, onto your desk. Time for a long shower, a hot meal and some thinking... First things first, you order a pizza delivered to your door, then as you wait for the delivery, you enter the shower.

You feel extremely dirty. Degraded. Used. But in a bad way? Not necessarily. In a way, what you experienced was extremely uncomfortable. In another way, it was thrilling, intense, raw. You want more of it. But why? Your cheeks blush just thinking about everything the man did to you, what you did to him and yourself, and what you did to your boss... You actually sucked your boss&#39;s cock until he came... You want to believe that you were possessed by a demon or something, but no, it was all you. You did it, and you liked it. And there&#39;s a lot more of that to come, given your new &quot;unique position&quot; at the company...

[[Get out of the shower and wait for your pizza]]</tw-passagedata><tw-passagedata pid="407" name="Get out of the shower and wait for your pizza" tags="" position="8350,550" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-002.png&quot;&gt;
The pizza arrives just as you&#39;re fresh, dry and somewhat relaxed. This certainly beats stressing out at the office, trying to clear the pile of work your boss had thrown your way. All in an attempt to lure you into signing this contract in the first place, most definitely. And here you are, having done just that. You glance at your copy of the contract. Legally binding it says. Empty words, formalities, or actual truth? You&#39;d best get an outside opinion on this matter... If you dare bring up the topic to someone. A part of you regrets signing the paper, another part wants to see where it all leads...

[[Spend the holiday trying to get an outside opinion on the contract...]]

[[Spend the holiday relaxing - you&#39;ll need the energy when you get back to &#39;work&#39;...|friends scene]]</tw-passagedata><tw-passagedata pid="408" name="Spend the holiday trying to get an outside opinion on the contract..." tags="" position="8700,700" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-002.png&quot;&gt;
You&#39;re starting to have doubts about the contract. Can it truly be legally binding? Can&#39;t you like... Sue the company or something? Maybe there is a way out of this without having to go back there after new year&#39;s as the &quot;Office Slut&quot;... Or maybe you should just relax, accept the new role at the company and the doubled salary and try to enjoy it?

[[Go to the police with the contract.]]

[[Spend the holiday with your friends instead.|friends scene]]</tw-passagedata><tw-passagedata pid="409" name="Spend the holiday with your friends" tags="" position="8350,925" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-006.png&quot;&gt;
Over the next few days, you fall into a comforting routine. You bake cookies with Lily, Amber, and Monica, the kitchen alive with the scent of vanilla and sugar. You reminisce about old times, sharing stories and laughter as you decorate the Christmas tree with ornaments from years past.

But beneath the surface of holiday cheer, the secret you&#39;re carrying gnaws at you like a persistent ache. You watch your friends with a mixture of love and fear, wondering if they would still accept you if they knew the truth.

You try to bury your doubts as you join your friends for a night of ice skating at the town rink. The cold air stings your cheeks, but the laughter of your friends warms you from the inside out. You glide across the ice, feeling the familiar rush of adrenaline as you spin and twirl under the glow of the streetlights.

But as you watch Lily, Amber, and Monica laughing and joking together, you can&#39;t shake the feeling of unease that settles in the pit of your stomach. They know everything about you—or so they think. They know about your old job, your hobbies, your dreams for the future. But there&#39;s a part of you that you now keep hidden. As the night wears on and the laughter fades into quiet whispers, you find yourself drifting to the edge of the rink, lost in your thoughts. What would they say if they knew the truth? Would they still see you the same way, or would everything change?

You wrap your arms around yourself, the cold seeping into your bones as you struggle to find the courage to speak. But the words catch in your throat, suffocated by the weight of your fear. You can&#39;t tell them - can you? Eventually, the four of you head back to Lily&#39;s for a cup of hot chocolate, and there you still struggle if you should tell them or not.

[[Tell them everything]]

[[Decide to keep it a secret. They wouldn&#39;t understand...]]</tw-passagedata><tw-passagedata pid="410" name="Tell them everything" tags="MUSIC_CHANGE" position="8287.5,1050" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_reveal_to_friends to true&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-007.png&quot;&gt;
You sit in Lily&#39;s cozy living room, surrounded by the warmth of friendship and the scent of hot chocolate wafting through the air. You decide to just go for it and tell tem. The wibe is relaxed, you&#39;re here with friends, their faces illuminated by the soft glow of the fire crackling in the fireplace... Surely they&#39;ll understand...

As you take a sip of your hot chocolate, you feel a surge of nervous energy coursing through you. You know that what you&#39;re about to reveal will change everything, and you can&#39;t help but feel a twinge of apprehension. But you also know that you can&#39;t keep it a secret any longer.

&lt;span class=&quot;jessica&quot;&gt;&quot;Guys,&quot;&lt;/span&gt; you begin, your voice trembling slightly. &lt;span class=&quot;jessica&quot;&gt;&quot;There&#39;s something I need to tell you.&quot;&lt;/span&gt;

Lily looks at you with concern, her eyes filled with empathy. &lt;span class=&quot;lily&quot;&gt;&quot;What is it, Jess? You know you can tell us anything.&quot;&lt;/span&gt; You take a deep breath, steeling yourself for their reactions. &lt;span class=&quot;jessica&quot;&gt;&quot;I...&quot;&lt;/span&gt; you pause, the words catching in your throat.

[[Reveal everything that&#39;s happened at work...]]</tw-passagedata><tw-passagedata pid="411" name="Decide to keep it a secret. They wouldn&#39;t understand..." tags="" position="8412.5,1050" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_reveal_to_friends to false&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-007.png&quot;&gt;
You sit in Lily&#39;s cozy living room, surrounded by the warmth of friendship and the scent of hot chocolate wafting through the air. The wibe is relaxed, you&#39;re here with friends, their faces illuminated by the soft glow of the fire crackling in the fireplace. They wouldn&#39;t understand... You decide to keep it a secret. 

[[Relax the rest of the holiday]]</tw-passagedata><tw-passagedata pid="412" name="Reveal everything that&#39;s happened at work..." tags="" position="8150,1075" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-008.png&quot;&gt;
There&#39;s a moment of stunned silence as the weight of your words settles over the room. Then, Amber breaks into a wide grin. &lt;span class=&quot;amber&quot;&gt;&quot;Wait, you&#39;re serious? How did you end up in such a mess... Not that I&#39;m judging. I actually think it&#39;s kind of cool!&quot;&lt;/span&gt; Cool? Didn&#39;t she hear your story? When Amber sees your look, she continues: &lt;span class=&quot;amber&quot;&gt;&quot;I mean, think about it. Twice the salary. You don&#39;t have to sit in front of a laptop doing boring stuff all day. And you get to fuck as much as you want! Win-Win-Win!&quot;&lt;/span&gt; She concludes.

You can&#39;t help but smile at her enthusiasm, even though you&#39;re not quite there yet yourself. Lily nods in agreement, her expression filled with warmth. &lt;span class=&quot;lily&quot;&gt;&quot;If this is what you want to do, Jess, then we support you. We love you no matter what. You know that, right?&quot;&lt;/span&gt;

You nod, feeling a surge of gratitude for your friends&#39; unwavering support. But when you glance at Monica, you see that her reaction is different. She&#39;s sitting quietly, her brow furrowed in thought. When she finally speaks, her voice is measured, but there&#39;s a hint of disapproval in her tone. &lt;span class=&quot;monica&quot;&gt;&quot;I don&#39;t understand.&quot;&lt;/span&gt; she says, her gaze fixed on you. &lt;span class=&quot;monica&quot;&gt;&quot;Why would you choose this?&quot;&lt;/span&gt;

You feel a pang of hurt at her words, seeing the reaction you most feared. &lt;span class=&quot;jessica&quot;&gt;&quot;I uh...&quot;&lt;/span&gt; Why indeed? You find yourself saying...

[[It just kind of happened.|convo continue part 1]]

[[The pay is too good to say no to.|convo continue part 1]]

[[I like it.|convo continue part 1]]</tw-passagedata><tw-passagedata pid="413" name="convo continue" tags="" position="8050,1375" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-007.png&quot;&gt;
You spend the rest of the evening sharing kinky stories with the girls, and they share their adventures. Turns out Amber&#39;s been doing all sorts of stuff. Fascinated, you listen to her incident involving a Finnish diplomat, a pair of handcuffs and the heat of the sauna. A warning to all: Don&#39;t leave your partner locked in a hot sauna with a pair of metallic handcuffs!

[[Relax the rest of the holiday]]</tw-passagedata><tw-passagedata pid="414" name="Relax the rest of the holiday" tags="MUSIC_CHANGE" position="8350,1450" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;calm2&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-010.png&quot;&gt;
The following days are spent thinking of anything but your work. Then, a few day&#39;s after new year&#39;s eve, you suddenly awake early in the morning. It&#39;s tomorrow, you realize. Your first day at the office, as the official &quot;Office Slut&quot;. That title though... A bit on the nose, isn&#39;t it?

It&#39;s then that you remember the note from your boss. The note you haven&#39;t even glanced at. The one sitting on your desk, patiently waiting for your attention. Wide awake, even though it&#39;s not even 6 AM yet, you jump up and sneak up to the note. The instructions written on it baffles you.

&lt;span class=&quot;man&quot;&gt;//Instructions for office slut Jessica

1. Equipment

You&#39;ll need to procure a number of items before your first day at work. Below is a list of items.
- A sturdy, metallic, dog cage, large enough for you
- A dog&#39;s shock collar, large enough for your neck
- A pair of handcuffs, lockable with a key
- Two padlocks, lockable with keys
- Bring the equipment to your boss&#39;s office, in the left corner of the room.

2. Every morning

You&#39;ll start your day at 7 AM, before your boss comes to work.
Make sure the key to your handcuffs and the trigger for the collar are in the middle of the room.
You will put on the collar.
You will enter the cage, wearing only a bra and underwear.
You will lock the door to the cage with a padlock and throw the key to the middle of the room.
You will lock the collar to the ceiling of the cage with a padlock. Throw the key to the middle of the room.
You will put on the handcuffs, behind your back, making sure the chain of the cuffs goes through one of the metallic bars of the ceiling of the cage.
You will wait patiently, like the good slut you are, for your boss.//&lt;/span&gt;

[[Stare at the instructions]]</tw-passagedata><tw-passagedata pid="415" name="friends scene" tags="" position="8350,800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-006.png&quot;&gt;
Maybe the best course of action right now is to relax and spend the holiday with your friends? You ready yourself to embrace the warmth of friendly faces and the comfort of cozy traditions, while suppressing all thoughts of work. Your friends are in town, and you can reveal to them that you are not, in fact, working this holiday after all.

The next day, you get in touch with your friends Lily, Amber and Monica. They&#39;re thrilled to hear from you, and you make your way to Lily&#39;s for a planning session.

..

Lily&#39;s house is adorned with twinkling lights and festive decorations, exuding a cozy warmth that envelops you as you step inside. The familiar faces of your friends greet you with hugs and laughter, and for a moment, you forget about the things that happened at work.... The secret that weighs heavy on your mind, and you feel too embarrased to bring it up.

[[Spend the holiday with your friends]]</tw-passagedata><tw-passagedata pid="416" name="Go to the police with the contract." tags="" position="8700,825" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_police_visit to true&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-003.png&quot;&gt;
You decide that the best course of action is to go to the police with the contract. And that you do, that same evening, demanding to get some answers...

You stride into the police station with determined steps, clutching the contract tightly against your chest. The lights flicker overhead, casting a sterile glow over the room. You feel a bead of sweat trickle down your spine as you approach the front desk, where a stern-looking officer eyes you with suspicion. &lt;span class=&quot;daniel&quot;&gt;&quot;Can I help you?&quot;&lt;/span&gt; he asks, his tone gruff.

You take a deep breath, steeling yourself for what&#39;s to come. &lt;span class=&quot;jessica&quot;&gt;&quot;I need to speak to someone about a legal matter. Name&#39;s Jessica Smith.&quot;&lt;/span&gt; you reply, trying to keep your voice steady. The officer gestures for you to take a seat in the waiting area, and after what feels like an eternity, a middle-aged woman in a crisp uniform emerges from a nearby office.

&lt;span class=&quot;lily&quot;&gt;&quot;Jessica Smith?&quot;&lt;/span&gt; she asks, glancing at the contract in your hand. You nod, rising to your feet. &lt;span class=&quot;jessica&quot;&gt;&quot;That&#39;s me.&quot;&lt;/span&gt;

The woman introduces herself as Detective Lopez and gestures that you follow her.

[[Follow Detective Lopez]]</tw-passagedata><tw-passagedata pid="417" name="Follow Detective Lopez" tags="" position="8700,950" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-004.png&quot;&gt;
She leads you into a small interview room at the back of the station. You take a seat opposite her, setting the contract down on the table between you. &lt;span class=&quot;jessica&quot;&gt;&quot;I&#39;m here to report a case of coercion and blackmail...&quot;&lt;/span&gt; you begin, your voice trembling slightly.

Detective Lopez raises an eyebrow, clearly intrigued. &lt;span class=&quot;lily&quot;&gt;&quot;Go on.&quot;&lt;/span&gt; she says. You lay the paper out in front of her. Your new employment contract. As you explain the circumstances surrounding the contract – how you were pressured into signing it, how the company had been exploiting you - Detective Lopez listens intently, her expression growing more serious by the minute.

When you&#39;ve finished speaking, she leans back in her chair, tapping her fingers thoughtfully against the table. &lt;span class=&quot;lily&quot;&gt;&quot;I&#39;m sorry, Jessica.&quot;&lt;/span&gt; she says finally. &lt;span class=&quot;lily&quot;&gt;&quot;But there&#39;s nothing we can do about this.&quot;&lt;/span&gt;

Your heart sinks at her words. &lt;span class=&quot;jessica&quot;&gt;&quot;What do you mean? Is this a legally binding contract!?&quot;&lt;/span&gt; You stutter, stunned. Detective Lopez nods, her expression sympathetic. &lt;span class=&quot;lily&quot;&gt;&quot;I understand your confusion, but unfortunately, the terms of the contract are clear. They have every right to employ you under the conditions outlined here. Even though they are... Unusual.&quot;&lt;/span&gt; she concludes.

You feel a surge of frustration boiling up inside you. &lt;span class=&quot;jessica&quot;&gt;&quot;But they lied to me! They manipulated me into signing this!&quot;&lt;/span&gt; The detective sighs, reaching across the table to pat your hand reassuringly. &lt;span class=&quot;lily&quot;&gt;&quot;I believe you, Jessica, I really do. But proving coercion in a court of law is almost impossible, especially when it comes to employment contracts. There&#39;s nothing we can do to help you.&quot;&lt;/span&gt;

You slump back in your chair, feeling defeated. It seems like there&#39;s no way out of this contract after all... Fucking great.

[[Return home...]]</tw-passagedata><tw-passagedata pid="418" name="Return home..." tags="" position="8700,1075" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-002.png&quot;&gt;
When you return home, the apartment feels oppressive at first. It takes you a good while and the whole night tossing in the bed to finally accept that this is your life now.

The next morning, you&#39;ve made up your mind. You need to focus on the positive things. The pay, doubled from your usual. And women all over the world have pretty much been doing what you just signed up to do... How bad can it be? After all, you&#39;ve already experienced how intense it gets...

But enough feeling sorry for yourself. Time to relax and think of something else.

[[Spend the holiday with your friends instead.|friends scene]]</tw-passagedata><tw-passagedata pid="419" name="Stare at the instructions" tags="" position="8350,1575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-010.png&quot;&gt;
So much for starting at 8 AM... It looks like your boss just changed it to 7 AM. Wait... That&#39;s the part you&#39;re focusing on? Fucking hell Jessica, he wants you to buy your own cage, collar and locks, and then crawl in there like a dog before he even gets to work! Every day!

Well... It&#39;s not like you&#39;re surprised, right? You should&#39;ve seen this coming. As you get ready for the day, showering, eating four breakfast, etc. you read through the instructions again and again. Each time you&#39;re equally baffled.

Then, at 8 AM, you&#39;ve gathered enough courage. It&#39;s time to buy the &quot;equipment&quot; that you&#39;ll need tomorrow. First, an innocent enough task, a cage and a dog&#39;s shock collar... People buy those kinds of things all the time, right? Nothing odd about that...

[[Head over to the pet store]]</tw-passagedata><tw-passagedata pid="420" name="Head over to the pet store" tags="" position="8350,1700" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-011.png&quot;&gt;
The local pet store is relatively close, and you head there with your car, realizing you won&#39;t be able to carry the cage all the way to the office without it.

You push open the door to the pet store, the bell above chiming softly as you step inside. The familiar scent of animals and hay fills your nostrils, and you take a deep breath, steeling yourself for what you&#39;re about to do. Your palms sweat nervously as you make your way down the aisles, your eyes scanning the shelves for what you need.

Finally, you spot it – a large metallic dog cage, gleaming under the bright lights. Your heart pounds in your chest as you approach it, trying to appear casual despite the rising anxiety in your gut.

[[Discreetly ensure the cage is big enough...]]</tw-passagedata><tw-passagedata pid="421" name="Toss the cage and collar into your car and continue shopping" tags="" position="8350,2075" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-013.png&quot;&gt;
Time for the padlocks and handcuffs... The local hardware store should have what you need, right? Where do people get their handcuffs from anyway... You drive there and enter the store, the scent of lumber and metal filling your senses. You swallow hard, your nerves already fraying at the edges as you make your way toward the security section.

Your eyes dart around nervously as you scan the shelves, searching for what you need. Finally, you spot them – two padlocks with keys and a pair of handcuffs, also lockable with a key. Your heart skips a beat as you reach out to grab them, your fingers trembling slightly at the touch of cold metal.

As you make your way to the checkout counter, your mind races with a mix of anticipation and dread. You can&#39;t believe you&#39;re actually doing this, buying these items. It&#39;s so out of character, so unlike you. It&#39;s for work... It&#39;s for work.... Calm down Jessica. And yet, there&#39;s a thrill coursing through your veins, an excitement at the thought of what you need to do with them at the office.

[[Head on over to the counter]]</tw-passagedata><tw-passagedata pid="422" name="Discreetly ensure the cage is big enough..." tags="" position="8350,1825" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-011.png&quot;&gt;
You glance around furtively, making sure no one is watching, before reaching out to test the size of the bars with your fingers. Satisfied that they&#39;re sturdy enough, you discreetly measure the width and height of the cage with your hands, comparing it to your measurements.

Next, you make your way to the section displaying dog collars, your cheeks burning with embarrassment. You sift through the rows of leather and nylon, trying to ignore the judgmental stares of the other shoppers. You&#39;re certain that they know you&#39;re not buying this for a dog... Finally, you find what you&#39;re looking for - a thick, black leather collar, with a built-in electric shocker. You pick it up, feeling the weight of it in your hand.

[[Discreetly ensure the collar is big enough...]]</tw-passagedata><tw-passagedata pid="423" name="Discreetly ensure the collar is big enough..." tags="" position="8350,1950" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-012.png&quot;&gt;
When no-one is looking, you discreetly wrap the collar around your own neck to test the size. It fits snugly, sending a shiver down your spine. You can&#39;t imagine the pain if someone triggers the shock... Hastily, you pull it off, your heart beating like a drum.

As you make your way to the checkout counter, you can feel the saleswoman&#39;s eyes judging you, seeing right through you. You try to keep your expression neutral as you place the cage and collar on the counter, avoiding her gaze at all costs.

The saleswoman gives you an odd look as she rings up your purchase, but she doesn&#39;t say anything. You breathe a sigh of relief as you hand over your credit card, grateful that you&#39;ll soon be out of this awkward situation.

As you leave the pet store, the weight of the cage and collar in your hands, you can&#39;t help but wonder what you&#39;ve gotten yourself into. But one thing&#39;s for certain – you&#39;re determined to see it through, no matter how uncomfortable it may be.

[[Toss the cage and collar into your car and continue shopping]]</tw-passagedata><tw-passagedata pid="424" name="Head on over to the counter" tags="" position="8350,2200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-013.png&quot;&gt;
You try to push those thoughts aside as you approach the salesman at the counter, but they linger at the back of your mind, taunting you with their forbidden allure. The salesman smiles at you, his eyes twinkling with amusement, and you can&#39;t help but feel like he knows what you&#39;re planning.

&lt;span class=&quot;steve&quot;&gt;&quot;Finding everything okay?&quot;&lt;/span&gt; he asks, his voice cheerful. You nod, unable to meet his gaze as you set the padlocks and handcuffs on the counter. Your cheeks a red hot with embarrassment, and you pray that he won&#39;t ask any questions.

But of course, he does. &lt;span class=&quot;steve&quot;&gt;&quot;Need to lock someone up?&quot;&lt;/span&gt; he asks jokingly, his smile widening. You force a laugh, trying to play it off as casual. &lt;span class=&quot;jessica&quot;&gt;&quot;Something like that.&quot;&lt;/span&gt; Your cheeks are burning up...

The salesman chuckles, his eyes lingering on the items before him. &lt;span class=&quot;steve&quot;&gt;&quot;Well, you know where to find us if you need anything else.&quot;&lt;/span&gt; he comments. You find yourself nodding, ears ringing, relieved that the transaction is almost over. As you hand over your credit card, you can&#39;t shake the feeling that the salesman sees right through you, knows exactly what you&#39;ll do with these items.

As you leave the hardware store, the weight of the padlocks and handcuffs in your bag, you can&#39;t help but feel a rush of relief, and at the same time, excitement. This is what you signed up for, right, when signing the contract? No need to be ashamed. It will be fun, right? Got to keep thinking about the positives here...

[[Take the items to the office]]</tw-passagedata><tw-passagedata pid="425" name="Take the items to the office" tags="" position="8350,2325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-015.png&quot;&gt;
Somehow, you&#39;re feeling more embarrassed the closer you get to the office. The hard part should&#39;ve been acquiring these things, surely? But no. Apparently the hard part if right now, taking these to your boss&#39;s room at the office...

Luckily, no-one&#39;s around. Work doesn&#39;t start until tomorrow, so you&#39;ve got the whole building to yourself. Or so you think. The security guard spots you as you&#39;re dragging your haul into the elevator. &lt;span class=&quot;william&quot;&gt;&quot;Miss? Do you need a hand?&quot;&lt;/span&gt; he comments, seeing you struggling with big cage. Then he raises an eyebrow. &lt;span class=&quot;jessica&quot;&gt;&quot;No no, truly, no hands needed here. Thank you very much...&quot;&lt;/span&gt; you stutter in panic, just wanting the guy to turn around and stop looking at all the cage and the gear... &lt;span class=&quot;william&quot;&gt;&quot;Alright, if you say so. Have a nice day now.&quot;&lt;/span&gt; he says, leaving you to your task. Urgh...

[[Take the elevator to the office]]</tw-passagedata><tw-passagedata pid="426" name="Take the elevator to the office" tags="MUSIC_CHANGE" position="8350,2450" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-016.png&quot;&gt;
Finally, you reach the floor where your boss has his office. Everything is in the cage, the handcuffs, the padlocks, the collar. And this all you now carry through the familiar corridors, reaching your boss&#39;s room. The door is unlocked, just for you. Great... With a nervous glance around the room, you enter, then place the cage in the left corner as instructed. For now, this is all you need to do. Tomorrow, you&#39;ll have to be here by 7 AM, inside the cage, with the collar, with the locks and handcuffs. In that moment you see it, the way things will play out here at the office. You&#39;re no longer a respected co-worker. You&#39;re the Office Slut. But only for a year, with a pretty good pay too... Enough to clear your student dept easily. Just got to make it through this one year...

[[For now, head home and come back tomorrow morning.]]</tw-passagedata><tw-passagedata pid="427" name="For now, head home and come back tomorrow morning." tags="" position="8350,2575" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-017.png&quot;&gt;
The next morning you wake up early, like the good employee you are. You freshen up, knowing what&#39;s expected of you, then drive over to the office well before 7 AM. For now, the office is mostly empty as you slowly approach your boss&#39;s room. There&#39;s only one other worker here at this hour... It&#39;s Daniel. He glances up from his desk when you walk past.

&lt;span class=&quot;daniel&quot;&gt;&quot;He-hey! Good morning. Didn&#39;t think you&#39;d show up!&quot;&lt;/span&gt; he teases, getting up from his desk and blocks your path. Why wouldn&#39;t he expect you at work? What exactly does he know? You remember the words on the contract, about the punishments that the men in the office are allowed to enforce on you if you don&#39;t behave. With that in mind, you decide to...

[[Be polite. Show him you&#39;re here to serve.]]

[[Walk past him and tell him your boss has an urgent task for you.]]</tw-passagedata><tw-passagedata pid="428" name="convo continue part 1" tags="" position="8025,1125" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-007.png&quot;&gt;
Monica&#39;s expression softens slightly, but you can still see the uncertainty in her eyes. She may not fully understand or approve, but at least you have Amber&#39;s and Lily&#39;s support. &lt;span class=&quot;jessica&quot;&gt;&quot;I mean the pay is really, really good, so I&#39;d have more financial stability...&quot;&lt;/span&gt; You continue, suddenly feeling a cloud of uncertainty.

Amber reaches for a marshmallow to top off her hot chocolate, her eyes sparkling with excitement. &lt;span class=&quot;amber&quot;&gt;&quot;Girl, go for it! Live a little!&quot;&lt;/span&gt; Lily nods reassuringly, her fingers absently tracing patterns on the arm of the sofa. &lt;span class=&quot;lily&quot;&gt;&quot;Yeah, if it&#39;s what you want, don&#39;t let anyone hold you back.&quot;&lt;/span&gt;

Monica leans forward, her hands clasped tightly in her lap. &lt;span class=&quot;monica&quot;&gt;&quot;But at what cost to your self-respect?&quot;&lt;/span&gt; Her question makes you pause for a moment. Then you answer honestly:

[[&quot;I don&#39;t know... I&#39;m still trying to wrap my head around it.&quot;]]</tw-passagedata><tw-passagedata pid="429" name="&quot;I don&#39;t know... I&#39;m still trying to wrap my head around it.&quot;" tags="" position="7900,1175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-008.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;I don&#39;t know... I&#39;m still trying to wrap my head around it.&quot;&lt;/span&gt; Your eyes dart between your friends, fingers twisting nervously the handle of your mug as you grapple with the weight of their words.

But Amber&#39;s grin just widens as she leans in closer to you, her hand squeezing your shoulder in a gesture of solidarity. &lt;span class=&quot;amber&quot;&gt;&quot;You do you, Jessica. Like Lily said, we&#39;ll support you no matter what.&quot;&lt;/span&gt;

Lily&#39;s smile remains gentle and encouraging as she adjusts the blanket around her shoulders. &lt;span class=&quot;lily&quot;&gt;&quot;Exactly. Just make sure it&#39;s what you truly want.&quot;&lt;/span&gt; At those words, Monica&#39;s lips form a thin line, her fingers tapping nervously against the armrest of the sofa. &lt;span class=&quot;monica&quot;&gt;&quot;I just hope you&#39;re not making a decision you&#39;ll regret.&quot;&lt;/span&gt;

Yeah, you do have doubts about this too.

[[Share your doubts with your friends]]</tw-passagedata><tw-passagedata pid="430" name="Share your doubts with your friends" tags="" position="7775,1225" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-007.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;It&#39;s not just about the money though... I mean, I&#39;ve always considered myself independent, capable of standing on my own two feet. But now, it feels like I&#39;m compromising that.&quot;&lt;/span&gt; You say, pondering your friends&#39; words, your gaze drifting to the flickering flames of the fire as you search for clarity. &lt;&lt;if $ch3_police_visit is true&gt;&gt;&lt;span class=&quot;jessica&quot;&gt;&quot;Besides, I can&#39;t get out of this contract anyway. According to the police, there&#39;s nothing the law can do about this. So I guess I&#39;m stuck, for a year, in this new role...&quot;&lt;/span&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;if $ch3_police_visit is true&gt;&gt;The room becomes silent for a moment, then Amber says: &lt;span class=&quot;amber&quot;&gt;&quot;Well, a year isn&#39;t that long...&quot;&lt;/span&gt; her voice drifts off. Lily shrugs, adding to Amber&#39;s thoughts: &lt;span class=&quot;lily&quot;&gt;&quot;Some do it for years. You&#39;ll be fine, Jess.&quot;&lt;/span&gt; To this, Monica tellingly says nothing. &lt;&lt;/if&gt;&gt;A thoughtful moment later, Amber says: &lt;span class=&quot;amber&quot;&gt;&quot;But why does it have to be a compromise? You&#39;re still independent, still capable. This is just another opportunity.&quot;&lt;/span&gt; Her expression softens as she speaks.

Monica glances out of the window, watching the swirling snow for a moment, then says with a firm tone: &lt;span class=&quot;monica&quot;&gt; &quot;Aren&#39;t we forgetting about? What about feminism? Aren&#39;t we all moving backward by accepting roles like this?&quot;&lt;/span&gt; Well, yeah, she could have a point there...

&lt;span class=&quot;jessica&quot;&gt;&quot;I never thought about it like that... Does this make me less of a feminist?&quot;&lt;/span&gt; Your eyes widened in realization as you grapple with the ramifications. Amber&#39;s eyes shine with passion as she answer that question: &lt;span class=&quot;amber&quot;&gt;&quot;No, not at all! Feminism is about choice, about having agency over your own life. If this is your choice, then it&#39;s feminist.&quot;&lt;/span&gt; Well, she&#39;s got a point too...

[[Agree with Monica|convo part 2]]

[[Agree with Amber|convo part 2]]

[[Ask for Lily&#39;s opinion|convo part 2]]</tw-passagedata><tw-passagedata pid="431" name="convo part 2" tags="" position="7775,1350" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-008.png&quot;&gt;
&lt;span class=&quot;lily&quot;&gt;&quot;Well, I think there&#39;s truth to both points of views here. This is as grey as zone as I&#39;ve seen...&quot;&lt;/span&gt; Lily concludes. Just then, Monica&#39;s gaze softens, her shoulders relaxing slightly. &lt;span class=&quot;monica&quot;&gt;&quot;But what about the message it sends? That women are only valued for their sexuality?&quot;&lt;/span&gt;

You see her point, replying: &lt;span class=&quot;jessica&quot;&gt;&quot;I don&#39;t want to perpetuate that stereotype, but at the same time, I need to take care of myself. Right now clearing my student dept is priority number one....&quot;&lt;/span&gt; Amber nods, like it&#39;s settled then. &lt;span class=&quot;amber&quot;&gt;&quot;Good! Cash in and have some fun while you&#39;re at it. Give me a call if there&#39;s a need for an &#39;extra&#39;, eh?&quot;&lt;/span&gt; She smiles and winks, giving you a mischievous grin. &lt;span class=&quot;lily&quot;&gt;&quot;Amber!&quot;&lt;/span&gt; Lily bursts out loud, laughing. Then all of you start laughing, the tension in the room broken like a spell. Maybe this won&#39;t so bad after all?

[[Continue spending time with your friends|convo continue]]</tw-passagedata><tw-passagedata pid="432" name="Be polite. Show him you&#39;re here to serve." tags="APPROVAL_+/-" position="8250,2700" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_daniel_approval to $ch3_daniel_approval - 1&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-017.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Good morning, Daniel. I see no reason why I shouldn&#39;t be at work.&quot;&lt;/span&gt; you begin, smiling. He&#39;s looking at your with amusement, like he&#39;s trying to assess you, judge you. &lt;span class=&quot;jessica&quot;&gt;&quot;Is there something I can... Help you with?&quot;&lt;/span&gt; you ask, lightly touching his elbow as you speak. You almost feel confident enough to look him in the eyes as you say these words. A soft whistle from Daniel rewards your boldness.

&lt;span class=&quot;daniel&quot;&gt;&quot;Wow... You really signed the new contract?&quot;&lt;/span&gt; he asks, eyeing you up and down like he sees you for the first time. You nod, your voice suddenly failing you. &lt;span class=&quot;daniel&quot;&gt;&quot;So I guess it&#39;s alright if I do this...&quot;&lt;/span&gt; he says, closing the distance between you. At first, you flinch, but you quickly remember your new role at the office. When Daniel&#39;s hand reaches out and caresses your ass, you...

[[Tell him it&#39;s more than alright.]]

[[Tell him it&#39;s not alright.]]</tw-passagedata><tw-passagedata pid="433" name="Walk past him and tell him your boss has an urgent task for you." tags="APPROVAL_+/-" position="8450,2700" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_daniel_approval to $ch3_daniel_approval + 1&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-018.png&quot;&gt;
You tell him your boss has an important task for you, and push past him. Daniel doesn&#39;t stop you, but gives you a sneer. Then he calls from behind you: &lt;span class=&quot;daniel&quot;&gt;&quot;I&#39;ll remember that... Slut.&quot;&lt;/span&gt; Great. He knows. And he&#39;s pissed... But right now, you have bigger fish to worry about. In this case, your boss...

[[Head to your boss&#39;s office]]</tw-passagedata><tw-passagedata pid="434" name="Head to your boss&#39;s office" tags="" position="8350,3050" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-016.png&quot;&gt;
You step into your boss&#39;s office, the 15th floor view stretching out before you through the expansive floor-to-ceiling windows. Your heart races, anticipation and dread mingling with apprehension as you take in the familiar yet foreboding space.

Right. Nothing to it then. You have a request to fulfill...

[[Remove your clothes, like the good office slut you are.]]</tw-passagedata><tw-passagedata pid="435" name="Tell him it&#39;s more than alright." tags="APPROVAL_+/-" position="8125,2825" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_daniel_approval to $ch3_daniel_approval + 1&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-019.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Yeah, I don&#39;t mind. I&#39;m here to serve, after all.&quot;&lt;/span&gt; you explain, standing your ground, letting Daniel slowly massage your left asscheek. He looks pleased.

&lt;span class=&quot;daniel&quot;&gt;&quot;Well! This will be fun. Go on then, I know the boss has a special request for you...&quot;&lt;/span&gt; he says, taking his hand away from your ass, returning to his desk. He knows about that too!? Well, no secrets in this office anymore, huh?

[[Head to your boss&#39;s office]]</tw-passagedata><tw-passagedata pid="436" name="Tell him it&#39;s not alright." tags="APPROVAL_+/-" position="8250,2825" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_daniel_approval to $ch3_daniel_approval - 1&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-018.png&quot;&gt;
&lt;span class=&quot;jessica&quot;&gt;&quot;Look, just because I signed a contract doesn&#39;t mean anyone can just do anything at any time they want. We&#39;ll establish rules, boundaries, that sort of thing...&quot;&lt;/span&gt; you explain, taking a step back. Daniel doesn&#39;t look amused.

&lt;span class=&quot;daniel&quot;&gt;&quot;We&#39;ll see about that. Go on then, I know the boss has a special request for you...&quot;&lt;/span&gt; he says, returning to his desk. He knows about that too!? Well, no secrets in this office anymore, huh?

[[Head to your boss&#39;s office]]</tw-passagedata><tw-passagedata pid="437" name="Remove your clothes, like the good office slut you are." tags="" position="8350,3175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-020.png&quot;&gt;
Why did you even bother putting on nice clothes today, when you knew you&#39;re supposed to strip down to your bra and underwear? Well, nevermind that... You&#39;ve gotten quite used to stripping down at the office by now.

You leave your high heels by the door, then pull down your skirt and unbutton your blouse, leaving them in a neat pile on your boss&#39;s desk. You&#39;re almost certain that other people in other buildings can see you here, half-naked in your boss&#39;s office, since the windows in the room stretch across the whole wall, from floor to ceiling. You try to calm yourself by reminding yourself that they don&#39;t know who you are, even if they see you...

Next, you turn your attention to the collar. First, you place the trigger to the electric shocker in the middle of the room. Then, with a trembling hand, you reach for the collar waiting in the cage, feeling the rough leather against the skin of your fingers.

[[Put the shock collar on, like the good dog you are.]]</tw-passagedata><tw-passagedata pid="438" name="Put the shock collar on, like the good dog you are." tags="" position="8350,3300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-021.png&quot;&gt;
It feels even rougher against your skin as you fasten it securely around your neck. It&#39;s a strange sensation, the weight of it serving as a constant reminder of your current predicament. The metallic and plastic surface of the electric shocker on the left side of your neck is cool on your skin.

Next, you grab the keys to your handcuffs, the jingle echoing in the quiet room as you place them deliberately in the center of the polished floor. Each movement is deliberate, calculated, following the script your boss gave you. You&#39;ve read it so many times by now that you know it by heart.

Your gaze returns to the metal cage nestled in the corner, its presence ominous. Hesitating, you make your way toward it, the sound of your naked feet echoing softly, barely audible, against the pristine floors.

[[Crawl into the cage. You know you want to.]]</tw-passagedata><tw-passagedata pid="439" name="Crawl into the cage. You know you want to." tags="" position="8350,3425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-022.png&quot;&gt;
It&#39;s a strange feeling, doing this. But you&#39;ve gotten pretty good at following these kinds of instructions, haven&#39;t you? You&#39;re doing this for the money, but also for the thrill, right? &lt;&lt;if $ch3_police_visit is true&gt;&gt;And also, because you&#39;re stuck with this contract for a year...&lt;&lt;/if&gt;&gt;

You crawl on all fours and enter the cage. A sense of confinement settles over you, the bars enclosing around you. With a deep breath, you close the door behind you, then reach with your fingers through the bars to close the latch. It&#39;s more tricky than you thought, doing it from the inside, but you manage to do it with trembling fingers. The click sends a shiver down your spine. It&#39;s not locked yet though, this is just to keep a dog inside...

The cage is barely large enough for you, and you twist and turn until you find the items you need. You retrieve the padlock and its key, then face the cage door once more. You&#39;re really doing this, aren&#39;t you? But you&#39;re getting second thoughts. Maybe you should just fuck all of this, get out and run... Fuck the contract.

[[You want to see where this goes - lock the door to the cage]]

[[You can&#39;t do it - Get out now, leave the office and fuck all of this!]]</tw-passagedata><tw-passagedata pid="440" name="You want to see where this goes - lock the door to the cage" tags="" position="8350,3550" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-023.png&quot;&gt;
You can do it. It&#39;s scary, terrifying even, but you reach out, padlock and its key in hand. You steel yourself, trying to get your shaking hands calmed and steady. Then, you open the padlock, guiding it through the metal bars where the door and the cage meet. Then, with an oddly loud click, you lock it tight, twisting the key as you do. When you slide the key out of the lock, there&#39;s almost something sensual about it. Erotic even. You literally just gave up your freedom for your boss, sitting here on your knees in a dog cage, half-naked for his pleasure.

Just a final detail to attend to... You know that when you do this, there&#39;s no going back.

[[Throw the key to the padlock to the middle of the room]]

[[You can&#39;t do it - Get out now, leave the office and fuck all of this!]]</tw-passagedata><tw-passagedata pid="441" name="You can&#39;t do it - Get out now, leave the office and fuck all of this!" tags="MUSIC_CHANGE" position="8050,3400" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $ch3_kidnapped_from_ch3 to true&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;danger2&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-027.png&quot;&gt;
Yeah fuck this. What were you thinking? &lt;&lt;if $ch3_reveal_to_friends is true&gt;&gt;Monica was right all along, questioning this whole setup. &lt;&lt;/if&gt;&gt;Why would you do this to yourself? Do you actually need the money that badly?

As the reality of your actions sinks in, a surge of regret floods your senses, overpowering the fear and resignation that had gripped you moments before. With sudden clarity, you realize the gravity of what you&#39;ve done and the implications it holds for your future.

Without a moment&#39;s hesitation, you turn your attention back to the metal bars of the cage that loom ominously before you, a physical barrier to your freedom that you now see with newfound clarity. With trembling hands, you fumble to open the door, your heart pounding in your chest. Each second feels like an eternity as you grapple with the latch, desperation lending strength to your trembling fingers.

Then finally, you swing the cage door open, relief flooding through you like a tidal wave. The key to the collar is right there, and you unlock it with without hesitation. Then you hastily put on your clothes.

Without a backward glance, you bolt from the office, the sound of your high heels clicking through the mostly empty corridors as you race toward the elevator, punching the ground floor button, frantically pressing the button that closes the door. Daniel comes rushing towards you from the corridor, &lt;span class=&quot;daniel&quot;&gt;&quot;Hey, what do you think you&#39;re...&quot;&lt;/span&gt; his voice is abruptly cut off as the doors to the elevator slide shut.

As they do, you lean against the cool metal walls, your breath coming in ragged gasps as you try to steady yourself. The weight of your actions hangs heavy on your shoulders, a constant reminder of the choices you&#39;ve made and the consequences you now face. You may have made a mistake, but you refuse to let it define your future. As the elevator descends, you resolve to reclaim control of your life, no matter the cost.

[[Drive home as fast as you can.]]</tw-passagedata><tw-passagedata pid="442" name="Throw the key to the padlock to the middle of the room" tags="" position="8350,3675" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-023.png&quot;&gt;
You aim and throw the key. It lands with a metallic clink amidst the keys to your handcuffs, then sits there, taunting you, a silent testament to your surrender. This is it. You&#39;re stuck now. No going back. No complaining. Your first day as the Office Slut has begun. Time to play the part and see where it leads you. You&#39;ll be a good girl. Yes, you will...

Next, you try to recall what you were supposed to do. Right, lock the collar to the ceiling of the cage. That&#39;ll leave you quite immobile, like the cage itself wasn&#39;t enough. You glance at the clock in the far end of the room. 6:45. Your boss will be here soon, expecting to see all of the steps completed. No point hesitating now: You&#39;re at his mercy as it is, stuck in the cage as you are. Might as well...

[[Secure the collar to the ceiling with a padlock]]</tw-passagedata><tw-passagedata pid="443" name="Secure the collar to the ceiling with a padlock" tags="" position="8350,3800" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-024.png&quot;&gt;
You secure the collar to the cage&#39;s ceiling, the padlock clicking shut with finality. As you stand there, your neck encased in leather, a surge of conflicting emotions floods your mind. Fear, uncertainty, and a strange sense of resignation intertwine, each vying for dominance.

You can&#39;t help but wonder how you ended up in this surreal situation, locked within your boss&#39;s office, high above the city streets below. The weight of the collar serves as a constant reminder of your vulnerability, a physical manifestation of the power dynamics at play.

Closing your eyes for a moment, you draw in a shaky breath, steeling yourself for what comes next. The sound of your own heartbeat fills the silence, a steady rhythm against the backdrop of uncertainty.

[[Throw the key to the padlock to the middle of the room as well]]</tw-passagedata><tw-passagedata pid="444" name="Throw the key to the padlock to the middle of the room as well" tags="" position="8350,3925" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-025.png&quot;&gt;
With trembling hands, you reach out to throw the key to the padlock into the center of the room, the metallic clatter echoing in the stillness. It&#39;s a symbolic gesture, an acknowledgment of your surrender. You&#39;re giving complete control to your boss, and you&#39;re ok with it.

As you stand there, bound by circumstance and choice, you can&#39;t help but wonder what awaits you on the other side of this ordeal. But for now, all you can do is wait, your fate hanging in the balance. Just like you&#39;re hanging from the ceiling of the cage from your neck.

As you reach for the final pair of restraints, a heavy sense of resignation settles over you like a suffocating blanket. The cold metal of the handcuffs feels like an extension of the confinement that surrounds you, biting into your skin as you secure them behind your back onto your left wrist. You only get one chance to do this right, since the key to the handcuffs are already in the middle of the room, out of reach...

[[Pull the handcuffs through the bars in the ceiling of your cage.]]</tw-passagedata><tw-passagedata pid="445" name="Pull the handcuffs through the bars in the ceiling of your cage." tags="MUSIC_CHANGE" position="8350,4050" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;bad_ending&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-026.png&quot;&gt;
As you lift your bound hands toward the ceiling of the cage, a sense of defeat washes over you. It&#39;s a symbolic gesture, the handcuffs tethering you to this surreal existence in ways both physical and psychological. The final click of the cuffs locking around your right wrist does it. You&#39;re locked into place. A sense of helplessness washes over you, warm in your chest. It&#39;s a stark reminder of your lack of agency in this situation, a stark contrast to the freedom you&#39;ve been used to all your life. But it also feels... Good. You decided to be here.

You could&#39;ve said fuck it to all of this, yet here you are. Bound inside a cage with a locked door, half-naked, on you knees. A shock collar around your neck, locked to the ceiling of the cage with a padlock. And your hands are locked behind your back to the ceiling of the cage as well, with a pair of handcuffs. And the keys to all the locks sit in the middle of the room, for your boss to do with as he pleases. Maybe he&#39;ll leave you in here the whole day, an easy first day? But no, you doubt that. He wouldn&#39;t be paying you this much just to look at you helplessly bound like this. No, he intends to do something else. Something more. Something that, for reason beyond your comprehension, makes your wet between your legs... 

You can&#39;t help but wonder what lies ahead, beyond the confines of this cage and the chains that bind you. But for now, all you can do is surrender to the inevitable and wait. And there you sit on your knees, bound by circumstance and choice, a silent figure in the room, waiting for you boss to use his Office Slut, in any way he wants...

[[Wait for your boss, like the good slut you are...]]</tw-passagedata><tw-passagedata pid="446" name="Drive home as fast as you can." tags="" position="7900,3325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-028.png&quot;&gt;
Luckily, there&#39;s little traffic this early in the morning and you arrive home just in time as the hyperventilation kicks in. As you burst through the door of your apartment, panic courses through your veins. Your breath comes in ragged gasps as you stumble into the living room, trying to calm yourself down.

Almost half an hour later, you manage to finally calm down enough to reach for your phone, fingers fumbling against the sleek surface as you call one of your friends: Amber is the first in the contact list, so that&#39;s who you call. Each ring feels like an eternity as you wait for her to pick up, desperation clawing at the edges of your consciousness. You need her help you make sense of the chaos that has engulfed your life.

&lt;span class=&quot;jessica&quot;&gt;&quot;Come on, come on.&quot;&lt;/span&gt; you mutter under your breath, the sound of your own voice barely registering over the pounding of your heart. Finally, a voice crackles to life on the other end of the line. &lt;span class=&quot;jessica&quot;&gt;&quot;Amber? I think I fucked up at work. I don&#39;t know what to do...&quot;&lt;/span&gt; Your voice is shaking with fear and uncertainty as you explain what you did. Amber listens patiently, then promises to contact Lily and Monica. They&#39;ll all come to you as fast as possible, just stay calm for now, she urges.

[[Hang up the phone and wait for your friends.]]</tw-passagedata><tw-passagedata pid="447" name="Hang up the phone and wait for your friends." tags="" position="7750,3225" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/3-029.png&quot;&gt;
You hang up, slumping down in the couch, hugging your knees as you stare blankly at the wall at the opposite end of your living room. Your mind is a chaotic sea of thoughts, but only a single coherent one emerges: Wait for your friends, they&#39;ll know what to do. Wait for your friends...

And that you do. A few minutes later, the doorbell rings. They&#39;re here! You rush to the door, throwing it wide open. &lt;span class=&quot;jessica&quot;&gt;&quot;Finally, come...&quot;&lt;/span&gt; you say, your relief freezing solid in panic as you see three men wearing masks rush into your apartment.

Strong arms wrap around you as a cloth is pressed hard against your face. The world spins dizzily around you as darkness swallows you whole. You try to fight it, thrashing and kicking, but you helplessly slip into unconsciousness.

[[Darkness engulfs you|start chapter 2]]</tw-passagedata><tw-passagedata pid="448" name="Wait for your boss, like the good slut you are..." tags="" position="8350,4175" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-030.png&quot;&gt;
Minutes go by, and your predicament feels increasingly uncomfortable. The fact that your collar is attached to the ceiling of the cage means you can&#39;t relax for a moment, unless you want to choke. And your handcuffs behind your back are firmly tied to the cage too, digging into the flesh of your wrists.

Before long you&#39;re shaking, sweating and desperate for anything to happen, anything at all! Then, footsteps. The sound of a door opening. Finally! You&#39;ve never been so happy to see someone as you are right now, a strange thought indeed considering you&#39;re half-naked and tied up in a dog&#39;s cage...

&lt;span class=&quot;boss&quot;&gt;&quot;Well well. You truly are just as slutty as Henry said. You made quite the impression on him, and I must say, on me.&quot;&lt;/span&gt; You boss comments as he enters his office, glancing down at you - his priced pet in the corner. You still can&#39;t believe you actually put yourself in here willingly. You really are a slut, aren&#39;t you? &lt;span class=&quot;boss&quot;&gt;&quot;This must be the control to your shock collar...&quot;&lt;/span&gt; he comments, more to himself than you, as he picks up the switch...

Just as you&#39;re about to say something, your boss shushes you. &lt;span class=&quot;boss&quot;&gt;&quot;Today, you&#39;re only allowed to say one thing: Yes, Sir. That&#39;s it. Do you understand?&quot;&lt;/span&gt; he says, finger idly on the button of the shock collar. Nervous, but at the same time curious, you say...

[[&quot;Yes, Sir.&quot;]]

[[&quot;No, Sir.&quot;]]</tw-passagedata><tw-passagedata pid="449" name="&quot;Yes, Sir.&quot;" tags="" position="8300,4300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-030.png&quot;&gt;
You can feel how submissive you are, to the very core of your being. You like the way he treats you. How he makes you feel. &lt;span class=&quot;boss&quot;&gt;&quot;Very good. Now, let me introduce you, in your willing state, to a few people...&quot;&lt;/span&gt; he says, opening the door to his office. In walks Steve and Daniel. And a third person. Your eyes grow wide when you recognize who it is. Mr. Fjord!

&lt;span class=&quot;william&quot;&gt;&quot;My god, I didn&#39;t think you were serious. She actually got in there willingly and locked herself up like that?&quot;&lt;/span&gt; William Fjord comments, kneeling down right in front of you, admiring your half-naked bound body. &lt;span class=&quot;boss&quot;&gt;&quot;Quite. Here she was, waiting for me to start my day. Would you want a sample? A gift, as it were, to celebrate our business deal.&quot;&lt;/span&gt; Your boss asks. Deal? Wait, what? Did Mr. Fjord get around to signing the deal after all... With who? What about your bonus!? Mr. Fjord was your client...

&lt;span class=&quot;william&quot;&gt;&quot;Ohho! It looks like she&#39;s about to pop a vein.&quot;&lt;/span&gt; William comments, staring you straight in the eyes, provoking you. &lt;span class=&quot;william&quot;&gt;&quot;I hear you&#39;re only allowed to say Yes Sir, little slut. Do you want me to call you that? Little Slut?&quot;&lt;/span&gt; he says. You glance at your boss, who has a hand on the shock collar trigger, then back at Mr. Fjord... Finally, you manage to stutter...

[[&quot;Yes, Sir.&quot;|yes sir 2]]

[[&quot;Mr. Fjord was my client! If he signs a deal, he should do it with me!&quot;]]</tw-passagedata><tw-passagedata pid="450" name="&quot;No, Sir.&quot;" tags="" position="8425,4300" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-030.png&quot;&gt;
You deliberately say No, because you&#39;re too curious. How much will the electricity hurt? Your boss smiles, realizing what you&#39;re doing. &lt;span class=&quot;boss&quot;&gt;&quot;Getting punished makes you wet, doesn&#39;t it? Very well, this one time I will reward you with what you want. But the punishments won&#39;t be enjoyable after this.&quot;&lt;/span&gt; he says, changing some settings on the shock collar&#39;s trigger. Then a jolt zaps through you. &lt;span class=&quot;jessica&quot;&gt;&quot;Ouch, fuck!&quot;&lt;/span&gt; you gasp, hitting your head in the ceiling of the cage as you spasm. The shock lasts less than a second, but you feel the effects long after.

&lt;span class=&quot;boss&quot;&gt;&quot;There. Did you enjoy it?&quot;&lt;/span&gt; he asks. You&#39;re about to say that it hurt like a mother-fucker, when you realize what he&#39;s doing. He&#39;s probing you for a response, trying to make you say something else than Yes, Sir. Well, he almost had you there. Not wanting to get zapped again, you say...

[[&quot;Yes, Sir.&quot;]]</tw-passagedata><tw-passagedata pid="451" name="yes sir 2" tags="" position="8225,4425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-030.png&quot;&gt;
Little Slut. Yes, that&#39;s what you are... Nothing more. &lt;span class=&quot;william&quot;&gt;&quot;She learns quickly.&quot;&lt;/span&gt; William comments. &lt;span class=&quot;boss&quot;&gt;&quot;Let&#39;s take you for a spin, shall we?&quot;&lt;/span&gt; Your boss announces, handing over the keys to your locks to Daniel. He approaches, a smile on his lips, opening the first padlock to your cage door. Then he unlocks the padlock keeping your collar firmly locked to the ceiling of the cage. Finally, he reaches through the bars of the cage from above, opening your handcuffs.

With a gasp, you&#39;re free. But not from the shock collar. &lt;span class=&quot;boss&quot;&gt;&quot;Crawl out of there, slut. Bend over my desk, spread your legs and put your hands on your ass.&quot;&lt;/span&gt; Your boss orders. This is what you signed up for, isn&#39;t it? With your boss&#39;s hand on the trigger to your shock collar, and four horny men surrounding you, you realize there&#39;s literally nothing you can do than comply at this point...

[[Crawl over to his desk, then stand up and bend over it like the willing slut you are.]]</tw-passagedata><tw-passagedata pid="452" name="&quot;Mr. Fjord was my client! If he signs a deal, he should do it with me!&quot;" tags="" position="8375,4425" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-030.png&quot;&gt;
Your little show of defiance is not met with amusement. A painful shock courses through you, leaving you numb, mouth hanging open with drool spilling onto the cage floor. &lt;span class=&quot;boss&quot;&gt;&quot;Remember your place, slut. You no longer work at this office as a regular employee. You&#39;re just a fuck toy.&quot;&lt;/span&gt; Your boss reminds you. But you barely hear what he says over the ringing in you ears...

Mr. Fjord smiles at you. &lt;span class=&quot;william&quot;&gt;&quot;I&#39;ll ask again. Do you want me to call you Little Slut?&quot;&lt;/span&gt; his voice is smooth, unbothered by the fact that you&#39;re drooling and gasping for air. Something breaks inside of you in that moment. You accept your fate when you see how this is going to go... Weakly, you manage to say:

[[&quot;Yes, Sir.&quot;|yes sir 2]]</tw-passagedata><tw-passagedata pid="453" name="Crawl over to his desk, then stand up and bend over it like the willing slut you are." tags="" position="8225,4550" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-031.png&quot;&gt;
It feels surreal, crawling on all fours out of the cage, William Fjord, Steve and Daniel, and your boss all watching you from above, sneering down at you, smiling at your submissiveness. In that moment you realize that you&#39;re getting wet from their attention. You want this... Whatever this, is.

You reach the desk. Slowly, you manage to stand up, your knees weak and shaking from sitting in the cage in that uncomfortable position for so long. Then, with a final glance around the room, all four met waiting for you, you do it. You bend over the wooden desk, your breasts and face pressed against the hard surface. Then, you willingly spread your legs wide. Breathing harder and faster, you feel your pulse going through the roof as you bring your arms behind your back, placing both your hands on your ass in a submissive gesture.

[[Then you wait...]]</tw-passagedata><tw-passagedata pid="454" name="Then you wait..." tags="" position="8225,4675" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/ch3/3-032.png&quot;&gt;
&lt;span class=&quot;daniel&quot;&gt;&quot;Now that&#39;s a proper slut! Very well trained indeed!&quot;&lt;/span&gt; Daniel comments. A muted discussion follows, which you can&#39;t quite hear, but you remain there, bent over your boss&#39;s desk with your legs spread out. Then, you hear them approaching...

Your legs are momentarily pressed together, and your panties are pulled down roughly. Then, your legs are returned to their spread position.
You do not protest. This is what you do now, what you are. 

Then, you&#39;re lifted from the desk just an inch. They remove your bra.
You do not protest. This is what you want. You&#39;re their toy.

One of them, you don&#39;t know who, puts the handcuffs back on you, locking your hands behind your back.
You do not protest. You&#39;re theirs to do with as they please. You know it. They know it.

The men momentarily leave you alone, their clothes coming off in a flash. Then, Daniel jumps up on the desk, completely naked with a hard erection. You&#39;re lifted by your collar by someone behind you, and Daniel sits down and shuffles over so that he sits at the edge of the desk, his erect member right in front of your face. You glance up at him, feeling strong hands holding you from behind, Daniel&#39;s own hand reaching out to grab your hair. His penis throbs with excitement.

&lt;span class=&quot;daniel&quot;&gt;&quot;Would you like to suck my cock, slut?&quot;&lt;/span&gt; Daniel asks, his cock merely an inch from your mouth. If there was a part of you that was going to say no to this, then surely it would&#39;ve spoken up in that moment. But instead, you willingly, hornier than you&#39;ve been in your entire life, say:

[[&quot;Yes, Sir.&quot;|yes sir 3]]
</tw-passagedata><tw-passagedata pid="455" name="yes sir 3" tags="" position="8225,4800" size="100,100">As soon as you say it, you reach for his cock with your mouth, trembling with anticipation. The men behind you helpfully let you lean forward as Daniel guides your lips to meet his cock. It slides in, filling you with its salty taste. &lt;span class=&quot;daniel&quot;&gt;&quot;Ahh, fuck...&quot;&lt;/span&gt; Daniel grunts as he takes control of your head. It feels good when he does. Euphoric. Freeing.

And you&#39;re rewarded. His cock slides into your mouth in deep thrusts as Daniel brings you down onto his shaft again and again. Then, a hard slap on your ass reminds you that there are men in line behind you. &lt;span class=&quot;william&quot;&gt;&quot;The bitch is soaking wet! Don&#39;t mind if I do...&quot;&lt;/span&gt; You hear Mr. Fjord say behind you over the slurping sound of Daniel&#39;s cock penetrating your throat. Mr. Fjord slides his cock inside of you in a smooth motion that sends shivers throughout your body. Your eager and wet pussy embraces his cock, hugging it tight. His thrusts send you to heaven, and for a moment you forget that Daniel&#39;s cock is deep inside your throat in that very same moment. Then Mr. Fjord starts pounding you, his thrusts rocking your body onto Daniel&#39;s cock.

This feels too good... Why haven&#39;t you done this before? Just let all the men at the office use you like this... Those are the thoughts going through your mind as you give in to the pleasure of serving the men, knowing that Steve and your boss are next in line, all here to please you, and you them...

[[Enjoy the sensation of being spit roasted by Mr. Fjord and Daniel...]]</tw-passagedata><tw-passagedata pid="456" name="Enjoy the sensation of being spit roasted by Mr. Fjord and Daniel..." tags="" position="8225,4925" size="100,100">You cum before either of the men do, your legs weakening under you as you surrender to the pleasure. But their pounding continues, bringing you to another high. This time they join you, their grunts of appreciation betraying their intentions. Daniel fills your mouth with his seeds, which you realize you gulp down hungrily, wanting more. Then Mr. Fjord thrusts into you hard, burying his shaft into your pussy as he shoots his load into you. You sigh with satisfaction, even both of them pull out of you, yours and their fluids running down your chin and the insides of your legs.

&lt;span class=&quot;william&quot;&gt;&quot;The little slut really enjoys this, doesn&#39;t she?&quot;&lt;/span&gt; William comments and gives your ass a final slap before he steps away, giving room to your boss and Steve. Daniel jumps down from the desk too, a smirk on his face. And you, you remain where you are, legs spread out, once again leaning against your boss&#39;s desk for support. You&#39;re naked, dripping wet with shaking legs, trembling for more. &lt;span class=&quot;steve&quot;&gt;&quot;This has been entertaining, however, I must get back to work...&quot;&lt;/span&gt; Steve suddenly says, apologetically. From the corner of your eye you see him leaving, rushing out of the room. No-one tries to stop him. &lt;span class=&quot;daniel&quot;&gt;&quot;What got into him?&quot;&lt;/span&gt; Daniel wonders as he begins dressing himself once more.

&lt;span class=&quot;boss&quot;&gt;&quot;I hear Steve is rather particular about how he likes it. His wife told me that when we were... Nevermind that. My turn. Mr. Fjord, Daniel, I&#39;ll meet you two later at lunch alright? We&#39;ll continue discussing the finer details of the proposal.&quot;&lt;/span&gt; Your boss says, dismissing them both. They pick up their stuff, get dressed and head out, leaving you alone with your boss in his office.

[[Your boss approaches you]]</tw-passagedata><tw-passagedata pid="457" name="Your boss approaches you" tags="" position="8225,5050" size="100,100">His touch on your asscheeks are cool, soft, collected. Trembling, you remain still, hands still cuffed behiind your back, legs spread out widely, helpfully giving full access to anything your boss desires.

And what he desires quickly becomes apparent. A bottle of something, lube you quickly realize, is shoved into your surprised asshole. Squirming, you yelp, but your boss pins you down, filling your ass with lubrication against your will. &lt;span class=&quot;boss&quot;&gt;&quot;It&#39;s Yes Sir, or not a word, slut.&quot;&lt;/span&gt; he reminds you, his firm grip loosening a little. Defeated, and now that the initial shock has worn off, rather curious, you remain silent, mouth shut. You can still feel Daniel&#39;s cum in your mouth, feel the stickiness of it on your lips, your cheeks and your chin...

Then your boss pulls out the bottle, discarding it. And without a word, slides himself inside of your unprotected, lubed-up hole. The one where no dick is supposed to go, yet since yesterday has been intimately familiar with having things shoved inside of it. It&#39;s a raw sensation, but oddly relaxing when you give into it, realizing this is your life now and there&#39;s no point trying to resist this.

His cock feels tight, your ass clenching itself around it in a desperate attempt to get it out. But with the lube, and his thrusts, it only succeeds in giving him pleasure. Your hole is simply too small for his dick, and it is only with luck and lube this doesn&#39;t hurt... Or maybe it doesn&#39;t hurt because you like it? The thought makes you blush, while your boss continues pounding you from behind, pressing you hard against his desk. The wooden desk bites into your thighs, your breasts flattened against the smooth surface. And your face, your lips, brush against the wood, smearing a mix of your drool and Daniel&#39;s cum all over your boss&#39;s desk. It feels good to be used like this. And you...

[[... you like being your boss&#39;s little slut...]]</tw-passagedata><tw-passagedata pid="458" name="... you like being your boss&#39;s little slut..." tags="ENDING" position="8225,5175" size="100,100">You close your eyes as he presses you hard against his desk, pounding your delicate hole with his cock, letting the feeling wash over you. You&#39;re fully relax, your anus welcoming him openly. Is this bliss? Are you in heaven? Your boss and you reach a climax at the same time when he delivers his load with a grunt straight into your ass, thrusting a few more times for good measure. You had no idea you could orgasm from being fucked in the ass...

He pulls away from you and begins cleaning himself up with a towel. You&#39;re too weak to move, however. So instead, you remain lying on his desk, hands cuffed behind your back, your ass leaking lubrication and semen down the back of your legs.

&lt;span class=&quot;boss&quot;&gt;&quot;Consider this a test drive, Jessica. You can take the rest of the day off, as a reward.&quot;&lt;/span&gt; your boss says, pulling up his pants. Then he approaches you, unlocking your handcuffs and removing the shock collar around your neck. With his permission, you finally slump down onto the floor, where you catch your breath, exhausted to your very bones. &lt;span class=&quot;boss&quot;&gt;&quot;Same time tomorrow. Same place, same position.&quot;&lt;/span&gt; he says, pointing at the cage in the corner of his office. Right. Of course... Then he leaves you alone in his office, naked and wet, but not before patting you softly on the cheek, a smile on his face. As he walks away, you realize that you&#39;re already looking forward to tomorrow...


The end.

Ending #4 - Office Slut. You&#39;ve accepted your role as the Office Slut. The men in the office will want to use you often, now. And you like it...

You can restart the game from the configuration menu.</tw-passagedata><tw-passagedata pid="459" name="alternative chapter 1 path" tags="" position="1100,2200" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/005_MAN_PANTS.png&quot;&gt;You curl up on the bathroom floor, ignoring the man. Minutes go by and you remain on the floor, helplessly waiting for the man to go away. The man talks to you the whole time, pointing out that he&#39;s got the whole holiday to wait... Do you, though? Already, you&#39;re getting hungry... Your last meal was at lunch, and it&#39;s already late in the evening...

You have no idea how much time passes, but it feels like hours. Probably not nearly as much as that though... The smell of a delicious sandwich travels to your nose, and you hear the man eating on the other side of your stall. The bastard! Your rumbling belly decides to betray you then.

&lt;span class=&quot;man&quot;&gt;&quot;Hungry? I can hear your empty stomach all the way out here.&quot;&lt;/span&gt; the man comments while he chews on what must be the best sandwich in the world. You don&#39;t know what comes over you, but you decide to answer truthfully...

[[&quot;Yes...&quot;]]</tw-passagedata><tw-passagedata pid="460" name="&quot;Yes...&quot;" tags="" position="950,2250" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/005_MAN_PANTS.png&quot;&gt;Your revelation is met by amusement. &lt;span class=&quot;man&quot;&gt;&quot;Tell you what, I&#39;ll give you the rest of this sandwich, if you start doing as I say.&quot;&lt;/span&gt; the man says, your tormentor, your captor... Your aching stomach demands attention though.

You decide to assess your situation. You&#39;re locked in here, alone in the office, over the whole holiday. There&#39;s not going to be any janitors, cleaning personnel or office workers visiting for many days. Which means, the man can keep you locked in here without food and water for a long time. You&#39;re already growing weak from not eating, and strength is what you need if you wish to keep your wits about you and have a chance of getting out of this situation. Waiting things out until you can&#39;t stand on your own legs because you&#39;re so hungry is not an option.

There&#39;s really only one thing to do. Comply to his latest request... &lt;span class=&quot;jessica&quot;&gt;&quot;Fine... Give me the sandwich...&quot;&lt;/span&gt; you whisper. You hear an amused scoff, then he pushes a plate with a half-eaten sandwich to you underneath the stall.

[[Eat the delicious sandwich...]]</tw-passagedata><tw-passagedata pid="461" name="Eat the delicious sandwich..." tags="" position="800,2325" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/005_MAN_PANTS.png&quot;&gt;You don&#39;t care that half of the sandwich is gone, the man&#39;s bite-marks clearly visible in the bread. You&#39;re too hungry and devour it in less than a minute. Thankfully the man even pushes a bottle of water to you, which you accept.

&lt;span class=&quot;man&quot;&gt;&quot;Your turn.&quot;&lt;/span&gt; the man comments, waiting. You know what to do... The question is, now that you got some food in your system, you can hold on for a while longer. You decide to...

[[Tell the man to go fuck himself.]]

&lt;&lt;link $jessicaOptionReply $jessicaOptionLink&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="462" name="Tell the man to go fuck himself." tags="REFUSAL MUSIC_CHANGE" position="675,2400" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;set $refusals to 12&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;danger1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/010_STRUGGLE.png&quot;&gt;You feel strong again, and defiant. &lt;span class=&quot;jessica&quot;&gt;&quot;Fuck you asshole! You really think I&#39;ll just to what you want because you gave me a sandwich? Go fuck yourself already and leave me alone!&quot;&lt;/span&gt; you shout, feeling angry. But the man just laughs at you, making you crawl back into your skin, your defiance replaced by confusion and helplessness in an instant.

&lt;span class=&quot;man&quot;&gt;&quot;Fine, let&#39;s do this your way. The hard way...&quot;&lt;/span&gt; the man says. The what? Just then then door to your stall opens and a masked man stands before you. He has a cloth in his hand, and he lunges at you. &lt;span class=&quot;jessica&quot;&gt;&quot;No!&quot;&lt;/span&gt; is all you manage to say before he&#39;s on you, his impossibly strong arms pinning you down, pushing the cloth against your face. You try to claw at him and hold your breath. He ignores your attempts easily. You can feel a burning sensation where the cloth touches your mouth, nose and lips and your eyes are beginning to tear up from the vapor.

You can feel your lungs burning for air as he continues to grab you. You can&#39;t escape, you must have air! Your lungs involuntarily attempt to take in a deep breath. You pass out...

[[You pass out...]]</tw-passagedata><tw-passagedata pid="463" name="You pass out..." tags="" position="675,2525" size="100,100">&lt;img class=&quot;center&quot; src=&quot;img/080_BOUND.png&quot;&gt;You wake up an unknown amount of time later, disoriented. Where are you... What&#39;s going on? A few deep breaths later and your eyes become focused, reveal that you&#39;re still in the bathroom. The masked man stands before you. &lt;span class=&quot;man&quot;&gt;&quot;Finally awake. How good of you to join me. From now on you will refer me as Master, got it?&quot;&lt;/span&gt; he says. What is he... Wait, why can&#39;t you move? And what&#39;s in your mouth?

A glance down reveals it all. You&#39;re sitting on the toilet-seat cover, completely naked. Around your neck is a locked collar that is attached to a leash, which goes through the wall of the bathroom stall you&#39;re sitting in. The man, your... master, as he wants you to call him, has attached the other end of the leash to something on the other side that you cannot budge.
Your mouth is drooling and kept open by an uncomfortable ring-gag, locked around your head by a leather strap.
On the toilet-seat is a vibrator, firmly attached with suction to the cover. You are presently sitting on it and cannot move an inch due to chains keeping you stuck to the toilet seat. The device is currently not buzzing. Its made of soft plastic and hugs your private parts firmly.
You&#39;re also wearing some sort of locked leather straps around both of your thighs, attached to a third leather straps around your waist by two rings - one on both side of your hips.
Your ankles are cuffed together under the toilet-seat and lift into the air by another chain, making it impossible for you to stand up.
The chain that is forcing your ankles into the air is also attached to the rings on either side of your hips. This also ensures you cannot move an inch upward, as you&#39;re pinned to the toilet seat cover.
A chain around the back of the toilet, has pinned your lower body firmly to the back of the toilet-seat. The combination of chains attaching you to the toilet is preventing you from standing up or moving in any direction.
You are wearing nipple-clamps on both of your nipples. A chain is attached to each of the clamps, and the chains are attached to your collar: The left nipple-clamp&#39;s chain to a hole on the left side of your collar, and the right one on the right side. The chains are so short that your breasts are suspended in the air, a constant painful pull is felt in your breasts as a result.
Your wrists are both wearing wrist-cuffs, which are locked, and you cannot open them without a key. The cuffs are attached to each-other, keeping your hands closely together behind your back.
Your collar has a chain attached to it also at the back-side, but the chain is short, reaching only about to the end of your shoulder-blades on your back. Your wrist-cuffs are attached to the chain, pinning your arms behind your back, which pushes your elbows to either side of your body in an awkward position.

In shock, you scream:

[[&quot;What the hell did you do to me?&quot;]]</tw-passagedata><tw-passagedata pid="464" name="&quot;What the hell did you do to me?&quot;" tags="MUSIC_CHANGE" position="675,2650" size="100,100">&lt;&lt;silently&gt;&gt;
&lt;&lt;fadeInMusicFunction &quot;spicy1&quot;&gt;&gt;

&lt;&lt;/silently&gt;&gt;&lt;img class=&quot;center&quot; src=&quot;img/080_BOUND.png&quot;&gt;Or so you think. The ring-gag in your mouth makes the words come out all wrong, but he seems to get your message. &lt;span class=&quot;man&quot;&gt;&quot;Let&#39;s just say I skipped a few meals and went straight for dessert.&quot;&lt;/span&gt; he says, amused. You thrash and turn, trying to stand up, but the chains keep you firmly locked against the toilet seat cover. The situation has changed completely, hasn&#39;t it? You&#39;re no longer in any position to do anything, bound like this...

&lt;span class=&quot;man&quot;&gt;&quot;Frankly, I find your stubbornness hot. But I no longer care for games or your opinion.&quot;&lt;/span&gt; the man threatens. You glance up at him, getting a proper fresh look at your captor. In his hand is a control of some sort, surely that controls the vibrator you&#39;re sitting on?

&lt;span class=&quot;man&quot;&gt;&quot;Now, in your situation you belong to me. I want you to give my cock special attention. Worship it and let it fill your mouth. Do this, and I activate the vibrator. Refuse, and I will have to punish you...&quot;&lt;/span&gt; You&#39;re shocked, but your situation is quite clear. He can do anything he wants with you now, and the only way to prevent him from hurting you right now is to just give up and do as he says. Yet, there&#39;s a tiny spark of anger still in your chest. Finally, you decide to...

[[Give up - you nod|You nod]]

[[Shake your head|shave head warning]]
&lt;&lt;silently&gt;&gt;
&lt;&lt;set $headShaveWarningsGiven to 0&gt;&gt;
&lt;&lt;set $shavedHead to false&gt;&gt;
&lt;&lt;set $previousPassage to &quot;worship his cock&quot;&gt;&gt;
&lt;&lt;/silently&gt;&gt;</tw-passagedata><tw-passagedata pid="465" name="Enable DAY mode (light background)" tags="" position="400,275" size="100,100">&lt;script&gt;window.AnimusNonGrata.toggleDayNightMode(&quot;true&quot;);&lt;/script&gt;&lt;&lt;set $settings_day_mode to true&gt;&gt;Options saved!

&lt;&lt;if $settings_day_mode is true&gt;&gt;Background: Day mode&lt;&lt;else&gt;&gt;Background: Night mode&lt;&lt;/if&gt;&gt;

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="466" name="Enable NIGHT mode (dark background)" tags="" position="400,150" size="100,100">&lt;script&gt;window.AnimusNonGrata.toggleDayNightMode(&quot;false&quot;);&lt;/script&gt;&lt;&lt;set $settings_day_mode to false&gt;&gt;Options saved!

&lt;&lt;if $settings_day_mode is true&gt;&gt;Background: Day mode&lt;&lt;else&gt;&gt;Background: Night mode&lt;&lt;/if&gt;&gt;

&lt;&lt;link &quot;Back to story&quot; $back_to_passage_title&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata><tw-passagedata pid="467" name="CSS Test" tags="" position="1700,25" size="100,100">Normal line
&lt;span class=&quot;boss&quot;&gt;boss line&lt;/span&gt;
&lt;span class=&quot;man&quot;&gt;man line&lt;/span&gt;
&lt;span class=&quot;amber&quot;&gt;amber line&lt;/span&gt;
&lt;span class=&quot;lily&quot;&gt;lily line&lt;/span&gt;
&lt;span class=&quot;monica&quot;&gt;monica line&lt;/span&gt;
&lt;span class=&quot;daniel&quot;&gt;daniel line&lt;/span&gt;
&lt;span class=&quot;steve&quot;&gt;steve line&lt;/span&gt;
&lt;span class=&quot;william&quot;&gt;william line&lt;/span&gt;
&lt;span class=&quot;jessica&quot;&gt;jessica line&lt;/span&gt;

[[CSS Test]]</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),Object.freeze({space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;return depth<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?acc.push.apply(acc,_toConsumableArray(flat.call(cur,depth-1))):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _nativeMathRandom=Math.random,_regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(array){if("object"!==_typeof(array)||null===array||!Object.prototype.hasOwnProperty.call(array,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var length=array.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments,1));return array[index]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=_toConsumableArray(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return this[index]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){var value=Number(num);return Number.isNaN(value)?NaN:value.clamp(min,max)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return 1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var min=Number(arguments[0]),max=Number(arguments[1]);if(min>max){var _ref2=[max,min];min=_ref2[0],max=_ref2[1]}return Math.min(Math.max(this,min),max)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){function padString(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?_toConsumableArray(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return padString(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","(".concat(this.toString(),")")]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",_toConsumableArray(this)]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",_toConsumableArray(this)]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if("string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[code,data]]}}),Object.defineProperty(JSON,"_real_stringify",{value:JSON.stringify}),Object.defineProperty(JSON,"stringify",{configurable:!0,writable:!0,value:function(_value,replacer,space){return JSON._real_stringify(_value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}return void 0===value&&(value=["(revive:eval)","undefined"]),value}),space)}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,(function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(ex){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(ex){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var match,re=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),names=[];null!==(match=re.exec(this));)match[1]?names.push(match[1]):match[2]&&names.push(match[2]);return names}})}();var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze({userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi})),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=_toConsumableArray(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze({audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent})),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){var _this=this;if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){jQuery(element).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){var _this2=this;if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){jQuery(document).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this2).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.changeEvent,handlerFn):$(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.errorEvent,handlerFn):$(element).off(vendor.errorEvent)}}}}))}(),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function clone(orig){return"object"!==_typeof(orig)||null===orig?orig:orig instanceof String?String(orig):orig instanceof Number?Number(orig):orig instanceof Boolean?Boolean(orig):"function"==typeof orig.clone?orig.clone(!0):orig.nodeType&&"function"==typeof orig.cloneNode?orig.cloneNode(!0):(orig instanceof Array?copy=new Array(orig.length):orig instanceof Date?copy=new Date(orig.getTime()):orig instanceof Map?(copy=new Map,orig.forEach((function(val,key){return copy.set(key,clone(val))}))):orig instanceof RegExp?copy=new RegExp(orig):orig instanceof Set?(copy=new Set,orig.forEach((function(val){return copy.add(clone(val))}))):copy=Object.create(Object.getPrototypeOf(orig)),Object.keys(orig).forEach((function(name){return copy[name]=clone(orig[name])})),copy);var copy}},convertBreaks:{value:function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),output.appendChild(para),para=document.createElement("p");continue}if(!para.hasChildNodes()){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":para.hasChildNodes()&&(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}para.hasChildNodes()&&output.appendChild(para),source.appendChild(output)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(ex){return null}}},setDisplayTitle:{value:function(title){if("string"!=typeof title)throw new TypeError("story display title must be a string (received: ".concat(Util.getType(title),")"));var render=document.createDocumentFragment();new Wikifier(render,title);var text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text;var storyTitle=document.getElementById("story-title");null!==storyTitle&&jQuery(storyTitle).empty().append(render)}},setPageElement:{value:function(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=Array.isArray(titles)?titles:[titles];jQuery(el).empty();for(var i=0,iend=ids.length;i<iend;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}},throwError:{value:function(place,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(place),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}},stringFrom:{value:function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}return value instanceof Node?value.textContent:"function"==typeof value.toString?value.toString():Object.prototype.toString.call(value);case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,stringFrom=_ref3.stringFrom;!function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function oneClickFnWrapper(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",0),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?oneClickFnWrapper(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true")}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled")}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))}});var Util=function(){var toString,utilGetType="[object Object]"===(toString=Object.prototype.toString).call(new Map)?function(O){if(null===O)return"null";if(O instanceof Map)return"Map";if(O instanceof Set)return"Set";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType}:function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType};function utilToEnum(obj){var pEnum=Object.create(null);if(obj instanceof Array)obj.forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Set)Array.from(obj).forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Map)obj.forEach((function(val,key){return pEnum[String(key)]=val}));else{if("object"!==_typeof(obj)||null===obj||Object.getPrototypeOf(obj)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,obj)}return Object.freeze(pEnum)}function utilToStringTag(obj){return Object.prototype.toString.call(obj).slice(8,-1)}var _illegalSlugCharsRe=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,_isInvalidSlugRe=/^-*$/;var _illegalFilenameCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g;var _markupCharsRe=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,_hasMarkupCharsRe=new RegExp(_markupCharsRe.source),_markupCharsMap=utilToEnum({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"});var _htmlCharsRe=/[&<>"'`]/g,_hasHtmlCharsRe=new RegExp(_htmlCharsRe.source),_htmlCharsMap=utilToEnum({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function utilEscape(str){if(null==str)return"";var val=String(str);return val&&_hasHtmlCharsRe.test(val)?val.replace(_htmlCharsRe,(function(ch){return _htmlCharsMap[ch]})):val}var _escapedHtmlRe=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,_hasEscapedHtmlRe=new RegExp(_escapedHtmlRe.source,"i"),_escapedHtmlMap=utilToEnum({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});function utilUnescape(str){if(null==str)return"";var val=String(str);return val&&_hasEscapedHtmlRe.test(val)?val.replace(_escapedHtmlRe,(function(entity){return _escapedHtmlMap[entity.toLowerCase()]})):val}var _nowSource=Has.performance?performance:Date;var _cssTimeRe=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;var utilScrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),utilHasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches};return Object.freeze(Object.defineProperties({},{getType:{value:utilGetType},isBoolean:{value:function(obj){return"boolean"==typeof obj||"string"==typeof obj&&("true"===obj||"false"===obj)}},isIterable:{value:function(obj){return null!=obj&&"function"==typeof obj[Symbol.iterator]}},isNumeric:{value:function(obj){var num;switch(_typeof(obj)){case"number":num=obj;break;case"string":num=Number(obj);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}},sameValueZero:{value:function(a,b){return a===b||a!=a&&b!=b}},toEnum:{value:utilToEnum},toStringTag:{value:utilToStringTag},slugify:{value:function(str){var base=String(str).trim(),_legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return _isInvalidSlugRe.test(_legacy)?base.replace(_illegalSlugCharsRe,"").replace(/[_\s\u2013\u2014-]+/g,"-"):_legacy}},sanitizeFilename:{value:function(str){return String(str).trim().replace(_illegalFilenameCharsRE,"")}},escapeMarkup:{value:function(str){if(null==str)return"";var val=String(str);return val&&_hasMarkupCharsRe.test(val)?val.replace(_markupCharsRe,(function(ch){return _markupCharsMap[ch]})):val}},escape:{value:utilEscape},unescape:{value:utilUnescape},charAndPosAt:{value:function(text,position){var str=String(text),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}},now:{value:function(){return _nowSource.now()}},fromCssTime:{value:function(cssTime){var match=_cssTimeRe.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}},toCssTime:{value:function(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=utilToStringTag(msec)}throw new Error("invalid milliseconds: ".concat(what))}return"".concat(msec,"ms")}},fromCssProperty:{value:function(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}},parseUrl:{value:function(url){var el=document.createElement("a"),queryObj=Object.create(null);el.href=url,el.search&&el.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];queryObj[key]=value}));var pathname=el.host&&"/"!==el.pathname[0]?"/".concat(el.pathname):el.pathname;return{href:el.href,protocol:el.protocol,host:el.host,hostname:el.hostname,port:el.port,path:"".concat(pathname).concat(el.search),pathname:pathname,query:el.search,search:el.search,queries:queryObj,searches:queryObj,hash:el.hash}}},newExceptionFrom:{value:function(original,exceptionType,override){if("object"!==_typeof(original)||null===original)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var ex=new exceptionType(original.message);void 0!==original.name&&(ex.name=original.name),void 0!==original.code&&(ex.code=original.code),void 0!==original.columnNumber&&(ex.columnNumber=original.columnNumber),void 0!==original.description&&(ex.description=original.description),void 0!==original.fileName&&(ex.fileName=original.fileName),void 0!==original.lineNumber&&(ex.lineNumber=original.lineNumber),void 0!==original.number&&(ex.number=original.number),void 0!==original.stack&&(ex.stack=original.stack);var overrideType=_typeof(override);if("undefined"!==overrideType)if("object"===overrideType&&null!==override)Object.assign(ex,override);else{if("string"!==overrideType)throw new Error("Util.newExceptionFrom override parameter must be an object or string");ex.message=override}return ex}},scrubEventKey:{value:utilScrubEventKey},hasMediaQuery:{value:utilHasMediaQuery},random:{value:Math.random},entityEncode:{value:utilEscape},entityDecode:{value:utilUnescape},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(_adapters=[],_initialized=null,Object.freeze(Object.defineProperties({},{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("no valid storage adapters found")}}}))),_adapters,_initialized,_ok,_WebStorageAdapter;SimpleStore.adapters.push((_ok=!1,_WebStorageAdapter=function(){function _WebStorageAdapter(storageId,persistent){_classCallCheck(this,_WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_WebStorageAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&this._engine.hasOwnProperty(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:_WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,_WebStorageAdapter._serialize(value))}catch(ex){if(/quota.?(?:exceeded|reached)/i.test(ex.name+ex.message))throw Util.newExceptionFrom(ex,Error,"".concat(this.name," quota exceeded"));throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key||(this._engine.removeItem(this._prefix+key),0))}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromUTF16(str))}}]),_WebStorageAdapter}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function hasWebStorage(storeId){try{var store=window[storeId],tid="_sc_".concat(String(Date.now()));store.setItem(tid,tid);var result=store.getItem(tid)===tid;return store.removeItem(tid),result}catch(ex){}return!1}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _WebStorageAdapter(storageId,persistent)}}})))),SimpleStore.adapters.push(function(){var _MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,_CookieAdapter=function(){function _CookieAdapter(storageId,persistent){_classCallCheck(this,_CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_CookieAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(this._prefixRe.test(key))""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==_CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=_CookieAdapter._getCookie(this._prefix+key);return null===value?null:_CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,_CookieAdapter._serialize(value),this.persistent?"Tue, 19 Jan 2038 03:14:07 GMT":undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromBase64(str))}}]),_CookieAdapter}();return Object.freeze(Object.defineProperties({},{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));_CookieAdapter._setCookie(tid,_CookieAdapter._serialize(tid),undefined),_ok=_CookieAdapter._deserialize(_CookieAdapter._getCookie(tid))===tid,_CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""===document.cookie)return;for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);""!==value&&function(){var persist=!sessionTestRe.test(key);_CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),_CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}()}}}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _CookieAdapter(storageId,persistent)}}}))}());var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?DebugView.disable():DebugView.enable()}}]),DebugView}(),NodeTyper=function(){var NodeTyper=function(){function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(Util.getType(config),")"));if(!(config.hasOwnProperty("targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}return _createClass(NodeTyper,[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _Util$charAndPosAt=Util.charAndPosAt(this.nodeValue,0),char=_Util$charAndPosAt.char,start=_Util$charAndPosAt.start,end=_Util$charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}]),NodeTyper}();return NodeTyper}(),PRNGWrapper=function(){function PRNGWrapper(seed,useEntropy){_classCallCheck(this,PRNGWrapper),Object.defineProperties(this,new Math.seedrandom(seed,useEntropy,(function(prng,seed){return{_prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}})))}return _createClass(PRNGWrapper,null,[{key:"marshal",value:function(prng){if(!prng||!prng.hasOwnProperty("seed")||!prng.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:prng.seed,pull:prng.pull}}},{key:"unmarshal",value:function(prngObj){if(!prngObj||!prngObj.hasOwnProperty("seed")||!prngObj.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var prng=new PRNGWrapper(prngObj.seed,!1),i=prngObj.pull;i>0;--i)prng.random();return prng}}]),PRNGWrapper}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}return _createClass(StyleWrapper,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),StyleWrapper}()),_imageMarkupRe,_hasImageMarkupRe,Diff=(Op=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Op},diff:{value:function diff(orig,dest){for(var aOpRef,objToString=Object.prototype.toString,origIsArray=orig instanceof Array,keys=[].concat(Object.keys(orig),Object.keys(dest)).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),diffed={},keyIsAOpRef=function(key){return key===aOpRef},i=0,klen=keys.length;i<klen;++i){var key=keys[i],origP=orig[key],destP=dest[key];if(orig.hasOwnProperty(key))if(dest.hasOwnProperty(key)){if(origP===destP)continue;if(_typeof(origP)===_typeof(destP))if("function"==typeof origP)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,destP]);else if("object"!==_typeof(origP)||null===origP)diffed[key]=[Op.Copy,destP];else{var origPType=objToString.call(origP);if(origPType===objToString.call(destP))if(origP instanceof Date)Number(origP)!==Number(destP)&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Map)diffed[key]=[Op.Copy,clone(destP)];else if(origP instanceof RegExp)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Set)diffed[key]=[Op.Copy,clone(destP)];else if("[object Object]"!==origPType)diffed[key]=[Op.Copy,clone(destP)];else{var recurse=diff(origP,destP);null!==recurse&&(diffed[key]=recurse)}else diffed[key]=[Op.Copy,clone(destP)]}else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}else if(origIsArray&&Util.isNumeric(key)){var nKey=Number(key);if(!aOpRef){aOpRef="";do{aOpRef+="~"}while(keys.some(keyIsAOpRef));diffed[aOpRef]=[Op.SpliceArray,nKey,nKey]}nKey<diffed[aOpRef][1]&&(diffed[aOpRef][1]=nKey),nKey>diffed[aOpRef][2]&&(diffed[aOpRef][2]=nKey)}else diffed[key]=Op.Delete;else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}return Object.keys(diffed).length>0?diffed:null}},patch:{value:function patch(orig,diffed){for(var keys=Object.keys(diffed||{}),patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],diffedP=diffed[key];if(diffedP===Op.Delete)delete patched[key];else if(diffedP instanceof Array)switch(diffedP[0]){case Op.SpliceArray:patched.splice(diffedP[1],diffedP[2]-diffedP[1]+1);break;case Op.Copy:patched[key]=clone(diffedP[1]);break;case Op.CopyDate:patched[key]=new Date(diffedP[1])}else patched[key]=patch(patched[key],diffedP)}return patched}}}))),Op,L10n=(_patternRe=/\{\w+\}/g,_hasPatternRe=new RegExp(_patternRe.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach((function(id){try{var value;switch(id){case"identity":value=strings.identity;break;case"aborting":value=strings.aborting;break;case"cancel":value=strings.cancel;break;case"close":value=strings.close;break;case"ok":value=strings.ok;break;case"errorTitle":value=strings.errors.title;break;case"errorNonexistentPassage":value=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":value=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":value=strings.errors.saveIdMismatch;break;case"warningDegraded":value=strings.warnings.degraded;break;case"debugViewTitle":value=strings.debugView.title;break;case"debugViewToggle":value=strings.debugView.toggle;break;case"uiBarToggle":value=strings.uiBar.toggle;break;case"uiBarBackward":value=strings.uiBar.backward;break;case"uiBarForward":value=strings.uiBar.forward;break;case"uiBarJumpto":value=strings.uiBar.jumpto;break;case"jumptoTitle":value=strings.jumpto.title;break;case"jumptoTurn":value=strings.jumpto.turn;break;case"jumptoUnavailable":value=strings.jumpto.unavailable;break;case"savesTitle":value=strings.saves.title;break;case"savesDisallowed":value=strings.saves.disallowed;break;case"savesIncapable":value=strings.saves.incapable;break;case"savesLabelAuto":value=strings.saves.labelAuto;break;case"savesLabelDelete":value=strings.saves.labelDelete;break;case"savesLabelExport":value=strings.saves.labelExport;break;case"savesLabelImport":value=strings.saves.labelImport;break;case"savesLabelLoad":value=strings.saves.labelLoad;break;case"savesLabelClear":value=strings.saves.labelClear;break;case"savesLabelSave":value=strings.saves.labelSave;break;case"savesLabelSlot":value=strings.saves.labelSlot;break;case"savesUnavailable":value=strings.saves.unavailable;break;case"savesUnknownDate":value=strings.saves.unknownDate;break;case"settingsTitle":value=strings.settings.title;break;case"settingsOff":value=strings.settings.off;break;case"settingsOn":value=strings.settings.on;break;case"settingsReset":value=strings.settings.reset;break;case"restartTitle":value=strings.restart.title;break;case"restartPrompt":value=strings.restart.prompt;break;case"shareTitle":value=strings.share.title;break;case"alertTitle":break;case"autoloadTitle":value=strings.autoload.title;break;case"autoloadCancel":value=strings.autoload.cancel;break;case"autoloadOk":value=strings.autoload.ok;break;case"autoloadPrompt":value=strings.autoload.prompt;break;case"macroBackText":value=strings.macros.back.text;break;case"macroReturnText":value=strings.macros.return.text}value&&(l10nStrings[id]=value.replace(/%\w+%/g,(function(pat){return"{".concat(pat.slice(1,-1),"}")})))}catch(ex){}}))}},get:{value:function(ids,overrides){if(!ids)return"";var selectedId,id=((Array.isArray(ids)?ids:[ids]).some((function(id){return!!l10nStrings.hasOwnProperty(id)&&(selectedId=id,!0)})),selectedId);if(!id)return"";for(var processed=l10nStrings[id],iteration=0;_hasPatternRe.test(processed);){if(++iteration>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");_patternRe.lastIndex=0,processed=processed.replace(_patternRe,(function(pat){var subId=pat.slice(1,-1);return overrides&&overrides.hasOwnProperty(subId)?overrides[subId]:l10nStrings.hasOwnProperty(subId)?l10nStrings[subId]:void 0}))}return processed}}}))),_patternRe,_hasPatternRe,strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveDiskLoadFailed:"failed to load save file from disk",errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",alertTitle:"Alert",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=(_debug=!1,_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosIfAssignmentError=!0,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesId="untitled-story",_savesSlots=8,_savesTryDiskOnMobile=!0,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,_errHistoryModeDeprecated="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",Object.freeze({get debug(){return _debug},set debug(value){_debug=Boolean(value)},get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)},get mode(){throw new Error(_errHistoryModeDeprecated)},set mode(_){throw new Error(_errHistoryModeDeprecated)},get tracking(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")},set tracking(_){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}}),macros:Object.freeze({get ifAssignmentError(){return _macrosIfAssignmentError},set ifAssignmentError(value){_macrosIfAssignmentError=Boolean(value)},get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_navigationOverride=value}}),passages:Object.freeze({get descriptions(){return _passagesDescriptions},set descriptions(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"Object"!==valueType&&"function"!==valueType)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(valueType,")"))}_passagesDescriptions=value},get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=Util.getType(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value}}),saves:Object.freeze({get autoload(){return _savesAutoload},set autoload(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"string"!==valueType&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){return _savesAutosave},set autosave(value){if(null!=value){var valueType=Util.getType(value);if("string"===valueType)return void(_savesAutosave=[value]);if("boolean"!==valueType&&("Array"!==valueType||!value.every((function(item){return"string"==typeof item})))&&"function"!==valueType)throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}_savesAutosave=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(Util.getType(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_savesIsAllowed=value},get slots(){return _savesSlots},set slots(value){if(!Number.isSafeInteger(value)||value<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: ".concat(Util.getType(value),")"));_savesSlots=value},get tryDiskOnMobile(){return _savesTryDiskOnMobile},set tryDiskOnMobile(value){_savesTryDiskOnMobile=Boolean(value)},get version(){return _savesVersion},set version(value){_savesVersion=value},get onLoad(){throw new Error("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead")},set onLoad(value){console.warn("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead"),Save.onLoad.add(value)},get onSave(){throw new Error("Config.saves.onSave has been deprecated, use the Save.onSave API instead")},set onSave(value){console.warn("Config.saves.onSave has been deprecated, use the Save.onSave API instead"),Save.onSave.add(value)}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=Util.getType(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesDescriptions,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesAutoload,_savesAutosave,_savesIsAllowed,_savesVersion,_debug,_addVisitedLinkClass,_cleanupWikifierOutput,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosIfAssignmentError,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesId,_savesSlots,_savesTryDiskOnMobile,_uiStowBarInitially,_uiUpdateStoryElements,_errHistoryModeDeprecated,SimpleAudio=function(){var _hasPromise,_gestureEventNames=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(Util.parseUrl(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!src.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!src.hasOwnProperty("format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this3=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this3._error=!1})).on("error.AudioTrack",(function(){return _this3._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this3._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this3.audio)switch(mesg){case"loadwithscreen":if(_this3.hasSource()){var lockId=LoadScreen.lock();_this3.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this3.load();break;case"mute":_this3._updateAudioMute();break;case"rate":_this3._updateAudioRate();break;case"stop":_this3.stop();break;case"volume":_this3._updateAudioVolume();break;case"unload":_this3.unload()}else unsubscribe(_this3)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){jQuery(this.audio).triggerHandler(eventName)}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this4=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this4.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this5=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this5.isPlaying()?resolve():(jQuery(_this5.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this5).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this5.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this6=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioTrack_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),_this6.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this7=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this7._trigger(":fading"),_this7._faderId=setInterval((function(){_this7.isPlaying()?(_this7.volume(Math.clamp(_this7.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this7.volume()&&_this7.pause(),_this7.volume()===to&&(_this7.fadeStop(),_this7._trigger(":faded"))):_this7.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop){return null==_loop?this.audio.loop:(this.audio.loop=!!_loop,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this8=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this8.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}]),AudioTrack}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioList,[{key:"_create",value:function(trackList){var _this9=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!trackObj.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=trackObj.hasOwnProperty("own")&&trackObj.own,rate=trackObj.hasOwnProperty("rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=trackObj.hasOwnProperty("volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this9._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this10=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioList_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioList_playWhenAllowed"),_this10.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop2){return null==_loop2?this._loop:(this._loop=!!_loop2,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this11=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIdx=this.queue.findIndex((function(trackObj){return trackObj===_this11.current}));if(-1!==firstIdx)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIdx+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),AudioList}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop3){if(null==_loop3)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop3),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}]),AudioRunner}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parentheticals');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(":"!==parent.id[0])throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(":"!==id[0]||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!desc.hasOwnProperty("id")&&!desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(desc.hasOwnProperty("id")&&desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(desc.hasOwnProperty("id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(desc.hasOwnProperty("sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(desc.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(desc.hasOwnProperty("own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(desc.hasOwnProperty("volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;default:ids=":"===id[0]?_groups.get(id):[id]}if(idObj.hasOwnProperty("not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_tempVariables={};function stateMarshal(noDelta){var stateObj={index:_activeIndex};return noDelta?stateObj.history=clone(_history):stateObj.delta=historyDeltaEncode(_history),_expired.length>0&&(stateObj.expired=_toConsumableArray(_expired)),null!==_prng&&(stateObj.seed=_prng.seed),stateObj}function stateUnmarshal(stateObj,noDelta){if(null==stateObj)throw new Error("state object is null or undefined");if(!stateObj.hasOwnProperty(noDelta?"history":"delta")||0===stateObj[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!stateObj.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==_prng&&!stateObj.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&stateObj.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(stateObj.history):historyDeltaDecode(stateObj.delta),_activeIndex=stateObj.index,_expired=stateObj.hasOwnProperty("expired")?_toConsumableArray(stateObj.expired):[],stateObj.hasOwnProperty("seed")&&(_prng.seed=stateObj.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=PRNGWrapper.unmarshal({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),jQuery.event.trigger(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngInit(seed,useEntropy){var scriptSection;if(!historyIsEmpty())throw scriptSection="the Story JavaScript",new Error("State.prng.init must be called during initialization, within either ".concat(scriptSection," or the StoryInit special passage"));_prng=new PRNGWrapper(seed,useEntropy),_active.pull=_prng.pull}function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");store&&store.hasOwnProperty(key)&&(1===Object.keys(store).length?storage.delete("metadata"):(delete store[key],storage.set("metadata",store)))}return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:new PRNGWrapper(_prng.seed,!1)}},restore:{value:function(){if(session.has("state")){var stateObj=session.get("state");return null!=stateObj&&(stateUnmarshal(stateObj),!0)}return!1}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(stateObj){return stateUnmarshal(stateObj,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:prngInit},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return _prng?_prng.pull:NaN}},seed:{get:function(){return _prng?_prng.seed:null}}}))},random:{value:function(){return _prng?_prng.random():Math.random()}},clearTemporary:{value:function(){TempVariables=_tempVariables={}}},temporary:{get:function(){return _tempVariables}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = evalTwineScript$Data$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete("metadata")}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get("metadata");return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)}},keys:{value:function(){var store=storage.get("metadata");return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get("metadata")||{};store[key]=value,storage.set("metadata",store)}}},size:{get:function(){var store=storage.get("metadata");return store?Object.keys(store).length:0}}}))},initPRNG:{value:prngInit},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(targets,selector,handler,one,namespace){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var fn,opts;if("function"==typeof selector?(fn=selector,opts={namespace:one,one:!!handler}):(fn=handler,opts={namespace:namespace,one:!!one,selector:selector}),"function"!=typeof fn)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(targets).ariaClick(opts,fn)}function insertElement(place,type,id,classNames,text,title){var $el=jQuery(document.createElement(type));return id&&$el.attr("id",id),classNames&&$el.addClass(classNames),title&&$el.attr("title",title),text&&$el.text(text),place&&$el.appendTo(place),$el[0]}function insertText(place,text){jQuery(place).append(document.createTextNode(text))}function removeChildren(node){jQuery(node).empty()}function removeElement(node){jQuery(node).remove()}function fade(el,options){var current,intervalId,direction="in"===options.fade?1:-1,proxy=el.cloneNode(!0);function setOpacity(el,opacity){el.style.zoom=1,el.style.filter="alpha(opacity=".concat(Math.floor(100*opacity),")"),el.style.opacity=opacity}el.parentNode.replaceChild(proxy,el),"in"===options.fade?(current=0,proxy.style.visibility="visible"):current=1,setOpacity(proxy,current),intervalId=window.setInterval((function(){current+=.05*direction,setOpacity(proxy,Math.easeInOut(current)),(1===direction&&current>=1||-1===direction&&current<=0)&&(el.style.visibility="in"===options.fade?"visible":"hidden",proxy.parentNode.replaceChild(el,proxy),proxy=null,window.clearInterval(intervalId),options.onComplete&&options.onComplete())}),25)}function scrollWindowTo(el,incrementBy){var increment=null!=incrementBy?Number(incrementBy):.1;Number.isNaN(increment)||!Number.isFinite(increment)||increment<0?increment=.1:increment>1&&(increment=1);var intervalId,start=window.scrollY?window.scrollY:document.body.scrollTop,end=function(el){var posTop=function(el){var curtop=0;for(;el.offsetParent;)curtop+=el.offsetTop,el=el.offsetParent;return curtop}(el),posBottom=posTop+el.offsetHeight,winTop=window.scrollY?window.scrollY:document.body.scrollTop,winHeight=window.innerHeight?window.innerHeight:document.body.clientHeight,winBottom=winTop+winHeight;return posTop>=winTop&&posBottom>winBottom&&el.offsetHeight<winHeight?posTop-(winHeight-el.offsetHeight)+20:posTop}(el),distance=Math.abs(start-end),direction=start>end?-1:1,progress=0;intervalId=window.setInterval((function(){progress+=increment,window.scroll(0,start+direction*(distance*Math.easeInOut(progress))),progress>=1&&window.clearInterval(intervalId)}),25)}function toStringOrDefault(value){return stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0,iend=needles.length;i<iend;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0,iend=needles.length;i<iend&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new Error("random min parameter must be an integer");if(!Number.isInteger(max))throw new Error("random max parameter must be an integer");if(min>max){var _ref6=[max,min];min=_ref6[0],max=_ref6[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new Error("randomFloat max parameter must be a number");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(Util.getType(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0,iend=passages.length;i<iend;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0,iend=needles.length;i<iend&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0,iend=played.length;i<iend;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref8=function(){function slugifyUrl(url){return Util.parseUrl(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(url,'".')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(url)),type:"text/javascript",src:url})}))}function addStyle(url){return new Promise((function(resolve,reject){jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'".')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){var tokenTable=Util.toEnum({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),parseRe=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),notSpaceRe=/\S/,varTest=new RegExp("^".concat(Patterns.variable)),withColonTestRe=/^\s*:/,withNotTestRe=/^\s+not\b/;function parse(rawCodeString){if(0!==parseRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var match,code=rawCodeString;null!==(match=parseRe.exec(code));)if(match[1]){var rawTemplate=match[1],parsedTemplate=parseTemplate(rawTemplate);parsedTemplate!==rawTemplate&&(code=code.splice(match.index,rawTemplate.length,parsedTemplate),parseRe.lastIndex+=parsedTemplate.length-rawTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;if(varTest.test(token))token=token[0];else if("is"===token){var start=parseRe.lastIndex,ahead=code.slice(start);withNotTestRe.test(ahead)&&(code=code.splice(start,ahead.search(notSpaceRe)),token="isnot")}else{var _ahead=code.slice(parseRe.lastIndex);if(withColonTestRe.test(_ahead))continue}tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),parseRe.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRe=/\$\{/g,templateGroupParseRe=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function parseTemplate(rawTemplateLiteral){if(0!==templateGroupStartRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start of template literal");for(var startMatch,template=rawTemplateLiteral;null!==(startMatch=templateGroupStartRe.exec(template));){var startIdx=startMatch.index+2,endIdx=startIdx,depth=1,endMatch=void 0;for(templateGroupParseRe.lastIndex=startIdx;null!==(endMatch=templateGroupParseRe.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIdx=endMatch.index;break}if(endIdx>startIdx){var parseIndex=parseRe.lastIndex,rawGroup=template.slice(startIdx,endIdx);parseRe.lastIndex=0;var parsedGroup=parse(rawGroup);parseRe.lastIndex=parseIndex,template=template.splice(startIdx,rawGroup.length,parsedGroup),templateGroupStartRe.lastIndex+=parsedGroup.length-rawGroup.length}}return template}return parse}();function evalJavaScript(code,output,data){return function(code,output,evalJavaScript$Data$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,evalTwineScript$Data$){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output,data)}return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){var Lexer=function(){function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(Lexer,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}]),Lexer}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var _optionsStack,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==destination?this.output=document.createDocumentFragment():destination.jquery?this.output=destination[0]:this.output=destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}},{key:"isExternalLink",value:function(link){return!Story.has(link)&&(new RegExp("^".concat(Patterns.url),"gim").test(link)||/[/.?#]/.test(link))}}]),Wikifier}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.freeze(Object.defineProperties({},{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(idx){return _optionsStack[idx]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(Util.getType(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!parser.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!parser.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!parser.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(parser.hasOwnProperty("profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&_profiles.hasOwnProperty(profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!_profiles.hasOwnProperty(profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[Util.fromCssProperty(match[1])]=match[2].trim();else if(match[3])css.styles[Util.fromCssProperty(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){var macroParser=null;function getMacroContextShadowView(){for(var macro=macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser');return macroParser}(),view=new Set,context=macro.context;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return _toConsumableArray(view)}return function(code){var shadowStore={};return getMacroContextShadowView().forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}}()},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return throwError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return throwError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,throwError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return throwError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return throwError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.parse(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(markup.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=markup.hasOwnProperty("text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.title)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),markup.hasOwnProperty("align")&&(arg.align=markup.align),markup.hasOwnProperty("text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):link,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",markup.hasOwnProperty("link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,el=(Config.debug?debugView:w).output;if(markup.hasOwnProperty("link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.title),source=passage.text.trim())}el.src=source,markup.hasOwnProperty("text")&&(el.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return throwError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this12=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1;do{cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}!function(){++w.nextMatch;for(var css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1,$cell=void 0;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this12.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}()}++col}}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this13=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this13.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this13.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref10){var name=_ref10.name,value=_ref10.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return throwError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")&&(this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)),terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.freeze(Object.defineProperties({},{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return _macros.hasOwnProperty(name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return _tags.hasOwnProperty(name)}return Object.freeze(Object.defineProperties({},{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:macros.hasOwnProperty(name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(MacroContext,[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return _toConsumableArray(this._shadows)}},{key:"shadowView",get:function(){var view=new Set;return this.contextSelectAll((function(ctx){return ctx._shadows})).forEach((function(ctx){return ctx._shadows.forEach((function(name){return view.add(name)}))})),_toConsumableArray(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextHas",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return!0;return!1}},{key:"contextSelect",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return context;return null}},{key:"contextSelectAll",value:function(filter){for(var result=[],context=this;null!==(context=context.parent);)filter(context)&&result.push(context);return result}},{key:"addShadow",value:function(){var _this14=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this14._shadows.add(name)}))}},{key:"createShadowWrapper",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore={},this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return throwError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}]),MacroContext}();return MacroContext}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,jsVarRe:new RegExp("State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var match,jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var store=State[match[1]],name=match[2];store.hasOwnProperty(name)&&delete store[name]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}for(var match,remember=storage.get("remember")||{},jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];remember[name]=State.variables[name]}if(!storage.set("remember",remember))return this.error("unknown error, cannot remember: ".concat(this.args.raw));Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var remember=storage.get("remember");remember&&Object.keys(remember).forEach((function(name){return State.variables[name]=remember[name]}))}}),Macro.add("forget",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var match,remember=storage.get("remember"),jsVarRe=this.self.jsVarRe,needStore=!1;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];State.variables.hasOwnProperty(name)&&delete State.variables[name],remember&&remember.hasOwnProperty(name)&&(needStore=!0,delete remember[name])}if(needStore)if(0===Object.keys(remember).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",remember))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var output=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("include",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.domId," macro-").concat(this.name)).attr("data-passage",passage.title).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?Util.escape(result):result)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=Util.fromCssTime(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=Util.fromCssTime(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId;TempState.macroTypeQueue.push({id:selfId,handler:function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents);var passage=State.passage,turn=State.turns;if(!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){Util.scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?jQuery.event.trigger(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),$wrapper.trigger(":typingstop"),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};$wrapper.trigger(":typingstart"),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],elseifWsRe:/^\s*if\b/i,ifAssignRe:/[^!=&^|<>*/%+-]=[^=>]/,handler:function(){var i;try{var len=this.payload.length,elseifWsRe=this.self.elseifWsRe,ifAssignRe=this.self.ifAssignRe;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return elseifWsRe.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#"+i+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""));if(Config.macros.ifAssignmentError&&ifAssignRe.test(this.payload[i].args.full))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#"+i+")":"",": ").concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("for",{skipArgs:!0,tags:null,hasRangeRe:new RegExp("^\\S".concat(Patterns.anyChar,"*?\\s+range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.hasRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat("object"===_typeof(ex)?ex.message:ex))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat("object"===_typeof(ex)?ex.message:ex))}}}catch(ex){return this.error("bad conditional expression: ".concat("object"===_typeof(ex)?ex.message:ex))}finally{TempState.break=null}},handleForRange:function(payload,indexVar,valueVar,rangeExp){var rangeList,first=!0;try{rangeList=this.self.toRangeList(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var i=0;i<rangeList.length;++i)if(indexVar.name&&(State[indexVar.type][indexVar.name]=rangeList[i][0]),State[valueVar.type][valueVar.name]=rangeList[i][1],new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(ex){return this.error("object"===_typeof(ex)?ex.message:ex)}finally{TempState.break=null}},toRangeList:function(rangeExp){var value,list,evalJavaScript=Scripting.evalJavaScript;try{value=evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(value)){case"string":list=[];for(var i=0;i<value.length;){var obj=Util.charAndPosAt(value,i);list.push([i,obj.char]),i=1+obj.end}break;case"object":if(Array.isArray(value))list=value.map((function(val,i){return[i,val]}));else if(value instanceof Set)list=_toConsumableArray(value).map((function(val,i){return[i,val]}));else if(value instanceof Map)list=_toConsumableArray(value.entries());else{if("Object"!==Util.toStringTag(value))throw new Error("unsupported range expression type: ".concat(Util.toStringTag(value)));list=Object.keys(value).map((function(key){return[key,value[key]]}))}break;default:throw new Error("unsupported range expression type: ".concat(_typeof(value)))}return list}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this15=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else $link.wikiWithOptions({profile:"core"},this.args[0]),passage=this.args.length>1?this.args[1]:undefined;null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this15.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this16=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var options=[],tagCount={option:0,optionsfrom:0},selectedIdx=-1,_i5=1;_i5<len;++_i5){var payload=this.payload[_i5];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return this.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"));var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==selectedIdx)return this.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(selectedIdx+1," & #").concat(tagCount.option,")"));selectedIdx=options.length-1}}else{var _ret=function(){if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this16.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result=void 0;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this16.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}if("object"!==_typeof(result)||null===result)return{v:_this16.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=Util.toStringTag(result);if("Object"!==oType)return{v:_this16.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}();if("object"===_typeof(_ret))return _ret.v}}if(-1===selectedIdx)if(config.autoselect){var sameValueZero=Util.sameValueZero,curValue=State.getVar(varName),curValueIdx=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));selectedIdx=-1===curValueIdx?0:curValueIdx}else selectedIdx=0;if("cycle"===this.name){var lastIdx=options.length-1;if(config.once&&selectedIdx===lastIdx)jQuery(this.output).wikiWithOptions({profile:"core"},options[selectedIdx].label);else{var cycleIdx=selectedIdx;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},options[selectedIdx].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.createShadowWrapper((function(){var $this=$(this);cycleIdx=(cycleIdx+1)%options.length,State.setVar(varName,options[cycleIdx].value),$this.empty().wikiWithOptions({profile:"core"},options[cycleIdx].label),config.once&&cycleIdx===lastIdx&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(selectedIdx).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[selectedIdx].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this17=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper((function(){if("linkreplace"===_this17.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this17.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this17.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this17.name,"-in"))}),Engine.minDomActionDelay)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=Util.slugify(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.createShadowWrapper((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),checkValue=this.args[1],el=document.createElement("input");switch(TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=Util.slugify(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),this.args[i].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[i].passage),this.args[i].hasOwnProperty("title")&&$image.attr("title",this.args[i].title),this.args[i].hasOwnProperty("align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var passage,text,$image,$link,momentIndex=-1;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(passage=this.args[0].link)):(1===this.args[0].count||(text=this.args[0].text),passage=this.args[0].link):1===this.args.length&&(text=this.args[0])),null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),$image&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append($image||document.createTextNode(text||L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this18=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this18.name,"-in"))}),Engine.minDomActionDelay)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){var _this19=this;if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim(),oldFmtRe=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(id,this.args.slice(1).map((function(source){if(oldFmtRe.test(source)){if(Config.debug)return _this19.error('track ID "'.concat(id,'": format specifier migration required, "format:formatId;" → "formatId|"'));source=source.replace(oldFmtRe,"$1|")}return source})))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var playlist=Macro.get("playlist");if(null!==playlist.from&&"createplaylist"!==playlist.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"copy":case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="createplaylist"),Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{from:null,handler:function(){var list,args,action,from=this.self.from;if(null===from)return this.error("no playlists have been created");if("createplaylist"===from){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));list=SimpleAudio.lists.get(id),args=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");list=SimpleAudio.lists.get("setplaylist"),args=this.args.slice(0)}for(var fadeTo,loop,mute,shuffle,volume,fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var playlist=Macro.get("playlist");if(null!==playlist.from&&"setplaylist"!==playlist.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.createShadowWrapper((function(){return $.wiki(contents)})),Engine.minDomActionDelay)}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.minDomActionDelay):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this20=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this20.payload[0].contents);var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.minDomActionDelay)})),delay)},registerInterval:function(callback,delay){var _this21=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this21)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content);var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.minDomActionDelay)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName)){if(!Macro.get(widgetName).isWidget)return this.error('cannot clobber existing macro "'.concat(widgetName,'"'));Macro.delete(widgetName)}try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};State.temporary.hasOwnProperty("args")&&(shadowStore._args=State.temporary.args),State.temporary.args=_toConsumableArray(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,this.addShadow("_args"),isNonVoid&&(State.temporary.hasOwnProperty("contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),State.variables.hasOwnProperty("args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{shadowStore.hasOwnProperty("_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(shadowStore.hasOwnProperty("_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),shadowStore.hasOwnProperty("$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}})}();var Dialog=function(){var _$overlay=null,_$dialog=null,_$dialogTitle=null,_$dialogBody=null,_lastActive=null,_scrollbarWidth=0,_dialogObserver=null;function dialogClose(ev){return _$dialogBody.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),_dialogObserver?(_dialogObserver.disconnect(),_dialogObserver=null):_$dialogBody.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),_$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),_$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),_$dialogTitle.empty(),_$dialogBody.empty().removeClass(),null!==_lastActive&&(jQuery(_lastActive).focus(),_lastActive=null),ev&&ev.data&&"function"==typeof ev.data.closeFn&&ev.data.closeFn(ev),_$dialogBody.trigger(":dialogclose"),_$dialogBody.trigger(":dialogclosed"),Dialog}function dialogIsOpen(classNames){return _$dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return _$dialogBody.hasClass(cn)})))}function dialogOpen(options,closeFn){_$dialogBody.trigger(":dialogopening");var top=jQuery.extend({top:50},options).top;return dialogIsOpen()||(_lastActive=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),_$overlay.addClass("open"),null!==_$dialogBody[0].querySelector("img")&&_$dialogBody.imagesLoaded().always((function(){return _resizeHandler({data:{top:top}})})),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),_$dialog.css(_calcPosition(top)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),Has.mutationObserver?(_dialogObserver=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){_resizeHandler({data:{top:top}});break}}))).observe(_$dialogBody[0],{childList:!0,subtree:!0}):_$dialogBody.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),jQuery(document).one("click.dialog-close",".ui-close",{closeFn:closeFn},(function(ev){dialogClose(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||jQuery(this).trigger("click")})),_$dialogBody.trigger(":dialogopen"),_$dialogBody.trigger(":dialogopened"),Dialog}function _calcPosition(topPos){var top=null!=topPos?topPos:50,$parent=jQuery(window),dialogPos={left:"",right:"",top:"",bottom:""};_$dialog.css(dialogPos);var horzSpace=$parent.width()-_$dialog.outerWidth(!0)-1,vertSpace=$parent.height()-_$dialog.outerHeight(!0)-1;return horzSpace<=32+_scrollbarWidth&&(vertSpace-=_scrollbarWidth),vertSpace<=32+_scrollbarWidth&&(horzSpace-=_scrollbarWidth),dialogPos.left=dialogPos.right=horzSpace<=32?16:horzSpace/2>>0,dialogPos.top=vertSpace<=32?dialogPos.bottom=16:vertSpace/2>top?top:dialogPos.bottom=vertSpace/2>>0,Object.keys(dialogPos).forEach((function(key){""!==dialogPos[key]&&(dialogPos[key]+="px")})),dialogPos}function _resizeHandler(ev){var top=ev&&ev.data&&void 0!==ev.data.top?ev.data.top:50;"block"===_$dialog.css("display")&&(_$dialog.css({display:"none"}),_$dialog.css(jQuery.extend({display:""},_calcPosition(top))))}return Object.freeze(Object.defineProperties({},{append:{value:function(){var _$dialogBody2;return(_$dialogBody2=_$dialogBody).append.apply(_$dialogBody2,arguments),Dialog}},body:{value:function(){return _$dialogBody.get(0)}},close:{value:dialogClose},init:{value:function(){if(!document.getElementById("ui-dialog")){_scrollbarWidth=function(){var scrollbarWidth;try{var inner=document.createElement("p"),outer=document.createElement("div");inner.style.width="100%",inner.style.height="200px",outer.style.position="absolute",outer.style.left="0px",outer.style.top="0px",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),scrollbarWidth=w1-w2}catch(ex){}return scrollbarWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("close"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');_$overlay=jQuery($elems.find("#ui-overlay").get(0)),_$dialog=jQuery($elems.find("#ui-dialog").get(0)),_$dialogTitle=jQuery($elems.find("#ui-dialog-title").get(0)),_$dialogBody=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:dialogIsOpen},open:{value:dialogOpen},resize:{value:function(data){return _resizeHandler("object"===_typeof(data)?{data:data}:undefined)}},setup:{value:function(title,classNames){return _$dialogBody.empty().removeClass(),null!=classNames&&_$dialogBody.addClass(classNames),_$dialogTitle.empty().append((null!=title?String(title):"")||" "),_$dialogBody.get(0)}},wiki:{value:function(){var _$dialogBody3;return(_$dialogBody3=_$dialogBody).wiki.apply(_$dialogBody3,arguments),Dialog}},addClickHandler:{value:function(targets,options,startFn,doneFn,closeFn){return jQuery(targets).ariaClick((function(ev){ev.preventDefault(),"function"==typeof startFn&&startFn(ev),dialogOpen(options,closeFn),"function"==typeof doneFn&&doneFn(ev)}))}}}))}(),Engine=function(){var States=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),_initDebugViews=[],_state=States.Idle,_lastPlay=null,_outlinePatch=null,_updating=null;function engineGo(offset){var succeded=State.go(offset);return succeded&&engineShow(),succeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({type:":passageinit",passage:passage}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.title),document.body.className&&(document.body.className=""),_lastPlay=Util.now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.domId,"data-passage":passage.title,"data-tags":dataTags}).addClass("passage ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({type:":passagestart",content:passageEl,passage:passage}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:passageEl,passage:passage}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?_toConsumableArray(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(40,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).addClass("passage-in").appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),40),Story.has("StoryDisplayTitle")?null===_updating&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&passage.title!==Config.passages.start&&(document.title="".concat(passage.title," | ").concat(Story.title)),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({type:":passagedisplay",content:passageEl,passage:passage}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),null!==_updating?_updating.forEach((function(pair){jQuery(pair.element).empty(),new Wikifier(pair.element,Story.get(pair.passage).processText().trim())})):Config.ui.updateStoryElements&&UIBar.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));switch(jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":passage.tags.some((function(tag){return Config.saves.autosave.includes(tag)}))&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:passageEl,passage:passage}),_state=States.Idle,_lastPlay=Util.now(),passageEl}function _hideOutlines(){_outlinePatch.set("*:focus{outline:none;}")}return Object.freeze(Object.defineProperties({},{States:{value:States},minDomActionDelay:{value:40},init:{value:function(){var _lastOutlineEvent;jQuery("#init-no-js,#init-lacking").remove(),function(){var $elems=jQuery(document.createDocumentFragment()),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$elems.append(markup);var $passages=$elems.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end(),$elems.find("[data-init-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(el).empty().wiki(Story.get(passage).processText().trim())}));var updating=[];$elems.find("[data-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&updating.push({passage:passage,element:el})})),updating.length>0&&(_updating=updating),Config.ui.updateStoryElements=!1}else $elems.append('<div id="story" role="main"><div id="passages" aria-live="polite"></div></div>');$elems.insertBefore("body>script#script-sugarcube")}(),_outlinePatch=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),_hideOutlines(),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",(function(ev){ev.type!==_lastOutlineEvent&&(_lastOutlineEvent=ev.type,"keydown"===ev.type?_outlinePatch.clear():_hideOutlines())}))}},start:{value:function(){if(Story.getAllInit().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.title," [init-tagged]"),"".concat(passage.title," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.title," [init-tagged]"),"object"===_typeof(ex)?ex.message:ex)}})),Story.has("StoryInit"))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit","object"===_typeof(ex)?ex.message:ex)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(jQuery(document.documentElement).focus(),State.restore())engineShow();else{var loadStart=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(loadStart=!Save.autosave.load())}loadStart&&enginePlay(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(idx){var succeded=State.goTo(idx);return succeded&&engineShow(),succeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}}}))}(),Passage=(_tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function Passage(title,el){var _this22=this;_classCallCheck(this,Passage),Object.defineProperties(this,{title:{value:Util.unescape(title)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-".concat(Util.slugify(this.title))},classes:{value:Object.freeze(0===this.tags.length?[]:_this22.tags.filter((function(tag){return!_tagsToSkip.test(tag)})).map((function(tag){return Util.slugify(tag)})))}})}return _createClass(Passage,[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=Util.escapeMarkup(this.title),mesg="".concat(L10n.get("errorTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return this.element.textContent.replace(/\r/g,"")}},{key:"description",value:function(){var descriptions=Config.passages.descriptions;switch(_typeof(descriptions)){case"boolean":if(descriptions)return this.title;break;case"object":if(descriptions.hasOwnProperty(this.title))return descriptions[this.title];break;case"function":var result=descriptions.call(this);if(result)return result}return null===this._excerpt&&(this._excerpt=Passage.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),this._excerpt=Passage.getExcerptFromNode(frag),frag}}],[{key:"getExcerptFromNode",value:function(node,count){if(!node.hasChildNodes())return"";var excerpt=node.textContent.trim();if(""!==excerpt){var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})"));excerpt=excerpt.replace(/\s+/g," ").match(excerptRe)}return excerpt?"".concat(excerpt[1],"…"):"…"}},{key:"getExcerptFromText",value:function(text,count){if(""===text)return"";var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})")),excerpt=text.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(excerptRe);return excerpt?"".concat(excerpt[1],"…"):"…"}}]),Passage}()),_tagsToSkip,Save=function(){var Type=Util.toEnum({Autosave:"autosave",Disk:"disk",Serialize:"serialize",Slot:"slot"}),_slotsUBound=-1,_onLoadHandlers=new Set,_onSaveHandlers=new Set;function savesObjGet(){var saves=storage.get("saves");return null===saves?{autosave:null,slots:_appendSlots([],Config.saves.slots)}:saves}function savesObjClear(){return storage.delete("saves"),!0}function autosaveOk(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function slotsOk(){return"cookie"!==storage.name&&-1!==_slotsUBound}function slotsCount(){if(!slotsOk())return 0;for(var saves=savesObjGet(),count=0,i=0,iend=saves.slots.length;i<iend;++i)null!==saves.slots[i]&&++count;return count}function _appendSlots(array,num){for(var i=0;i<num;++i)array.push(null);return array}function _savesObjIsEmpty(saves){for(var slots=saves.slots,isSlotsEmpty=!0,i=0,iend=slots.length;i<iend;++i)if(null!==slots[i]){isSlotsEmpty=!1;break}return null===saves.autosave&&isSlotsEmpty}function _savesObjSave(saves){return _savesObjIsEmpty(saves)?(storage.delete("saves"),!0):storage.set("saves",saves)}function _savesObjUpdate(saveObj){if(null==saveObj||"object"!==_typeof(saveObj))return!1;var updated=!1;return saveObj.hasOwnProperty("state")&&saveObj.state.hasOwnProperty("delta")&&saveObj.state.hasOwnProperty("index")||(saveObj.hasOwnProperty("data")?(delete saveObj.mode,saveObj.state={delta:State.deltaEncode(saveObj.data)},delete saveObj.data):saveObj.state.hasOwnProperty("delta")?saveObj.state.hasOwnProperty("index")||delete saveObj.state.mode:(delete saveObj.state.mode,saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history),saveObj.state.index=saveObj.state.delta.length-1,updated=!0),saveObj.state.hasOwnProperty("rseed")&&(saveObj.state.seed=saveObj.state.rseed,delete saveObj.state.rseed,saveObj.state.delta.forEach((function(_,i,delta){delta[i].hasOwnProperty("rcount")&&(delta[i].pull=delta[i].rcount,delete delta[i].rcount)})),updated=!0),(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired||saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired&&delete saveObj.state.expired,(saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.expired=[],saveObj.state.hasOwnProperty("unique")&&(saveObj.state.expired.push(saveObj.state.unique),delete saveObj.state.unique),saveObj.state.hasOwnProperty("last")&&(saveObj.state.expired.push(saveObj.state.last),delete saveObj.state.last)),updated=!0),updated}function _marshal(supplemental,details){if(null!=supplemental&&"object"!==_typeof(supplemental))throw new Error("supplemental parameter must be an object");var saveObj=Object.assign({},supplemental,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(saveObj.version=Config.saves.version),_onSaveHandlers.forEach((function(fn){return fn(saveObj,details)})),saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history,saveObj}function _unmarshal(saveObj){try{if(_savesObjUpdate(saveObj),!saveObj||!saveObj.hasOwnProperty("id")||!saveObj.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(saveObj.state.history=State.deltaDecode(saveObj.state.delta),delete saveObj.state.delta,_onLoadHandlers.forEach((function(fn){return fn(saveObj)})),saveObj.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(saveObj.state),Engine.show()}catch(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("aborting"),".")),!1}return!0}return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return savesObjClear(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var saves=savesObjGet(),updated=!1;Array.isArray(saves)&&(saves={autosave:null,slots:saves},updated=!0),Config.saves.slots!==saves.slots.length&&(Config.saves.slots<saves.slots.length?(saves.slots.reverse(),saves.slots=saves.slots.filter((function(val){return!(null===val&&this.count>0)||(--this.count,!1)}),{count:saves.slots.length-Config.saves.slots}),saves.slots.reverse()):Config.saves.slots>saves.slots.length&&_appendSlots(saves.slots,Config.saves.slots-saves.slots.length),updated=!0),_savesObjUpdate(saves.autosave)&&(updated=!0);for(var i=0;i<saves.slots.length;++i)_savesObjUpdate(saves.slots[i])&&(updated=!0);return _savesObjIsEmpty(saves)&&(storage.delete("saves"),updated=!1),updated&&_savesObjSave(saves),_slotsUBound=saves.slots.length-1,!0}},get:{value:savesObjGet},clear:{value:savesObjClear},ok:{value:function(){return autosaveOk()||slotsOk()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:autosaveOk},has:{value:function(){return null!==savesObjGet().autosave}},get:{value:function(){return savesObjGet().autosave}},load:{value:function(){var saves=savesObjGet();return null!==saves.autosave&&_unmarshal(saves.autosave)}},save:{value:function(title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var saves=savesObjGet(),supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.autosave=_marshal(supplemental,{type:Type.Autosave}),_savesObjSave(saves)}},delete:{value:function(){var saves=savesObjGet();return saves.autosave=null,_savesObjSave(saves)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:slotsOk},length:{get:function(){return _slotsUBound+1}},isEmpty:{value:function(){return 0===slotsCount()}},count:{value:slotsCount},has:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])}},get:{value:function(slot){if(slot<0||slot>_slotsUBound)return null;var saves=savesObjGet();return slot>=saves.slots.length?null:saves.slots[slot]}},load:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])&&_unmarshal(saves.slots[slot])}},save:{value:function(slot,title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),!1;if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();if(slot>=saves.slots.length)return!1;var supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.slots[slot]=_marshal(supplemental,{type:Type.Slot}),_savesObjSave(saves)}},delete:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length)&&(saves.slots[slot]=null,_savesObjSave(saves))}}}))},export:{value:function(filename,metadata){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var str,now,MM,DD,hh,mm,ss,baseName=null==filename?Story.domId:(str=filename,Util.sanitizeFilename(str).replace(/[_\s\u2013\u2014-]+/g,"-")),saveName="".concat(baseName,"-").concat((now=new Date,MM=now.getMonth()+1,DD=now.getDate(),hh=now.getHours(),mm=now.getMinutes(),ss=now.getSeconds(),MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(now.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)),".save"),supplemental=null==metadata?{}:{metadata:metadata},saveObj=LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Disk})));saveAs(new Blob([saveObj],{type:"text/plain;charset=UTF-8"}),saveName)}else Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(event){var file=event.target.files[0],reader=new FileReader;jQuery(reader).one("loadend",(function(){if(reader.error){var ex=reader.error;UI.alert("".concat(L10n.get("errorSaveDiskLoadFailed").toUpperFirst()," (").concat(ex.name,": ").concat(ex.message,").</p><p>").concat(L10n.get("aborting"),"."))}else{var saveObj;try{saveObj=JSON.parse(/\.json$/i.test(file.name)||/^\{/.test(reader.result)?reader.result:LZString.decompressFromBase64(reader.result))}catch(ex){}_unmarshal(saveObj)}})),reader.readAsText(file)}},serialize:{value:function(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),null;var supplemental=null==metadata?{}:{metadata:metadata};return LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Serialize})))}},deserialize:{value:function(base64Str){var saveObj;try{saveObj=JSON.parse(LZString.decompressFromBase64(base64Str))}catch(ex){}return _unmarshal(saveObj)?saveObj.metadata:null}},onLoad:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));_onLoadHandlers.add(handler)}},clear:{value:function(){_onLoadHandlers.clear()}},delete:{value:function(handler){return _onLoadHandlers.delete(handler)}},size:{get:function(){return _onLoadHandlers.size}}}))},onSave:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));_onSaveHandlers.add(handler)}},clear:{value:function(){_onSaveHandlers.clear()}},delete:{value:function(handler){return _onSaveHandlers.delete(handler)}},size:{get:function(){return _onSaveHandlers.size}}}))}}))}(),Setting=function(){var Types=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),_definitions=[];function settingsCreate(){return Object.create(null)}function settingsSave(){var savedSettings=settingsCreate();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function settingsLoad(){var defaultSettings=settingsCreate(),loadedSettings=storage.get("settings")||settingsCreate();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),window.SugarCube.settings=settings=Object.assign(defaultSettings,loadedSettings)}function settingsClear(){return window.SugarCube.settings=settings=settingsCreate(),storage.delete("settings"),!0}function definitionsAdd(type,name,def){if(arguments.length<3){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),arguments.length<3&&errors.push("definition"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(definitionsHas(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name,label:"string"==typeof def.label?def.label.trim():""};if("string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.Toggle:definition.default=!!def.default;break;case Types.List:if(!def.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!def.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!def.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!def.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var stepValidate=function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min},fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(stepValidate(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function definitionsHas(name){return _definitions.some((function(definition){return definition.name===name}))}function definitionsGet(name){return _definitions.find((function(definition){return definition.name===name}))}return Object.freeze(Object.defineProperties({},{Types:{value:Types},init:{value:function(){if(storage.has("options")){var old=storage.get("options");null!==old&&(window.SugarCube.settings=settings=Object.assign(settingsCreate(),old)),settingsSave(),storage.delete("options")}settingsLoad(),_definitions.forEach((function(def){if(def.hasOwnProperty("onInit")){var thisArg={name:def.name,value:settings[def.name],default:def.default};def.hasOwnProperty("list")&&(thisArg.list=def.list),def.onInit.call(thisArg)}}))}},create:{value:settingsCreate},save:{value:settingsSave},load:{value:settingsLoad},clear:{value:settingsClear},reset:{value:function(name){if(0===arguments.length)settingsClear(),settingsLoad();else{if(null==name||!definitionsHas(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=definitionsGet(name);def.type!==Types.Header&&(settings[name]=def.default)}return settingsSave()}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},add:{value:definitionsAdd},addHeader:{value:function(name,desc){definitionsAdd(Types.Header,name,{desc:desc})}},addToggle:{value:function(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];definitionsAdd.apply(void 0,[Types.Toggle].concat(args))}},addList:{value:function(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];definitionsAdd.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];definitionsAdd.apply(void 0,[Types.Range].concat(args))}},isEmpty:{value:function(){return 0===_definitions.length}},has:{value:definitionsHas},get:{value:definitionsGet},delete:{value:function definitionsDelete(name){definitionsHas(name)&&delete settings[name];for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1),definitionsDelete(name);break}}}}))}(),Story=function(){var _passages={},_inits=[],_scripts=[],_styles=[],_widgets=[],_title="",_ifId="",_domId="";function _storySetTitle(rawTitle){if(null==rawTitle)throw new Error("story title must not be null or undefined");var title=Util.unescape(String(rawTitle)).trim();if(""===title)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=_title=title,""===(_domId=Util.slugify(_title)))if(""!==_ifId)_domId=_ifId;else for(var i=0,len=_title.length;i<len;++i){var _Util$charAndPosAt2=Util.charAndPosAt(_title,i),char=_Util$charAndPosAt2.char,start=_Util$charAndPosAt2.start,end=_Util$charAndPosAt2.end;_domId+=char.codePointAt(0).toString(16),i+=end-start}}return Object.freeze(Object.defineProperties({},{load:{value:function(){var validationCodeTags=["init","widget"],validationNoCodeTagPassages=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];function validateStartingPassage(passage){if(passage.tags.includesAny(validationCodeTags))throw new Error('starting passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(passage.tags.filter((function(tag){return validationCodeTags.includes(tag)})).sort().join('", "'),'"'))}function validateSpecialPassages(passage){if(validationNoCodeTagPassages.includes(passage.title)){for(var _len19=arguments.length,tags=new Array(_len19>1?_len19-1:0),_key19=1;_key19<_len19;_key19++)tags[_key19-1]=arguments[_key19];throw new Error('special passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(tags.sort().join('", "'),'"'))}var codeTags=[].concat(validationCodeTags),foundTags=[];if(passage.tags.forEach((function(tag){codeTags.includes(tag)&&foundTags.push.apply(foundTags,_toConsumableArray(codeTags.delete(tag)))})),foundTags.length>1)throw new Error('passage "'.concat(passage.title,'" contains multiple special tags; invalid: "').concat(foundTags.sort().join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.title,validateStartingPassage(passage),_passages[passage.title]=passage):passage.tags.includes("init")?(validateSpecialPassages(passage,"init"),_inits.push(passage)):passage.tags.includes("widget")?(validateSpecialPassages(passage,"widget"),_widgets.push(passage)):_passages[passage.title]=passage})),_ifId=$storydata.attr("ifid"),_storySetTitle("Jessica&#39;s Plight"),Config.saves.id=Story.domId}},init:{value:function(){var storyStyle;storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(_styles.map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var i=0;i<_scripts.length;++i)try{Scripting.evalJavaScript(_scripts[i].text)}catch(ex){console.error(ex),Alert.error(_scripts[i].title,"object"===_typeof(ex)?ex.message:ex)}for(var _i8=0;_i8<_widgets.length;++_i8)try{Wikifier.wikifyEval(_widgets[_i8].processText())}catch(ex){console.error(ex),Alert.error(_widgets[_i8].title,"object"===_typeof(ex)?ex.message:ex)}}},title:{get:function(){return _title}},domId:{get:function(){return _domId}},ifId:{get:function(){return _ifId}},add:{value:function(passage){if(!(passage instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var title=passage.title;return!_passages.hasOwnProperty(title)&&(_passages[title]=passage,!0)}},has:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":return _passages.hasOwnProperty(String(title));case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has title parameter cannot be ".concat(type))}},get:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":var id=String(title);return _passages.hasOwnProperty(id)?_passages[id]:new Passage(id||"(unknown)");case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get title parameter cannot be ".concat(type))}},getAllInit:{value:function(){return Object.freeze(Array.from(_inits))}},getAllRegular:{value:function(){return Object.freeze(Object.assign({},_passages))}},getAllScript:{value:function(){return Object.freeze(Array.from(_scripts))}},getAllStylesheet:{value:function(){return Object.freeze(Array.from(_styles))}},getAllWidget:{value:function(){return Object.freeze(Array.from(_widgets))}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return Util.sameValueZero(m,value)}))&&results.push(passage):Util.sameValueZero(passage[key],value)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof predicate)throw new TypeError("Story.lookupWith predicate parameter must be a function");var results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];predicate(passage)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}}}))}(),UI=function(){function uiAssembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug,cleanState=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim());var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.cleanupWikifierOutput=cleanState,Config.debug=debugState}return list}function uiOpenAlert(message){jQuery(Dialog.setup(L10n.get("alertTitle"),"alert")).append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertOk","ok"]),"</button></li>")+"</ul>");for(var _len20=arguments.length,args=new Array(_len20>1?_len20-1:0),_key20=1;_key20<_len20;_key20++)args[_key20-1]=arguments[_key20];Dialog.open.apply(Dialog,args)}function uiBuildAutoload(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>".concat(L10n.get("autoloadPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadOk","ok"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadCancel","cancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){isAutoloadOk&&Save.autosave.load()||Engine.play(Config.passages.start)}))})),!0}function uiBuildJumpto(){var list=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(idx){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(idx)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("jumptoTurn")," ").concat(expired+i+1,": ").concat(passage.description()))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoUnavailable"),"</em></a></li>"))}function uiBuildRestart(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>".concat(L10n.get("restartPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartOk","ok"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartCancel","cancel"]),"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function uiBuildSaves(){var savesAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed();function createActionItem(bId,bClass,bText,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId)).html(bText);return bClass&&$btn.addClass(bClass),bAction?$btn.ariaClick(bAction):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var $dialogBody=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),savesOk=Save.ok(),fileOk=Has.fileAPI&&(Config.saves.tryDiskOnMobile||!Browser.isMobile.any());if(savesOk&&$dialogBody.append(function(){function createButton(bId,bClass,bText,bSlot,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId,"-").concat(bSlot)).addClass(bId).html(bText);return bClass&&$btn.addClass(bClass),bAction?"auto"===bSlot?$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelAuto"))},(function(){return bAction()})):$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelSlot")," ").concat(bSlot+1)},(function(){return bAction(bSlot)})):$btn.ariaDisabled(!0),$btn}var saves=Save.get(),$tbody=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var $tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo($tdSlot),saves.autosave?($tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),"auto",(function(){jQuery(document).one(":dialogclosed",(function(){return Save.autosave.load()}))}))),jQuery(document.createElement("div")).text(saves.autosave.title).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.autosave.date?"".concat(new Date(saves.autosave.date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo($tdDesc),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto",(function(){Save.autosave.delete(),uiBuildSaves()})))):($tdLoad.append(createButton("load",null,L10n.get("savesLabelLoad"),"auto")),$tdDesc.addClass("empty").text("•  •  •"),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}for(var i=0,iend=saves.slots.length;i<iend;++i){var _$tdSlot=jQuery(document.createElement("td")),_$tdLoad=jQuery(document.createElement("td")),_$tdDesc=jQuery(document.createElement("td")),_$tdDele=jQuery(document.createElement("td"));_$tdSlot.append(document.createTextNode(i+1)),saves.slots[i]?(_$tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),i,(function(slot){jQuery(document).one(":dialogclosed",(function(){return Save.slots.load(slot)}))}))),jQuery(document.createElement("div")).text(saves.slots[i].title).appendTo(_$tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.slots[i].date?"".concat(new Date(saves.slots[i].date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo(_$tdDesc),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i,(function(slot){Save.slots.delete(slot),uiBuildSaves()})))):(_$tdLoad.append(createButton("save","ui-close",L10n.get("savesLabelSave"),i,savesAllowed?Save.slots.save:null)),_$tdDesc.addClass("empty").text("•  •  •"),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i))),jQuery(document.createElement("tr")).append(_$tdSlot).append(_$tdLoad).append(_$tdDesc).append(_$tdDele).appendTo($tbody)}return jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}()),savesOk||fileOk){var $btnBar=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody);return fileOk&&($btnBar.append(createActionItem("export","ui-close",L10n.get("savesLabelExport"),savesAllowed?function(){return Save.export()}:null)),$btnBar.append(createActionItem("import",null,L10n.get("savesLabelImport"),(function(){return $dialogBody.find("#saves-import-file").trigger("click")}))),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",(function(ev){jQuery(document).one(":dialogclosed",(function(){return Save.import(ev)})),Dialog.close()})).appendTo($dialogBody)),savesOk&&$btnBar.append(createActionItem("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),uiBuildSaves()}:null)),!0}return uiOpenAlert(L10n.get("savesIncapable")),!1}function uiBuildSettings(){var $dialogBody=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach((function(control){if(control.type===Setting.Types.Header){var _name=control.name,_id=Util.slugify(_name),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id)).wiki(_name),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id)).wiki(control.desc).appendTo($header))}var $control,name=control.name,id=Util.slugify(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wiki(control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wiki(control.label),null==settings[name]&&(settings[name]=control.default),control.type){case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),settings[name]?$control.addClass("enabled").text(L10n.get("settingsOn")):$control.text(L10n.get("settingsOff")),$control.ariaClick((function(){settings[name]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[name]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[name]=!0),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default})}));break;case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(settings[name])).attr("tabindex",0).on("change",(function(){settings[name]=control.list[Number(this.value)],Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,list:control.list})}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:settings[name],tabindex:0}).on("change input",(function(){settings[name]=Number(this.value),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,min:control.min,max:control.max,step:control.step})})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$control.trigger("change"))}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsOk","ok"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function uiBuildShare(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(uiAssembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:uiAssembleLinkList},alert:{value:uiOpenAlert},jumpto:{value:function(){uiBuildJumpto(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){uiBuildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){uiBuildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){uiBuildSettings(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){uiBuildShare(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:uiBuildAutoload},buildJumpto:{value:uiBuildJumpto},buildRestart:{value:uiBuildRestart},buildSaves:{value:uiBuildSaves},buildSettings:{value:uiBuildSettings},buildShare:{value:uiBuildShare},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:uiBuildAutoload},buildDialogJumpto:{value:uiBuildJumpto},buildDialogRestart:{value:uiBuildRestart},buildDialogSaves:{value:uiBuildSaves},buildDialogSettings:{value:uiBuildSettings},buildDialogShare:{value:uiBuildShare},buildLinkListFromPassage:{value:uiAssembleLinkList}}))}(),UIBar=function(){var _$uiBar=null;function uiBarStow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay));return this}function uiBarUpdate(){if(Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),_$uiBar){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var menuStory=document.getElementById("menu-story");if(null!==menuStory&&(jQuery(menuStory).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",menuStory)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}}return Object.freeze(Object.defineProperties({},{destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarToggle"),backwardLabel=L10n.get("uiBarBackward"),jumptoLabel=L10n.get("uiBarJumpto"),forwardLabel=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),this}},start:{value:function(){_$uiBar&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&uiBarStow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},(function(){return Engine.backward()})),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||uiBarUpdate(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:uiBarStow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay)),this}},update:{value:uiBarUpdate},setStoryElements:{value:uiBarUpdate}}))}(),DebugBar=function(){var _variableRe=new RegExp("^".concat(Patterns.variable,"$")),_numericKeyRe=/^\d+$/,_watchList=[],_$debugBar=null,_$watchBody=null,_$watchList=null,_$turnSelect=null,_stowed=!0;function debugBarStow(){_$debugBar.css("right","-".concat(_$debugBar.outerWidth(),"px")),_stowed=!0,_updateSession()}function debugBarUnstow(){_$debugBar.css("right",0),_stowed=!1,_updateSession()}function debugBarToggle(){_stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){_variableRe.test(varName)&&(_watchList.pushUnique(varName),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return _watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return _watchList.pushUnique("_".concat(name))})),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchClear(){for(var i=_watchList.length-1;i>=0;--i)_watchList.pop();_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDelete(varName){_watchList.delete(varName),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDisable(){_debugBarWatchDisableNoUpdate(),_updateSession()}function debugBarWatchEnable(){_debugBarWatchEnableNoUpdate(),_updateSession()}function debugBarWatchIsEnabled(){return!_$watchBody.attr("hidden")}function debugBarWatchToggle(){_$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function _debugBarWatchDisableNoUpdate(){_$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function _debugBarWatchEnableNoUpdate(){_$watchBody.removeAttr("aria-hidden hidden")}function _clearSession(){session.delete("debugState")}function _hasSession(){return session.has("debugState")}function _updateSession(){session.set("debugState",{stowed:_stowed,watchList:_watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function _updateWatchBody(){if(0!==_watchList.length){for(var delLabel=L10n.get("debugBarDeleteWatch"),$table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),_loop4=function(i,len){var varName=_watchList[i],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary,$row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));$delBtn.addClass("watch-delete").attr("data-name",varName).ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(_toWatchString(store[varKey])),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row.appendTo($tbody)},i=0,len=_watchList.length;i<len;++i)_loop4(i);$table.append($tbody),_$watchBody.empty().append($table)}else _$watchBody.empty().append("<div>".concat(L10n.get("debugBarNoWatches"),"</div>"))}function _updateWatchList(){var svn=Object.keys(State.variables),tvn=Object.keys(State.temporary);if(0!==svn.length||0!==tvn.length){var names=[].concat(_toConsumableArray(svn.map((function(name){return"$".concat(name)}))),_toConsumableArray(tvn.map((function(name){return"_".concat(name)})))).sort(),options=document.createDocumentFragment();names.delete(_watchList);for(var i=0,len=names.length;i<len;++i)jQuery(document.createElement("option")).val(names[i]).appendTo(options);_$watchList.empty().append(options)}else _$watchList.empty()}function _updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(Util.escape(State.history[i].title))).appendTo(options);_$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function _toWatchString(value){if(null===value)return"null";switch(_typeof(value)){case"number":if(Number.isNaN(value))return"NaN";if(!Number.isFinite(value))return"Infinity";case"boolean":case"symbol":case"undefined":return String(value);case"string":return JSON.stringify(value);case"function":return"Function"}var objType=Util.toStringTag(value);if("Date"===objType)return"Date {".concat(value.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(value.toString());var result=[];if(value instanceof Array||value instanceof Set){for(var list=value instanceof Array?value:Array.from(value),i=0,len=list.length;i<len;++i)result.push(list.hasOwnProperty(i)?_toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!_numericKeyRe.test(key)})).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return value instanceof Map?(value.forEach((function(val,key){return result.push("".concat(_toWatchString(key)," → ").concat(_toWatchString(val)))})),"".concat(objType,"(").concat(value.size,") {").concat(result.join(", "),"}")):(Object.keys(value).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(value[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.freeze(Object.defineProperties({},{init:{value:function(){var barToggleLabel=L10n.get("debugBarToggle"),watchAddLabel=L10n.get("debugBarAddWatch"),watchAllLabel=L10n.get("debugBarWatchAll"),watchNoneLabel=L10n.get("debugBarWatchNone"),watchToggleLabel=L10n.get("debugBarWatchToggle"),viewsToggleLabel=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>".concat(L10n.get("debugBarNoWatches"),"</div>>")+"</div><div>"+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarLabelWatch"),"</button>")+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarLabelAdd"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-none" tabindex="0" title="'.concat(watchNoneLabel,'" aria-label="').concat(watchNoneLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarLabelViews"),"</button>")+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("debugBarLabelTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div>'+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),_$debugBar=jQuery("#debug-bar"),_$watchBody=jQuery(_$debugBar.find("#debug-bar-watch").get(0)),_$watchList=jQuery(_$debugBar.find("#debug-bar-watch-list").get(0)),_$turnSelect=jQuery(_$debugBar.find("#debug-bar-turn-select").get(0));var $barToggle=jQuery(_$debugBar.find("#debug-bar-toggle").get(0)),$watchToggle=jQuery(_$debugBar.find("#debug-bar-watch-toggle").get(0)),$watchInput=jQuery(_$debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery(_$debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery(_$debugBar.find("#debug-bar-watch-all").get(0)),$watchNone=jQuery(_$debugBar.find("#debug-bar-watch-none").get(0)),$viewsToggle=jQuery(_$debugBar.find("#debug-bar-views-toggle").get(0));$barToggle.ariaClick(debugBarToggle),$watchToggle.ariaClick(debugBarWatchToggle),$watchInput.on(":addwatch",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$watchInput.trigger(":addwatch"))})),$watchAdd.ariaClick((function(){return $watchInput.trigger(":addwatch")})),$watchAll.ariaClick(debugBarWatchAddAll),$watchNone.ariaClick(debugBarWatchClear),_$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$viewsToggle.ariaClick((function(){DebugView.toggle(),_updateSession()})),jQuery(document).on(":historyupdate.debug-bar",_updateTurnSelect).on(":passageend.debug-bar",(function(){_updateWatchBody(),_updateWatchList()})).on(":enginerestart.debug-bar",_clearSession),_hasSession()||DebugView.enable()}},isStowed:{value:function(){return _stowed}},start:{value:function(){(function(){if(!_hasSession())return!1;var debugState=session.get("debugState");_stowed=debugState.stowed,_watchList.push.apply(_watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?_debugBarWatchEnableNoUpdate():_debugBarWatchDisableNoUpdate();debugState.viewsEnabled?DebugView.enable():DebugView.disable()})(),_stowed?debugBarStow():debugBarUnstow(),_updateTurnSelect(),_updateWatchBody(),_updateWatchList()}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.minDomActionDelay,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:36,patch:1,prerelease:null,build:9717,date:new Date("2021-12-22T05:37:33.467Z"),extensions:{},toString:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)},short:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.title," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")},long:function(){return"".concat(this.title," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery((function(){try{var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var $window=$(window),vprCheckId=setInterval((function(){$window.width()&&(clearInterval(vprCheckId),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.minDomActionDelay))}),Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
